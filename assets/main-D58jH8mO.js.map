{"version":3,"file":"main-D58jH8mO.js","sources":["../../node_modules/three/examples/jsm/objects/Water.js","../../node_modules/three/examples/jsm/objects/Sky.js","../../src/main.js"],"sourcesContent":["import {\n\tColor,\n\tFrontSide,\n\tMatrix4,\n\tMesh,\n\tPerspectiveCamera,\n\tPlane,\n\tShaderMaterial,\n\tUniformsLib,\n\tUniformsUtils,\n\tVector3,\n\tVector4,\n\tWebGLRenderTarget\n} from 'three';\n\n/**\n * Work based on :\n * https://github.com/Slayvin: Flat mirror for three.js\n * https://home.adelphi.edu/~stemkoski/ : An implementation of water shader based on the flat mirror\n * http://29a.ch/ && http://29a.ch/slides/2012/webglwater/ : Water shader explanations in WebGL\n */\n\nclass Water extends Mesh {\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tsuper( geometry );\n\n\t\tthis.isWater = true;\n\n\t\tconst scope = this;\n\n\t\tconst textureWidth = options.textureWidth !== undefined ? options.textureWidth : 512;\n\t\tconst textureHeight = options.textureHeight !== undefined ? options.textureHeight : 512;\n\n\t\tconst clipBias = options.clipBias !== undefined ? options.clipBias : 0.0;\n\t\tconst alpha = options.alpha !== undefined ? options.alpha : 1.0;\n\t\tconst time = options.time !== undefined ? options.time : 0.0;\n\t\tconst normalSampler = options.waterNormals !== undefined ? options.waterNormals : null;\n\t\tconst sunDirection = options.sunDirection !== undefined ? options.sunDirection : new Vector3( 0.70707, 0.70707, 0.0 );\n\t\tconst sunColor = new Color( options.sunColor !== undefined ? options.sunColor : 0xffffff );\n\t\tconst waterColor = new Color( options.waterColor !== undefined ? options.waterColor : 0x7F7F7F );\n\t\tconst eye = options.eye !== undefined ? options.eye : new Vector3( 0, 0, 0 );\n\t\tconst distortionScale = options.distortionScale !== undefined ? options.distortionScale : 20.0;\n\t\tconst side = options.side !== undefined ? options.side : FrontSide;\n\t\tconst fog = options.fog !== undefined ? options.fog : false;\n\n\t\t//\n\n\t\tconst mirrorPlane = new Plane();\n\t\tconst normal = new Vector3();\n\t\tconst mirrorWorldPosition = new Vector3();\n\t\tconst cameraWorldPosition = new Vector3();\n\t\tconst rotationMatrix = new Matrix4();\n\t\tconst lookAtPosition = new Vector3( 0, 0, - 1 );\n\t\tconst clipPlane = new Vector4();\n\n\t\tconst view = new Vector3();\n\t\tconst target = new Vector3();\n\t\tconst q = new Vector4();\n\n\t\tconst textureMatrix = new Matrix4();\n\n\t\tconst mirrorCamera = new PerspectiveCamera();\n\n\t\tconst renderTarget = new WebGLRenderTarget( textureWidth, textureHeight );\n\n\t\tconst mirrorShader = {\n\n\t\t\tname: 'MirrorShader',\n\n\t\t\tuniforms: UniformsUtils.merge( [\n\t\t\t\tUniformsLib[ 'fog' ],\n\t\t\t\tUniformsLib[ 'lights' ],\n\t\t\t\t{\n\t\t\t\t\t'normalSampler': { value: null },\n\t\t\t\t\t'mirrorSampler': { value: null },\n\t\t\t\t\t'alpha': { value: 1.0 },\n\t\t\t\t\t'time': { value: 0.0 },\n\t\t\t\t\t'size': { value: 1.0 },\n\t\t\t\t\t'distortionScale': { value: 20.0 },\n\t\t\t\t\t'textureMatrix': { value: new Matrix4() },\n\t\t\t\t\t'sunColor': { value: new Color( 0x7F7F7F ) },\n\t\t\t\t\t'sunDirection': { value: new Vector3( 0.70707, 0.70707, 0 ) },\n\t\t\t\t\t'eye': { value: new Vector3() },\n\t\t\t\t\t'waterColor': { value: new Color( 0x555555 ) }\n\t\t\t\t}\n\t\t\t] ),\n\n\t\t\tvertexShader: /* glsl */`\n\t\t\t\tuniform mat4 textureMatrix;\n\t\t\t\tuniform float time;\n\n\t\t\t\tvarying vec4 mirrorCoord;\n\t\t\t\tvarying vec4 worldPosition;\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_vertex>\n\t\t\t\t#include <shadowmap_pars_vertex>\n\t\t\t\t#include <logdepthbuf_pars_vertex>\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\n\t\t\t\t\tworldPosition = mirrorCoord.xyzw;\n\t\t\t\t\tmirrorCoord = textureMatrix * mirrorCoord;\n\t\t\t\t\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\t#include <beginnormal_vertex>\n\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t#include <fog_vertex>\n\t\t\t\t#include <shadowmap_vertex>\n\t\t\t}`,\n\n\t\t\tfragmentShader: /* glsl */`\n\t\t\t\tuniform sampler2D mirrorSampler;\n\t\t\t\tuniform float alpha;\n\t\t\t\tuniform float time;\n\t\t\t\tuniform float size;\n\t\t\t\tuniform float distortionScale;\n\t\t\t\tuniform sampler2D normalSampler;\n\t\t\t\tuniform vec3 sunColor;\n\t\t\t\tuniform vec3 sunDirection;\n\t\t\t\tuniform vec3 eye;\n\t\t\t\tuniform vec3 waterColor;\n\n\t\t\t\tvarying vec4 mirrorCoord;\n\t\t\t\tvarying vec4 worldPosition;\n\n\t\t\t\tvec4 getNoise( vec2 uv ) {\n\t\t\t\t\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n\t\t\t\t\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n\t\t\t\t\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n\t\t\t\t\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n\t\t\t\t\tvec4 noise = texture2D( normalSampler, uv0 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv1 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv2 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv3 );\n\t\t\t\t\treturn noise * 0.5 - 1.0;\n\t\t\t\t}\n\n\t\t\t\tvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n\t\t\t\t\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n\t\t\t\t\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\n\t\t\t\t\tspecularColor += pow( direction, shiny ) * sunColor * spec;\n\t\t\t\t\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n\t\t\t\t}\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <packing>\n\t\t\t\t#include <bsdfs>\n\t\t\t\t#include <fog_pars_fragment>\n\t\t\t\t#include <logdepthbuf_pars_fragment>\n\t\t\t\t#include <lights_pars_begin>\n\t\t\t\t#include <shadowmap_pars_fragment>\n\t\t\t\t#include <shadowmask_pars_fragment>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <logdepthbuf_fragment>\n\t\t\t\t\tvec4 noise = getNoise( worldPosition.xz * size );\n\t\t\t\t\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n\t\t\t\t\tvec3 diffuseLight = vec3(0.0);\n\t\t\t\t\tvec3 specularLight = vec3(0.0);\n\n\t\t\t\t\tvec3 worldToEye = eye-worldPosition.xyz;\n\t\t\t\t\tvec3 eyeDirection = normalize( worldToEye );\n\t\t\t\t\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n\t\t\t\t\tfloat distance = length(worldToEye);\n\n\t\t\t\t\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\n\t\t\t\t\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );\n\n\t\t\t\t\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n\t\t\t\t\tfloat rf0 = 0.3;\n\t\t\t\t\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n\t\t\t\t\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n\t\t\t\t\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);\n\t\t\t\t\tvec3 outgoingLight = albedo;\n\t\t\t\t\tgl_FragColor = vec4( outgoingLight, alpha );\n\n\t\t\t\t\t#include <tonemapping_fragment>\n\t\t\t\t\t#include <colorspace_fragment>\n\t\t\t\t\t#include <fog_fragment>\t\n\t\t\t\t}`\n\n\t\t};\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: mirrorShader.name,\n\t\t\tuniforms: UniformsUtils.clone( mirrorShader.uniforms ),\n\t\t\tvertexShader: mirrorShader.vertexShader,\n\t\t\tfragmentShader: mirrorShader.fragmentShader,\n\t\t\tlights: true,\n\t\t\tside: side,\n\t\t\tfog: fog\n\t\t} );\n\n\t\tmaterial.uniforms[ 'mirrorSampler' ].value = renderTarget.texture;\n\t\tmaterial.uniforms[ 'textureMatrix' ].value = textureMatrix;\n\t\tmaterial.uniforms[ 'alpha' ].value = alpha;\n\t\tmaterial.uniforms[ 'time' ].value = time;\n\t\tmaterial.uniforms[ 'normalSampler' ].value = normalSampler;\n\t\tmaterial.uniforms[ 'sunColor' ].value = sunColor;\n\t\tmaterial.uniforms[ 'waterColor' ].value = waterColor;\n\t\tmaterial.uniforms[ 'sunDirection' ].value = sunDirection;\n\t\tmaterial.uniforms[ 'distortionScale' ].value = distortionScale;\n\n\t\tmaterial.uniforms[ 'eye' ].value = eye;\n\n\t\tscope.material = material;\n\n\t\tscope.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\tmirrorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\n\t\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\trotationMatrix.extractRotation( scope.matrixWorld );\n\n\t\t\tnormal.set( 0, 0, 1 );\n\t\t\tnormal.applyMatrix4( rotationMatrix );\n\n\t\t\tview.subVectors( mirrorWorldPosition, cameraWorldPosition );\n\n\t\t\t// Avoid rendering when mirror is facing away\n\n\t\t\tif ( view.dot( normal ) > 0 ) return;\n\n\t\t\tview.reflect( normal ).negate();\n\t\t\tview.add( mirrorWorldPosition );\n\n\t\t\trotationMatrix.extractRotation( camera.matrixWorld );\n\n\t\t\tlookAtPosition.set( 0, 0, - 1 );\n\t\t\tlookAtPosition.applyMatrix4( rotationMatrix );\n\t\t\tlookAtPosition.add( cameraWorldPosition );\n\n\t\t\ttarget.subVectors( mirrorWorldPosition, lookAtPosition );\n\t\t\ttarget.reflect( normal ).negate();\n\t\t\ttarget.add( mirrorWorldPosition );\n\n\t\t\tmirrorCamera.position.copy( view );\n\t\t\tmirrorCamera.up.set( 0, 1, 0 );\n\t\t\tmirrorCamera.up.applyMatrix4( rotationMatrix );\n\t\t\tmirrorCamera.up.reflect( normal );\n\t\t\tmirrorCamera.lookAt( target );\n\n\t\t\tmirrorCamera.far = camera.far; // Used in WebGLBackground\n\n\t\t\tmirrorCamera.updateMatrixWorld();\n\t\t\tmirrorCamera.projectionMatrix.copy( camera.projectionMatrix );\n\n\t\t\t// Update the texture matrix\n\t\t\ttextureMatrix.set(\n\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t);\n\t\t\ttextureMatrix.multiply( mirrorCamera.projectionMatrix );\n\t\t\ttextureMatrix.multiply( mirrorCamera.matrixWorldInverse );\n\n\t\t\t// Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n\t\t\t// Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n\t\t\tmirrorPlane.setFromNormalAndCoplanarPoint( normal, mirrorWorldPosition );\n\t\t\tmirrorPlane.applyMatrix4( mirrorCamera.matrixWorldInverse );\n\n\t\t\tclipPlane.set( mirrorPlane.normal.x, mirrorPlane.normal.y, mirrorPlane.normal.z, mirrorPlane.constant );\n\n\t\t\tconst projectionMatrix = mirrorCamera.projectionMatrix;\n\n\t\t\tq.x = ( Math.sign( clipPlane.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\n\t\t\tq.y = ( Math.sign( clipPlane.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\n\t\t\tq.z = - 1.0;\n\t\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\n\n\t\t\t// Calculate the scaled plane vector\n\t\t\tclipPlane.multiplyScalar( 2.0 / clipPlane.dot( q ) );\n\n\t\t\t// Replacing the third row of the projection matrix\n\t\t\tprojectionMatrix.elements[ 2 ] = clipPlane.x;\n\t\t\tprojectionMatrix.elements[ 6 ] = clipPlane.y;\n\t\t\tprojectionMatrix.elements[ 10 ] = clipPlane.z + 1.0 - clipBias;\n\t\t\tprojectionMatrix.elements[ 14 ] = clipPlane.w;\n\n\t\t\teye.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\t// Render\n\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\t\tconst currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n\n\t\t\tscope.visible = false;\n\n\t\t\trenderer.xr.enabled = false; // Avoid camera modification and recursion\n\t\t\trenderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\n\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.state.buffers.depth.setMask( true ); // make sure the depth buffer is writable so it can be properly cleared, see #18897\n\n\t\t\tif ( renderer.autoClear === false ) renderer.clear();\n\t\t\trenderer.render( scene, mirrorCamera );\n\n\t\t\tscope.visible = true;\n\n\t\t\trenderer.xr.enabled = currentXrEnabled;\n\t\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t// Restore viewport\n\n\t\t\tconst viewport = camera.viewport;\n\n\t\t\tif ( viewport !== undefined ) {\n\n\t\t\t\trenderer.state.viewport( viewport );\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n}\n\nexport { Water };\n","import {\n\tBackSide,\n\tBoxGeometry,\n\tMesh,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector3\n} from 'three';\n\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://simonwallner.at/project/atmospheric-scattering/\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nclass Sky extends Mesh {\n\n\tconstructor() {\n\n\t\tconst shader = Sky.SkyShader;\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: shader.name,\n\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false\n\t\t} );\n\n\t\tsuper( new BoxGeometry( 1, 1, 1 ), material );\n\n\t\tthis.isSky = true;\n\n\t}\n\n}\n\nSky.SkyShader = {\n\n\tname: 'SkyShader',\n\n\tuniforms: {\n\t\t'turbidity': { value: 2 },\n\t\t'rayleigh': { value: 1 },\n\t\t'mieCoefficient': { value: 0.005 },\n\t\t'mieDirectionalG': { value: 0.8 },\n\t\t'sunPosition': { value: new Vector3() },\n\t\t'up': { value: new Vector3( 0, 1, 0 ) }\n\t},\n\n\tvertexShader: /* glsl */`\n\t\tuniform vec3 sunPosition;\n\t\tuniform float rayleigh;\n\t\tuniform float turbidity;\n\t\tuniform float mieCoefficient;\n\t\tuniform vec3 up;\n\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float e = 2.71828182845904523536028747135266249775724709369995957;\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\t// wavelength of used primaries, according to preetham\n\t\tconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n\t\t// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n\t\t// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n\t\tconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n\t\t// mie stuff\n\t\t// K coefficient for the primaries\n\t\tconst float v = 4.0;\n\t\tconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n\t\t// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n\t\tconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n\t\t// earth shadow hack\n\t\t// cutoffAngle = pi / 1.95;\n\t\tconst float cutoffAngle = 1.6110731556870734;\n\t\tconst float steepness = 1.5;\n\t\tconst float EE = 1000.0;\n\n\t\tfloat sunIntensity( float zenithAngleCos ) {\n\t\t\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n\t\t\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n\t\t}\n\n\t\tvec3 totalMie( float T ) {\n\t\t\tfloat c = ( 0.2 * T ) * 10E-18;\n\t\t\treturn 0.434 * c * MieConst;\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvWorldPosition = worldPosition.xyz;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n\t\t\tvSunDirection = normalize( sunPosition );\n\n\t\t\tvSunE = sunIntensity( dot( vSunDirection, up ) );\n\n\t\t\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n\t\t\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n\t\t\t// extinction (absorbtion + out scattering)\n\t\t\t// rayleigh coefficients\n\t\t\tvBetaR = totalRayleigh * rayleighCoefficient;\n\n\t\t\t// mie coefficients\n\t\t\tvBetaM = totalMie( turbidity ) * mieCoefficient;\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\tuniform float mieDirectionalG;\n\t\tuniform vec3 up;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\tconst float n = 1.0003; // refractive index of air\n\t\tconst float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n\t\t// optical length at zenith for molecules\n\t\tconst float rayleighZenithLength = 8.4E3;\n\t\tconst float mieZenithLength = 1.25E3;\n\t\t// 66 arc seconds -> degrees, and the cosine of that\n\t\tconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n\t\t// 3.0 / ( 16.0 * pi )\n\t\tconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n\t\t// 1.0 / ( 4.0 * pi )\n\t\tconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\n\t\tfloat rayleighPhase( float cosTheta ) {\n\t\t\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n\t\t}\n\n\t\tfloat hgPhase( float cosTheta, float g ) {\n\t\t\tfloat g2 = pow( g, 2.0 );\n\t\t\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n\t\t\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec3 direction = normalize( vWorldPosition - cameraPosition );\n\n\t\t\t// optical length\n\t\t\t// cutoff angle at 90 to avoid singularity in next formula.\n\t\t\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n\t\t\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n\t\t\tfloat sR = rayleighZenithLength * inverse;\n\t\t\tfloat sM = mieZenithLength * inverse;\n\n\t\t\t// combined extinction factor\n\t\t\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n\t\t\t// in scattering\n\t\t\tfloat cosTheta = dot( direction, vSunDirection );\n\n\t\t\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n\t\t\tvec3 betaRTheta = vBetaR * rPhase;\n\n\t\t\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\n\t\t\tvec3 betaMTheta = vBetaM * mPhase;\n\n\t\t\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n\t\t\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n\t\t\t// nightsky\n\t\t\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n\t\t\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n\t\t\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n\t\t\tvec3 L0 = vec3( 0.1 ) * Fex;\n\n\t\t\t// composition + solar disc\n\t\t\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n\t\t\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n\t\t\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n\t\t\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n\t\t\tgl_FragColor = vec4( retColor, 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\n\t\t}`\n\n};\n\nexport { Sky };\n","import * as THREE from 'three';\r\nimport { Water } from 'three/addons/objects/Water.js';\r\nimport { Sky } from 'three/addons/objects/Sky.js';\r\n\r\n// Global variables\r\nlet scene, camera, renderer, animationId;\r\nlet mouseX = 0, mouseY = 0;\r\nlet windowHalfX = window.innerWidth / 2;\r\nlet windowHalfY = window.innerHeight / 2;\r\nlet water, sky, sun;\r\nlet scrollY = 0;\r\nlet targetY = 200; // Start at ocean level\r\nlet animationStarted = false;\r\nlet space, spaceGeometry, spaceMaterial;\r\n\r\n// Performance monitoring\r\nlet frameCount = 0;\r\nlet lastTime = performance.now();\r\nlet fps = 60;\r\nlet frameRateLimit = 60; // Target FPS\r\nlet lastFrameTime = 0;\r\n\r\n// Internationalization\r\nlet currentLanguage = 'sk';\r\nlet translations = {};\r\n\r\n// Initialize internationalization\r\nasync function initInternationalization() {\r\n    // Load saved language from localStorage or default to 'sk'\r\n    currentLanguage = localStorage.getItem('language') || 'sk';\r\n    \r\n    // Set HTML lang attribute to current language (default: 'sk')\r\n    document.documentElement.setAttribute('lang', currentLanguage);\r\n    \r\n    // Load translations\r\n    await loadTranslations();\r\n    \r\n    // Apply translations\r\n    applyTranslations();\r\n    \r\n    // Show content after translations are applied\r\n    document.documentElement.style.visibility = 'visible';\r\n    \r\n    // Initialize language switcher\r\n    initLanguageSwitcher();\r\n}\r\n\r\n// Load translation files\r\nasync function loadTranslations() {\r\n    try {\r\n        const baseUrl = import.meta.env.BASE_URL || '/';\r\n        const translationPath = `${baseUrl}src/locales/${currentLanguage}.json`;\r\n        console.log('Loading translations from:', translationPath);\r\n        const response = await fetch(translationPath);\r\n        \r\n        if (!response.ok) {\r\n            throw new Error(`Failed to load translations: ${response.status}`);\r\n        }\r\n        \r\n        translations = await response.json();\r\n        console.log('Translations loaded successfully:', currentLanguage);\r\n    } catch (error) {\r\n        console.error('Error loading translations:', error);\r\n        // Fallback to Slovak if loading fails\r\n        if (currentLanguage !== 'sk') {\r\n            console.log('Falling back to Slovak translations');\r\n            currentLanguage = 'sk';\r\n            const baseUrl = import.meta.env.BASE_URL || '/';\r\n            const response = await fetch(`${baseUrl}src/locales/sk.json`);\r\n            if (response.ok) {\r\n                translations = await response.json();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Apply translations to elements\r\nfunction applyTranslations() {\r\n    console.log('Applying translations, current language:', currentLanguage);\r\n    let translatedCount = 0;\r\n    \r\n    // Update elements with data-i18n attribute\r\n    document.querySelectorAll('[data-i18n]').forEach(element => {\r\n        const key = element.getAttribute('data-i18n');\r\n        const translation = getNestedTranslation(translations, key);\r\n        if (translation) {\r\n            element.textContent = translation;\r\n            translatedCount++;\r\n        } else {\r\n            console.warn('Translation not found for key:', key);\r\n        }\r\n    });\r\n    \r\n    // Update placeholders\r\n    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {\r\n        const key = element.getAttribute('data-i18n-placeholder');\r\n        const translation = getNestedTranslation(translations, key);\r\n        if (translation) {\r\n            element.placeholder = translation;\r\n            translatedCount++;\r\n        } else {\r\n            console.warn('Placeholder translation not found for key:', key);\r\n        }\r\n    });\r\n    \r\n    console.log('Applied', translatedCount, 'translations');\r\n}\r\n\r\n// Get nested translation value\r\nfunction getNestedTranslation(obj, path) {\r\n    return path.split('.').reduce((current, key) => {\r\n        if (current && current[key] !== undefined) {\r\n            return current[key];\r\n        }\r\n        // Handle array indices (e.g., \"items.0\")\r\n        if (current && Array.isArray(current) && !isNaN(key)) {\r\n            return current[parseInt(key)];\r\n        }\r\n        return null;\r\n    }, obj);\r\n}\r\n\r\n// Initialize language switcher\r\nfunction initLanguageSwitcher() {\r\n    const languageOptions = document.querySelectorAll('.language-option');\r\n    console.log('Initializing language switcher, found options:', languageOptions.length);\r\n    \r\n    // Remove all existing listeners by cloning and replacing\r\n    languageOptions.forEach(option => {\r\n        const newOption = option.cloneNode(true);\r\n        option.parentNode.replaceChild(newOption, option);\r\n    });\r\n    \r\n    // Get fresh references after cloning\r\n    const freshOptions = document.querySelectorAll('.language-option');\r\n    \r\n    freshOptions.forEach(option => {\r\n        option.addEventListener('click', async (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            const newLang = option.getAttribute('data-lang');\r\n            console.log('Language option clicked:', newLang, 'Current:', currentLanguage);\r\n            \r\n            if (newLang !== currentLanguage) {\r\n                console.log('Switching language from', currentLanguage, 'to', newLang);\r\n                currentLanguage = newLang;\r\n                localStorage.setItem('language', currentLanguage);\r\n                \r\n                // Update HTML lang attribute\r\n                document.documentElement.setAttribute('lang', currentLanguage);\r\n                \r\n                // Load new translations\r\n                await loadTranslations();\r\n                \r\n                // Apply new translations\r\n                applyTranslations();\r\n                \r\n                // Update active language option\r\n                updateActiveLanguageOption();\r\n            } else {\r\n                console.log('Language already set to', currentLanguage);\r\n            }\r\n        });\r\n    });\r\n    \r\n    // Set initial active language\r\n    updateActiveLanguageOption();\r\n}\r\n\r\n// Update active language option\r\nfunction updateActiveLanguageOption() {\r\n    const languageOptions = document.querySelectorAll('.language-option');\r\n    console.log('Updating active language option, currentLanguage:', currentLanguage);\r\n    languageOptions.forEach(option => {\r\n        const lang = option.getAttribute('data-lang');\r\n        option.classList.remove('active');\r\n        if (lang === currentLanguage) {\r\n            option.classList.add('active');\r\n            console.log('Set active class on:', lang);\r\n        }\r\n    });\r\n}\r\n\r\n// Initialize the application\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    initInternationalization();\r\n    initNavigation();\r\n    initThemeSwitcher();\r\n    \r\n    // Only show loading screen on homepage (CSS handles hiding on subpages)\r\n    const isHomepage = window.location.pathname === '/' || window.location.pathname.endsWith('index.html') || window.location.pathname.endsWith('/');\r\n    if (isHomepage) {\r\n        hideLoadingScreen();\r\n        // Initialize Three.js immediately on homepage\r\n        initThreeJS();\r\n    }\r\n});\r\n\r\n// Fast loading screen hide function removed - no longer needed\r\n\r\n// Three.js Scene Setup\r\nfunction initThreeJS() {\r\n    const canvas = document.getElementById('three-canvas');\r\n    \r\n    if (!canvas) {\r\n        console.warn('Three.js canvas not found');\r\n        return;\r\n    }\r\n    \r\n    // Scene\r\n    scene = new THREE.Scene();\r\n    \r\n    // Camera\r\n    camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 20000);\r\n    camera.position.set(30, 200, 1000); // Start at ocean level\r\n    \r\n    // Renderer\r\n    renderer = new THREE.WebGLRenderer({ \r\n        canvas: canvas, \r\n        alpha: true,\r\n        antialias: true \r\n    });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Limit pixel ratio for performance\r\n    renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n    renderer.toneMappingExposure = 0.5;\r\n    \r\n    // Performance optimizations\r\n    renderer.shadowMap.enabled = false; // Disable shadows for better performance\r\n    renderer.antialias = false; // Disable antialiasing for better performance\r\n    \r\n    // Add lighting\r\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.6);\r\n    scene.add(ambientLight);\r\n    \r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n    directionalLight.position.set(1, 1, 1);\r\n    scene.add(directionalLight);\r\n    \r\n    // Create object system\r\n    createParticleSystem();\r\n    \r\n    // Add event listeners\r\n    document.addEventListener('mousemove', onMouseMove, false);\r\n    window.addEventListener('resize', onWindowResize, false);\r\n    window.addEventListener('scroll', onScroll, false);\r\n    document.addEventListener('wheel', onWheel, false);\r\n    \r\n    // Start animation\r\n    animate();\r\n    \r\n    console.log('Three.js animation started!');\r\n}\r\n\r\n// Create ocean scene only\r\nfunction createParticleSystem() {\r\n    // Create ocean scene\r\n    createOcean();\r\n}\r\n\r\n// Create ocean effect for bottom third\r\nfunction createOcean() {\r\n    // Create sun\r\n    sun = new THREE.Vector3();\r\n    \r\n    // Water geometry (infinite ocean effect)\r\n    const waterGeometry = new THREE.PlaneGeometry(50000, 50000, 32, 32); // Massive ocean for infinite effect\r\n    \r\n    // Water material with ocean shader (heavily optimized for performance)\r\n    water = new Water(waterGeometry, {\r\n        textureWidth: 128, // Further reduced for better performance\r\n        textureHeight: 128, // Further reduced for better performance\r\n        waterNormals: new THREE.TextureLoader().load('https://threejs.org/examples/textures/waternormals.jpg', function (texture) {\r\n            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n        }),\r\n        sunDirection: new THREE.Vector3(),\r\n        sunColor: 0xffffff,\r\n        waterColor: 0x000000, // Pure black ocean to prevent blue tint\r\n        distortionScale: 0.3, // Much smaller waves for less rounded ocean\r\n        size: 0.5, // Smaller wave size for less rounded ocean\r\n        fog: scene.fog !== undefined\r\n    });\r\n    \r\n    // Position water for infinite ocean effect (extended left)\r\n    water.rotation.x = -Math.PI / 2;\r\n    water.position.y = 0; // Center of scene\r\n    water.position.x = -5000; // Extended left for better coverage\r\n    water.position.z = 0; // Center depth\r\n    water.userData = { layer: 'ocean', speed: 1.0 };\r\n    scene.add(water);\r\n    \r\n    // Create sky for infinite ocean effect\r\n    sky = new Sky();\r\n    sky.scale.setScalar(50000); // Much larger sky to match ocean\r\n    scene.add(sky);\r\n    \r\n    // Configure sky\r\n    const skyUniforms = sky.material.uniforms;\r\n    skyUniforms['turbidity'].value = 10;\r\n    skyUniforms['rayleigh'].value = 2;\r\n    skyUniforms['mieCoefficient'].value = 0.005;\r\n    skyUniforms['mieDirectionalG'].value = 0.8;\r\n    \r\n    // Configure sun position\r\n    const parameters = {\r\n        elevation: 2,\r\n        azimuth: 180\r\n    };\r\n    \r\n    const pmremGenerator = new THREE.PMREMGenerator(renderer);\r\n    const sceneEnv = new THREE.Scene();\r\n    let renderTarget;\r\n    \r\n    function updateSun() {\r\n        const phi = THREE.MathUtils.degToRad(90 - parameters.elevation);\r\n        const theta = THREE.MathUtils.degToRad(parameters.azimuth);\r\n        \r\n        sun.setFromSphericalCoords(1, phi, theta);\r\n        \r\n        sky.material.uniforms['sunPosition'].value.copy(sun);\r\n        water.material.uniforms['sunDirection'].value.copy(sun).normalize();\r\n        \r\n        if (renderTarget !== undefined) renderTarget.dispose();\r\n        \r\n        sceneEnv.add(sky);\r\n        renderTarget = pmremGenerator.fromScene(sceneEnv);\r\n        scene.add(sky);\r\n        \r\n        scene.environment = renderTarget.texture;\r\n    }\r\n    \r\n    updateSun();\r\n    \r\n    // Create space effect above ocean\r\n    createSpace();\r\n}\r\n\r\n// Create space effect above ocean\r\nfunction createSpace() {\r\n    // Create space geometry (much larger sphere for flat horizon)\r\n    spaceGeometry = new THREE.SphereGeometry(100000, 32, 32);\r\n    \r\n    // Create space material with stars\r\n    spaceMaterial = new THREE.ShaderMaterial({\r\n        uniforms: {\r\n            time: { value: 0.0 },\r\n            resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }\r\n        },\r\n        vertexShader: `\r\n            varying vec2 vUv;\r\n            void main() {\r\n                vUv = uv;\r\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n            }\r\n        `,\r\n        fragmentShader: `\r\n            uniform float time;\r\n            uniform vec2 resolution;\r\n            varying vec2 vUv;\r\n            \r\n            // Simple random function\r\n            float random(vec2 st) {\r\n                return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\r\n            }\r\n            \r\n            // Create small star dots\r\n            float star(vec2 uv, float size) {\r\n                float star = random(uv);\r\n                if (star > 0.999) { // Much much fewer stars\r\n                    return 1.0;\r\n                }\r\n                return 0.0;\r\n            }\r\n            \r\n            void main() {\r\n                vec2 uv = vUv;\r\n                \r\n                // Calculate height factor (0.0 = bottom, 1.0 = top)\r\n                float heightFactor = uv.y;\r\n                \r\n                // Create gradient from sun (bottom) to space (top)\r\n                vec3 sunColor = vec3(1.0, 0.8, 0.4); // Warm sun color\r\n                vec3 spaceColor = vec3(0.0, 0.0, 0.0); // Black space\r\n                \r\n                // Smooth transition between sun and space\r\n                vec3 baseColor = mix(sunColor, spaceColor, smoothstep(0.3, 0.8, heightFactor));\r\n                \r\n                // Add stars only in upper part (space area) and only distant ones\r\n                float starField = 0.0;\r\n                if (heightFactor > 0.7) { // Only in top 30% of space\r\n                    // Only distant stars, no close ones\r\n                    starField += star(uv * 30.0, 0.1) * 0.4; // Very few distant stars\r\n                    \r\n                    // Add subtle twinkling effect\r\n                    float twinkle = sin(time * 1.5 + uv.x * 5.0 + uv.y * 4.0) * 0.1 + 0.9;\r\n                    starField *= twinkle;\r\n                }\r\n                \r\n                // Remove atmospheric glow to prevent blue tint on ocean\r\n                float atmosphere = 0.0;\r\n                \r\n                // Combine all effects\r\n                vec3 color = baseColor;\r\n                color += vec3(starField); // White stars\r\n                // No atmospheric glow to prevent blue tint\r\n                \r\n                gl_FragColor = vec4(color, 1.0);\r\n            }\r\n        `,\r\n        side: THREE.BackSide // Render inside of sphere\r\n    });\r\n    \r\n    // Create space mesh (positioned above ocean to prevent blue tint)\r\n    space = new THREE.Mesh(spaceGeometry, spaceMaterial);\r\n    space.position.y = 1000; // Position above ocean\r\n    space.position.x = 0; // Center horizontally\r\n    space.position.z = 0; // Center depth\r\n    space.userData = { layer: 'space', speed: 1.0 };\r\n    scene.add(space);\r\n}\r\n\r\n\r\n// Animation loop\r\nfunction animate() {\r\n    animationId = requestAnimationFrame(animate);\r\n    \r\n    const currentTime = performance.now();\r\n    const deltaTime = currentTime - lastFrameTime;\r\n    \r\n    // Frame rate limiting for better performance\r\n    if (deltaTime < 1000 / frameRateLimit) {\r\n        return;\r\n    }\r\n    \r\n    lastFrameTime = currentTime;\r\n    const time = currentTime * 0.001;\r\n    \r\n    // Performance monitoring\r\n    frameCount++;\r\n    if (currentTime - lastTime >= 1000) {\r\n        fps = frameCount;\r\n        frameCount = 0;\r\n        lastTime = currentTime;\r\n        \r\n        // Adaptive quality based on FPS\r\n        if (fps < 30 && water) {\r\n            // Reduce quality for better performance\r\n            water.material.uniforms['distortionScale'].value = Math.max(0.5, water.material.uniforms['distortionScale'].value - 0.1);\r\n            water.material.uniforms['size'].value = Math.max(0.5, water.material.uniforms['size'].value - 0.1);\r\n        } else if (fps > 50 && water) {\r\n            // Increase quality if performance is good\r\n            water.material.uniforms['distortionScale'].value = Math.min(2.0, water.material.uniforms['distortionScale'].value + 0.05);\r\n            water.material.uniforms['size'].value = Math.min(2.0, water.material.uniforms['size'].value + 0.05);\r\n        }\r\n    }\r\n    \r\n    // Animate ocean water\r\n    if (water) {\r\n        water.material.uniforms['time'].value += 1.0 / 60.0;\r\n    }\r\n    \r\n    // Animate space\r\n    if (space && spaceMaterial) {\r\n        spaceMaterial.uniforms['time'].value = time;\r\n    }\r\n    \r\n    // Camera follows mouse for ocean scene\r\n    //camera.position.x += (mouseX - camera.position.x) * 0.05;\r\n    //camera.position.y += (-mouseY - camera.position.y) * 0.05;\r\n    \r\n    // Smooth camera movement up to space (like an elevator)\r\n    camera.position.y += (targetY - camera.position.y) * 0.1;\r\n    \r\n    // Look forward (not at sun) for elevator-like movement\r\n    const lookAtPoint = new THREE.Vector3(0, camera.position.y, camera.position.z - 100);\r\n    camera.lookAt(lookAtPoint);\r\n    \r\n    renderer.render(scene, camera);\r\n}\r\n\r\n// Mouse movement handler\r\nfunction onMouseMove(event) {\r\n    mouseX = event.clientX - windowHalfX;\r\n    mouseY = event.clientY - windowHalfY;\r\n}\r\n\r\n// Scroll handler\r\nfunction onScroll(event) {\r\n    if (!animationStarted) return;\r\n    \r\n    scrollY = window.scrollY;\r\n    targetY = Math.max(200, 200 + scrollY * 2); // Move camera up to space, but not below ocean level\r\n}\r\n\r\n// Wheel handler for canvas scrolling\r\nfunction onWheel(event) {\r\n    if (!animationStarted) return;\r\n    \r\n    event.preventDefault();\r\n    \r\n    // Update scrollY based on wheel delta\r\n    scrollY += event.deltaY * 0.5;\r\n    targetY = Math.max(200, 200 + scrollY * 2); // Move camera up to space, but not below ocean level\r\n    \r\n    // Also scroll the page\r\n    window.scrollBy(0, event.deltaY * 0.5);\r\n}\r\n\r\n\r\n// Window resize handler\r\nfunction onWindowResize() {\r\n    windowHalfX = window.innerWidth / 2;\r\n    windowHalfY = window.innerHeight / 2;\r\n    \r\n    camera.aspect = window.innerWidth / window.innerHeight;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n}\r\n\r\n// Navigation System\r\nfunction initNavigation() {\r\n    const navLinks = document.querySelectorAll('.nav-link');\r\n    const hamburger = document.querySelector('.hamburger');\r\n    const navMenu = document.querySelector('.nav-menu');\r\n    \r\n    // Fix all navigation links to use base path\r\n    const basePath = import.meta.env.BASE_URL;\r\n    \r\n    // Fix all links starting with '/' to use base path\r\n    function fixLinkPath(link) {\r\n        const href = link.getAttribute('href');\r\n        if (href && href.startsWith('/') && !href.startsWith(basePath) && !href.startsWith('//')) {\r\n            // Remove leading slash and add base path\r\n            const newHref = basePath + href.substring(1);\r\n            link.setAttribute('href', newHref);\r\n        }\r\n    }\r\n    \r\n    // Fix navigation links\r\n    navLinks.forEach(fixLinkPath);\r\n    \r\n    // Fix logo link\r\n    const logoLink = document.querySelector('.logo-link');\r\n    if (logoLink) {\r\n        const href = logoLink.getAttribute('href');\r\n        if (href === '/' || href === '') {\r\n            logoLink.setAttribute('href', basePath);\r\n        } else {\r\n            fixLinkPath(logoLink);\r\n        }\r\n    }\r\n    \r\n    // Fix hero button links\r\n    const heroButton = document.querySelector('.hero-button-secondary');\r\n    if (heroButton) {\r\n        fixLinkPath(heroButton);\r\n    }\r\n    \r\n    // Fix footer links (if any)\r\n    const footerLinks = document.querySelectorAll('footer a[href^=\"/\"]');\r\n    footerLinks.forEach(fixLinkPath);\r\n    \r\n    // Navigation click handlers\r\n    navLinks.forEach(link => {\r\n        link.addEventListener('click', (e) => {\r\n            // Update active states\r\n            navLinks.forEach(l => l.classList.remove('active'));\r\n            link.classList.add('active');\r\n            \r\n            // Close mobile menu\r\n            navMenu.classList.remove('active');\r\n            hamburger.classList.remove('active');\r\n        });\r\n    });\r\n    \r\n    // Mobile menu toggle\r\n    hamburger.addEventListener('click', () => {\r\n        hamburger.classList.toggle('active');\r\n        navMenu.classList.toggle('active');\r\n    });\r\n    \r\n    // Close mobile menu when clicking outside\r\n    document.addEventListener('click', (e) => {\r\n        if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {\r\n            navMenu.classList.remove('active');\r\n            hamburger.classList.remove('active');\r\n        }\r\n    });\r\n}\r\n\r\n// Loading screen\r\nfunction hideLoadingScreen() {\r\n    setTimeout(() => {\r\n        const loadingScreen = document.getElementById('loading-screen');\r\n        if (loadingScreen) {\r\n            loadingScreen.style.opacity = '0';\r\n            setTimeout(() => {\r\n                loadingScreen.style.display = 'none';\r\n            }, 300);\r\n        }\r\n    }, 500);\r\n}\r\n\r\n// Smooth scrolling for anchor links\r\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n    anchor.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n        const target = document.querySelector(this.getAttribute('href'));\r\n        if (target) {\r\n            target.scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'start'\r\n            });\r\n        }\r\n    });\r\n});\r\n\r\n// Form submission handler\r\ndocument.querySelector('.contact-form')?.addEventListener('submit', function(e) {\r\n    e.preventDefault();\r\n    \r\n    // Get form data\r\n    const formData = new FormData(this);\r\n    const name = this.querySelector('input[type=\"text\"]').value;\r\n    const email = this.querySelector('input[type=\"email\"]').value;\r\n    const message = this.querySelector('textarea').value;\r\n    \r\n    // Simple validation\r\n    if (!name || !email || !message) {\r\n        alert(translations.contact?.form?.error || 'Pros√≠m vypl≈àte v≈°etky polia.');\r\n        return;\r\n    }\r\n    \r\n    // Simulate form submission\r\n    const button = this.querySelector('button');\r\n    const originalText = button.textContent;\r\n    button.textContent = translations.contact?.form?.sending || 'Odosielam...';\r\n    button.disabled = true;\r\n    \r\n    setTimeout(() => {\r\n        alert(translations.contact?.form?.success || 'ƒéakujeme za va≈°u spr√°vu! ƒåoskoro v√°s budeme kontaktova≈•.');\r\n        this.reset();\r\n        button.textContent = originalText;\r\n        button.disabled = false;\r\n    }, 2000);\r\n});\r\n\r\n// CTA Button handler - only on homepage\r\ndocument.getElementById('start-animation-btn')?.addEventListener('click', function() {\r\n    // Check if we're on homepage\r\n    const isHomepage = window.location.pathname === '/' || window.location.pathname.endsWith('index.html') || window.location.pathname.endsWith('/');\r\n    \r\n    if (!isHomepage) {\r\n        return; // Don't work on subpages\r\n    }\r\n    \r\n    // Hide hero section immediately\r\n    const hero = document.querySelector('.hero');\r\n    if (hero) {\r\n        hero.classList.add('hidden');\r\n    }\r\n    \r\n    // Start animation and enable scroll\r\n    if (!animationStarted) {\r\n        animationStarted = true;\r\n        console.log('Animation started and scroll enabled!');\r\n    }\r\n    \r\n    // Keep button text as \"Explore\" and disable it\r\n    this.disabled = true;\r\n});\r\n\r\n// Theme switching functionality\r\nfunction initThemeSwitcher() {\r\n    // Load saved theme from localStorage or default to 'royal-blue'\r\n    const savedTheme = localStorage.getItem('theme') || 'royal-blue';\r\n    setTheme(savedTheme);\r\n    \r\n    // Add theme switcher to navigation if it doesn't exist\r\n    if (!document.querySelector('.theme-switcher')) {\r\n        addThemeSwitcher();\r\n    }\r\n}\r\n\r\nfunction setTheme(themeName) {\r\n    document.documentElement.setAttribute('data-theme', themeName);\r\n    localStorage.setItem('theme', themeName);\r\n    \r\n    // Update theme switcher if it exists\r\n    const themeSwitcher = document.querySelector('.theme-switcher');\r\n    if (themeSwitcher) {\r\n        const currentThemeBtn = themeSwitcher.querySelector(`[data-theme=\"${themeName}\"]`);\r\n        if (currentThemeBtn) {\r\n            // Remove active class from all theme buttons\r\n            themeSwitcher.querySelectorAll('.theme-btn').forEach(btn => btn.classList.remove('active'));\r\n            // Add active class to current theme button\r\n            currentThemeBtn.classList.add('active');\r\n        }\r\n    }\r\n}\r\n\r\nfunction addThemeSwitcher() {\r\n    const navContainer = document.querySelector('.nav-container');\r\n    if (!navContainer) return;\r\n    \r\n    const themeSwitcher = document.createElement('div');\r\n    themeSwitcher.className = 'theme-switcher';\r\n    themeSwitcher.innerHTML = `\r\n        <div class=\"theme-dropdown\">\r\n            <button class=\"theme-btn\" data-theme=\"royal-blue\">üëë</button>\r\n            <div class=\"theme-options\">\r\n                <div class=\"theme-option\" data-theme=\"royal-blue\">üëë Royal Blue</div>\r\n                <div class=\"theme-option\" data-theme=\"forest-green\">üå≤ Forest Green</div>\r\n                <div class=\"theme-option\" data-theme=\"sunset-orange\">üåÖ Sunset Orange</div>\r\n                <div class=\"theme-option\" data-theme=\"deep-purple\">üíú Deep Purple</div>\r\n                <div class=\"theme-option\" data-theme=\"ocean-blue\">üåä Ocean Blue</div>\r\n                <div class=\"theme-option\" data-theme=\"dark\">üåô Dark</div>\r\n                <div class=\"theme-option\" data-theme=\"light\">‚òÄÔ∏è Light</div>\r\n            </div>\r\n        </div>\r\n    `;\r\n    \r\n    // Insert theme switcher at the beginning of nav-container\r\n    navContainer.insertBefore(themeSwitcher, navContainer.firstChild);\r\n    \r\n    // Add event listeners\r\n    const themeBtn = themeSwitcher.querySelector('.theme-btn');\r\n    const themeOptions = themeSwitcher.querySelectorAll('.theme-option');\r\n    \r\n    themeBtn.addEventListener('click', () => {\r\n        themeSwitcher.classList.toggle('active');\r\n    });\r\n    \r\n    themeOptions.forEach(option => {\r\n        option.addEventListener('click', () => {\r\n            const theme = option.getAttribute('data-theme');\r\n            setTheme(theme);\r\n            themeSwitcher.classList.remove('active');\r\n        });\r\n    });\r\n    \r\n    // Close dropdown when clicking outside\r\n    document.addEventListener('click', (e) => {\r\n        if (!themeSwitcher.contains(e.target)) {\r\n            themeSwitcher.classList.remove('active');\r\n        }\r\n    });\r\n}\r\n\r\n// Scroll effects removed - navbar stays blue\r\n\r\n// Add intersection observer for animations\r\nconst observerOptions = {\r\n    threshold: 0.1,\r\n    rootMargin: '0px 0px -50px 0px'\r\n};\r\n\r\nconst observer = new IntersectionObserver((entries) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            entry.target.style.opacity = '1';\r\n            entry.target.style.transform = 'translateY(0)';\r\n        }\r\n    });\r\n}, observerOptions);\r\n\r\n// Observe all cards for animation\r\ndocument.querySelectorAll('.content-card, .service-card, .project-card, .team-card, .pricing-card').forEach(card => {\r\n    card.style.opacity = '0';\r\n    card.style.transform = 'translateY(30px)';\r\n    card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';\r\n    observer.observe(card);\r\n});\r\n\r\n\r\n// Navbar scroll behavior\r\nlet lastScrollTop = 0;\r\nlet scrollThreshold = 150; // Scroll distance before hiding navbar (not immediately)\r\nlet navbar = null;\r\n\r\nfunction initNavbarScroll() {\r\n    navbar = document.querySelector('.navbar');\r\n    if (!navbar) return;\r\n    \r\n    let scrollTimeout;\r\n    \r\n    window.addEventListener('scroll', () => {\r\n        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n        const scrollDelta = scrollTop - lastScrollTop;\r\n        \r\n        // Clear timeout\r\n        clearTimeout(scrollTimeout);\r\n        \r\n        // Update navbar background based on scroll position\r\n        if (scrollTop > 50) {\r\n            // Scrolled down - add royal blue background\r\n            navbar.style.background = 'var(--primary-color)';\r\n        } else {\r\n            // At top - transparent background\r\n            navbar.style.background = 'transparent';\r\n        }\r\n        \r\n        // Handle navbar visibility based on scroll direction\r\n        if (Math.abs(scrollDelta) > 5) { // Only react to significant scroll\r\n            if (scrollDelta > 0 && scrollTop > scrollThreshold) {\r\n                // Scrolling down and past threshold - hide navbar\r\n                navbar.style.transform = 'translateY(-100%)';\r\n            } else if (scrollDelta < 0) {\r\n                // Scrolling up - show navbar\r\n                navbar.style.transform = 'translateY(0)';\r\n            }\r\n        }\r\n        \r\n        lastScrollTop = scrollTop;\r\n    }, { passive: true });\r\n}\r\n\r\n// Initialize navbar scroll behavior when DOM is ready\r\nif (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initNavbarScroll);\r\n} else {\r\n    initNavbarScroll();\r\n}\r\n\r\n// Cleanup on page unload\r\nwindow.addEventListener('beforeunload', function() {\r\n    if (animationId) {\r\n        cancelAnimationFrame(animationId);\r\n    }\r\n    if (renderer) {\r\n        renderer.dispose();\r\n    }\r\n});\r\n"],"names":["Water","Mesh","geometry","options","scope","textureWidth","textureHeight","clipBias","alpha","time","normalSampler","sunDirection","Vector3","sunColor","Color","waterColor","eye","distortionScale","side","FrontSide","fog","mirrorPlane","Plane","normal","mirrorWorldPosition","cameraWorldPosition","rotationMatrix","Matrix4","lookAtPosition","clipPlane","Vector4","view","target","q","textureMatrix","mirrorCamera","PerspectiveCamera","renderTarget","WebGLRenderTarget","mirrorShader","UniformsUtils","UniformsLib","material","ShaderMaterial","renderer","scene","camera","projectionMatrix","currentRenderTarget","currentXrEnabled","currentShadowAutoUpdate","viewport","Sky","shader","BackSide","BoxGeometry","animationId","windowHalfX","windowHalfY","water","sky","sun","scrollY","targetY","animationStarted","space","spaceGeometry","spaceMaterial","frameCount","lastTime","fps","frameRateLimit","lastFrameTime","currentLanguage","translations","initInternationalization","loadTranslations","applyTranslations","initLanguageSwitcher","translationPath","response","error","translatedCount","element","key","translation","getNestedTranslation","obj","path","current","languageOptions","option","newOption","e","newLang","updateActiveLanguageOption","lang","initNavigation","initThemeSwitcher","hideLoadingScreen","initThreeJS","canvas","THREE.Scene","THREE.PerspectiveCamera","THREE.WebGLRenderer","THREE.ACESFilmicToneMapping","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","createParticleSystem","onMouseMove","onWindowResize","onScroll","onWheel","animate","createOcean","THREE.Vector3","waterGeometry","THREE.PlaneGeometry","THREE.TextureLoader","texture","THREE.RepeatWrapping","skyUniforms","parameters","pmremGenerator","THREE.PMREMGenerator","sceneEnv","updateSun","phi","THREE.MathUtils","theta","createSpace","THREE.SphereGeometry","THREE.ShaderMaterial","THREE.Vector2","THREE.BackSide","THREE.Mesh","currentTime","lookAtPoint","event","navLinks","hamburger","navMenu","basePath","fixLinkPath","link","href","newHref","logoLink","heroButton","l","loadingScreen","anchor","name","email","message","button","originalText","hero","savedTheme","setTheme","addThemeSwitcher","themeName","themeSwitcher","currentThemeBtn","btn","navContainer","themeBtn","themeOptions","theme","observerOptions","observer","entries","entry","card","lastScrollTop","scrollThreshold","navbar","initNavbarScroll","scrollTimeout","scrollTop","scrollDelta"],"mappings":"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","x_google_ignoreList":[0,1]}