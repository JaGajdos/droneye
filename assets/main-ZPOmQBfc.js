(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();class P{constructor(t=0,o="Network Error"){this.status=t,this.text=o}}const ie=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},g={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ie()},j=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},ae=(e,t="https://api.emailjs.com")=>{if(!e)return;const o=j(e);g.publicKey=o.publicKey,g.blockHeadless=o.blockHeadless,g.storageProvider=o.storageProvider,g.blockList=o.blockList,g.limitRate=o.limitRate,g.origin=o.origin||t},z=async(e,t,o={})=>{const n=await fetch(g.origin+e,{method:"POST",headers:o,body:t}),r=await n.text(),i=new P(n.status,r);if(n.ok)return i;throw i},Y=(e,t,o)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||typeof o!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ce=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},J=e=>e.webdriver||!e.languages||e.languages.length===0,X=()=>new P(451,"Unavailable For Headless Browser"),le=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},de=e=>!e.list?.length||!e.watchVariable,ue=(e,t)=>e instanceof FormData?e.get(t):e[t],G=(e,t)=>{if(de(e))return!1;le(e.list,e.watchVariable);const o=ue(t,e.watchVariable);return typeof o!="string"?!1:e.list.includes(o)},Q=()=>new P(403,"Forbidden"),fe=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},me=async(e,t,o)=>{const n=Number(await o.get(e)||0);return t-Date.now()+n},Z=async(e,t,o)=>{if(!t.throttle||!o)return!1;fe(t.throttle,t.id);const n=t.id||e;return await me(n,t.throttle,o)>0?!0:(await o.set(n,Date.now().toString()),!1)},ee=()=>new P(429,"Too Many Requests"),he=async(e,t,o,n)=>{const r=j(n),i=r.publicKey||g.publicKey,c=r.blockHeadless||g.blockHeadless,f=r.storageProvider||g.storageProvider,l={...g.blockList,...r.blockList},d={...g.limitRate,...r.limitRate};return c&&J(navigator)?Promise.reject(X()):(Y(i,e,t),ce(o),o&&G(l,o)?Promise.reject(Q()):await Z(location.pathname,d,f)?Promise.reject(ee()):z("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"}))},ge=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ve=e=>typeof e=="string"?document.querySelector(e):e,pe=async(e,t,o,n)=>{const r=j(n),i=r.publicKey||g.publicKey,c=r.blockHeadless||g.blockHeadless,f=g.storageProvider||r.storageProvider,l={...g.blockList,...r.blockList},d={...g.limitRate,...r.limitRate};if(c&&J(navigator))return Promise.reject(X());const s=ve(o);Y(i,e,t),ge(s);const a=new FormData(s);return G(l,a)?Promise.reject(Q()):await Z(location.pathname,d,f)?Promise.reject(ee()):(a.append("lib_version","4.4.1"),a.append("service_id",e),a.append("template_id",t),a.append("user_id",i),z("/api/v1.0/email/send-form",a))},te={init:ae,send:he,sendForm:pe,EmailJSResponseStatus:P};function H(e,t,o="contact"){e.id||e.className.includes("footer");const n=o==="footer"?"footer-form-success":"contact-form-success",r=o==="footer"?"footer-form-error":"contact-form-error",i=document.getElementById(n),c=document.getElementById(r);if(!e||!i||!c)return;function f(s,a){const u=e.querySelector(`[name="${s}"]`),m=o==="footer"?`footer-error-${s}`:`error-${s}`,b=document.getElementById(m);if(u&&b)if(a){if(u.tagName==="INPUT"||u.tagName==="TEXTAREA")u.classList.add("contact-form-input-error"),o==="footer"&&u.classList.add("footer-form-input-error");else if(u.type==="checkbox"){const w=u.closest("label");w&&(w.classList.add("contact-form-consent-error"),o==="footer"&&w.classList.add("footer-form-consent-error"))}b.textContent=a,b.style.display="block"}else{if(u.tagName==="INPUT"||u.tagName==="TEXTAREA")u.classList.remove("contact-form-input-error"),o==="footer"&&u.classList.remove("footer-form-input-error");else if(u.type==="checkbox"){const w=u.closest("label");w&&(w.classList.remove("contact-form-consent-error"),o==="footer"&&w.classList.remove("footer-form-consent-error"))}b.textContent="",b.style.display="none"}}function l(){const s=["name","email","message"];e.querySelector('input[name="phone"]')&&s.push("phone"),e.querySelector('input[name="consent"]')&&s.push("consent"),s.forEach(a=>{f(a,"")})}e.querySelectorAll("input, textarea").forEach(s=>{s.addEventListener("input",function(){const a=this.getAttribute("name");a&&f(a,"")})});const d=e.querySelector('input[name="consent"]');d&&d.addEventListener("change",function(){f("consent","")}),e.addEventListener("submit",async function(s){s.preventDefault(),i.style.display="none",c.style.display="none",l();const a=this.querySelector('input[name="name"]')?.value.trim()||"",u=this.querySelector('input[name="email"]')?.value.trim()||"",m=this.querySelector('input[name="phone"]'),b=m?.value.trim()||"",w=this.querySelector('textarea[name="message"]')?.value.trim()||"",R=this.querySelector('input[name="consent"]'),ne=R?.checked||!1,k=t?.[o==="footer"?"footer":"contact"]?.form||t?.contact?.form;let E=!1;if(a||(f("name",k?.errors?.name||t?.contact?.form?.errors?.name||"Meno je povinné pole."),E=!0),u?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(f("email",k?.errors?.emailInvalid||t?.contact?.form?.errors?.emailInvalid||"Email má nesprávny formát."),E=!0):(f("email",k?.errors?.email||t?.contact?.form?.errors?.email||"Email je povinné pole."),E=!0),m&&!b&&(f("phone",k?.errors?.phone||t?.contact?.form?.errors?.phone||"Telefónne číslo je povinné pole."),E=!0),w||(f("message",k?.errors?.message||t?.contact?.form?.errors?.message||"Správa je povinné pole."),E=!0),R&&!ne&&(f("consent",k?.errors?.consent||t?.contact?.form?.errors?.consent||"Musíte súhlasiť so spracovaním osobných údajov."),E=!0),E){const q=e.querySelector(".contact-form-input-error, .footer-form-input-error");q&&(q.scrollIntoView({behavior:"smooth",block:"center"}),q.focus());return}const x=this.querySelector('button[type="submit"]'),se=x.textContent;x.textContent=k?.sending||t?.contact?.form?.sending||"Odosielam...",x.disabled=!0;try{await te.sendForm("service_um8zj4l","template_9tzop5i",e),e.reset(),l(),i.textContent=k?.success||t?.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať.",i.style.display="block",i.classList.remove("hiding"),c.style.display="none",i.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(()=>{i.classList.add("hiding"),setTimeout(()=>{i.style.display="none",i.classList.remove("hiding")},500)},1e4)}catch(q){console.error("Chyba pri odosielaní:",q),c.textContent=k?.errors?.submit||t?.contact?.form?.errors?.submit||"Nastala chyba pri odosielaní formulára. Skúste to prosím znova.",c.style.display="block",i.style.display="none"}finally{x.textContent=se,x.disabled=!1}})}function be(e){te.init("SJ0aNKcX728yhsrWb");const t=document.getElementById("contact-form");t&&H(t,e,"contact"),document.querySelectorAll(".footer-contact-form").forEach(n=>{H(n,e,"footer")})}let h="sk",A={};async function ye(){const t=new URLSearchParams(window.location.search).get("lang");t&&["sk","en","de"].includes(t)?(h=t,localStorage.setItem("language",h)):h=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",h),await oe(),re(),document.documentElement.style.visibility="visible",Le()}async function oe(){try{let e="/droneye/";if(!e||e==="/"){const n=window.location.pathname;e=n.substring(0,n.lastIndexOf("/")+1)}e.endsWith("/")||(e+="/");const t=`${e}src/locales/${h}.json`;console.log("Loading translations from:",t,"Base URL:",e);const o=await fetch(t);if(!o.ok)throw new Error(`Failed to load translations: ${o.status}`);A=await o.json(),console.log("Translations loaded successfully:",h)}catch(e){if(console.error("Error loading translations:",e),h!=="sk"){console.log("Falling back to Slovak translations"),h="sk";let t="/droneye/";if(!t||t==="/"){const n=window.location.pathname;t=n.substring(0,n.lastIndexOf("/")+1)}t.endsWith("/")||(t+="/");const o=await fetch(`${t}src/locales/sk.json`);o.ok&&(A=await o.json())}}}function re(){console.log("Applying translations, current language:",h);let e=0;document.querySelectorAll("[data-i18n]").forEach(o=>{const n=o.getAttribute("data-i18n"),r=D(A,n);r?(r.includes("<a ")||r.includes("<br>")||r.includes("<strong>")||r.includes("<em>")?o.innerHTML=r:o.textContent=r,e++):console.warn("Translation not found for key:",n)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(o=>{const n=o.getAttribute("data-i18n-placeholder"),r=D(A,n);r?(o.placeholder=r,e++):console.warn("Placeholder translation not found for key:",n)});const t=document.querySelector("title[data-i18n-title]");if(t){const o=t.getAttribute("data-i18n-title"),n=D(A,o);n?(t.textContent=n,e++):console.warn("Title translation not found for key:",o)}console.log("Applied",e,"translations")}function D(e,t){return t.split(".").reduce((o,n)=>o&&o[n]!==void 0?o[n]:o&&Array.isArray(o)&&!isNaN(n)?o[parseInt(n)]:null,e)}function Le(){const e=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",e.length),e.forEach(o=>{const n=o.cloneNode(!0);o.parentNode.replaceChild(n,o)}),document.querySelectorAll(".language-option").forEach(o=>{o.addEventListener("click",async n=>{n.preventDefault(),n.stopPropagation();const r=o.getAttribute("data-lang");console.log("Language option clicked:",r,"Current:",h),r!==h?(console.log("Switching language from",h,"to",r),h=r,localStorage.setItem("language",h),document.documentElement.setAttribute("lang",h),await oe(),re(),$()):console.log("Language already set to",h)})}),$()}function $(){const e=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",h),e.forEach(t=>{const o=t.getAttribute("data-lang");t.classList.remove("active"),o===h&&(t.classList.add("active"),console.log("Set active class on:",o))})}document.addEventListener("DOMContentLoaded",function(){ye(),we(),Ee(),Te(),qe(),be(A),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&ke()});function we(){const e=document.querySelectorAll(".nav-link"),t=document.querySelector(".hamburger"),o=document.querySelector(".nav-menu"),n="/droneye/";function r(s){const a=s.getAttribute("href");if(a&&a.startsWith("/")&&!a.startsWith(n)&&!a.startsWith("//")){const u=n+a.substring(1);s.setAttribute("href",u)}}e.forEach(r);const i=document.querySelector(".logo-link");if(i){const s=i.getAttribute("href");s==="/"||s===""?i.setAttribute("href",n):r(i)}const c=document.querySelector(".hero-button-secondary");c&&r(c),document.querySelectorAll('footer a[href^="/"]').forEach(r),e.forEach(s=>{s.addEventListener("click",a=>{e.forEach(u=>u.classList.remove("active")),s.classList.add("active"),o.classList.remove("active"),t.classList.remove("active")})}),t.setAttribute("tabindex","0"),t.setAttribute("role","button"),t.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-expanded","false");function l(){const s=o.classList.contains("active");t.classList.toggle("active"),o.classList.toggle("active"),t.setAttribute("aria-expanded",s?"false":"true"),s?document.body.style.overflow="":(document.body.style.overflow="hidden",setTimeout(()=>{const a=o.querySelector(".nav-link");a&&a.focus()},100))}t.addEventListener("click",l),t.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),l())});const d=document.querySelector(".mobile-menu-close");if(d){let s=function(){o.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus()};d.setAttribute("tabindex","0"),d.setAttribute("aria-label","Close navigation menu"),d.addEventListener("click",s),d.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),s())})}e.forEach((s,a)=>{s.setAttribute("tabindex","0"),s.addEventListener("keydown",u=>{if(u.key==="Escape")o.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus();else if(u.key==="ArrowDown"){u.preventDefault();const m=e[a+1]||e[0];m&&m.focus()}else if(u.key==="ArrowUp"){u.preventDefault();const m=e[a-1]||e[e.length-1];m&&m.focus()}})}),o.addEventListener("click",s=>{(s.target===o||s.target.classList.contains("nav-menu"))&&(o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")}),e.forEach(s=>{s.addEventListener("click",()=>{o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow=""})}),document.addEventListener("click",s=>{!t.contains(s.target)&&!o.contains(s.target)&&(o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")})}function ke(){setTimeout(()=>{const e=document.getElementById("loading-screen");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const t=document.querySelector(".hero");t&&t.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function Ee(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme")||(e?"dark":"light");S(t),document.querySelector(".theme-switcher")||Ae(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{localStorage.getItem("theme")||S(o.matches?"dark":"light")})}function S(e){const o={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[e]||e;document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o);const n=document.querySelector(".theme-switcher");if(n){const i=n.querySelector(".theme-btn");if(i){i.setAttribute("data-theme",o);const c=o==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';i.innerHTML=c}n.querySelectorAll(".theme-option").forEach(c=>{c.classList.toggle("active",c.getAttribute("data-theme")===o)})}document.querySelectorAll(".footer-theme-btn").forEach(i=>{const c=i.getAttribute("data-theme");i.classList.toggle("active",c===o)}),y&&((window.pageYOffset||document.documentElement.scrollTop)>50?y.style.background="var(--footer-bg)":y.style.background="var(--navbar-bg)")}function Ae(){const e=document.querySelector(".nav-container");if(!e)return;const t=document.createElement("div");t.className="theme-switcher";const o=document.documentElement.getAttribute("data-theme")||"light",n='<i class="fas fa-sun"></i>',r='<i class="fas fa-moon"></i>',i=o==="dark"?r:n;t.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${o}">${i}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${r} Dark</div>
                <div class="theme-option" data-theme="light">${n} Light</div>
            </div>
        </div>
    `,e.insertBefore(t,e.firstChild);const c=t.querySelector(".theme-btn"),f=t.querySelectorAll(".theme-option");c.setAttribute("tabindex","0"),c.setAttribute("role","button"),c.setAttribute("aria-label","Toggle theme switcher"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-haspopup","true"),c.addEventListener("click",()=>{const l=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",l?"false":"true")}),c.addEventListener("keydown",l=>{if(l.key==="Enter"||l.key===" "){l.preventDefault();const d=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",d?"false":"true"),d||setTimeout(()=>{const s=f[0];s&&s.focus()},100)}else l.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),c.setAttribute("aria-expanded","false"))}),f.forEach((l,d)=>{l.setAttribute("tabindex","0"),l.setAttribute("role","menuitem"),l.setAttribute("aria-label",`Switch to ${l.getAttribute("data-theme")} theme`),l.addEventListener("click",()=>{const s=l.getAttribute("data-theme");S(s),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",s);const a=s==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=a,c.focus()}),l.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" "){s.preventDefault();const a=l.getAttribute("data-theme");S(a),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",a);const u=a==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=u,c.focus()}else if(s.key==="Escape")t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.focus();else if(s.key==="ArrowDown"){s.preventDefault();const a=f[d+1]||f[0];a&&a.focus()}else if(s.key==="ArrowUp"){s.preventDefault();const a=f[d-1]||f[f.length-1];a&&a.focus()}})}),document.addEventListener("click",l=>{t.contains(l.target)||t.classList.remove("active")})}const Se={threshold:.1,rootMargin:"0px 0px -50px 0px"},xe=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},Se);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",xe.observe(e)});function qe(){const e=document.querySelector(".services-carousel");if(!e)return;const t=e.querySelectorAll(".carousel-slide"),o=e.querySelectorAll(".carousel-tab");let n=0;const r=t.length;function i(l){t.forEach(d=>d.classList.remove("active")),o.forEach((d,s)=>{d.classList.remove("active"),d.setAttribute("aria-selected","false")}),t[l]&&t[l].classList.add("active"),o[l]&&(o[l].classList.add("active"),o[l].setAttribute("aria-selected","true")),n=l,f()}o.forEach((l,d)=>{l.setAttribute("tabindex","0"),l.setAttribute("role","tab"),l.setAttribute("aria-selected",d===0?"true":"false"),l.setAttribute("aria-controls",`carousel-slide-${d}`),l.addEventListener("click",()=>{i(d)}),l.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" ")s.preventDefault(),i(d);else if(s.key==="ArrowLeft"){s.preventDefault();const a=(d-1+r)%r;o[a].focus(),i(a)}else if(s.key==="ArrowRight"){s.preventDefault();const a=(d+1)%r;o[a].focus(),i(a)}else s.key==="Home"?(s.preventDefault(),o[0].focus(),i(0)):s.key==="End"&&(s.preventDefault(),o[r-1].focus(),i(r-1))})});const c=i;i=function(l){c(l),o.forEach((d,s)=>{d.setAttribute("aria-selected",s===l?"true":"false")})};function f(){const l=e.querySelector(".carousel-slide.active");if(!l)return;const d=l.querySelector(".service-card-carousel");if(!d)return;const s=d.querySelector(".carousel-arrow-prev"),a=d.querySelector(".carousel-arrow-next");if(s){s.setAttribute("tabindex","0"),s.setAttribute("aria-label","Previous slide");const u=s.cloneNode(!0);s.parentNode.replaceChild(u,s),u.addEventListener("click",()=>{const m=(n-1+r)%r;i(m)}),u.addEventListener("keydown",m=>{if(m.key==="Enter"||m.key===" "){m.preventDefault();const b=(n-1+r)%r;i(b)}})}if(a){a.setAttribute("tabindex","0"),a.setAttribute("aria-label","Next slide");const u=a.cloneNode(!0);a.parentNode.replaceChild(u,a),u.addEventListener("click",()=>{const m=(n+1)%r;i(m)}),u.addEventListener("keydown",m=>{if(m.key==="Enter"||m.key===" "){m.preventDefault();const b=(n+1)%r;i(b)}})}}e.setAttribute("tabindex","0"),e.setAttribute("role","region"),e.setAttribute("aria-label","Services carousel"),e.addEventListener("keydown",l=>{if(l.key==="ArrowLeft"){l.preventDefault();const d=(n-1+r)%r;i(d)}else if(l.key==="ArrowRight"){l.preventDefault();const d=(n+1)%r;i(d)}}),i(0)}function Te(){const e=document.querySelectorAll(".team-card");if(e.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(e.forEach(o=>{o.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const r=o.classList.contains("active");e.forEach(i=>{i.classList.remove("active")}),r||o.classList.add("active")})}),document.addEventListener("click",o=>{let n=!1;e.forEach(r=>{r.contains(o.target)&&(n=!0)}),n||e.forEach(r=>{r.classList.remove("active")})}))}let V=0,Pe=150,y=null;function W(){if(y=document.querySelector(".navbar"),!y)return;let e;window.addEventListener("scroll",()=>{const t=window.pageYOffset||document.documentElement.scrollTop,o=t-V;clearTimeout(e),t>50?document.documentElement.getAttribute("data-theme")==="dark"?y.style.background="var(--footer-bg)":y.style.background="var(--primary-color)":y.style.background="var(--navbar-bg)",Math.abs(o)>5&&(o>0&&t>Pe?y.style.transform="translateY(-100%)":o<0&&(y.style.transform="translateY(0)")),V=t},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",W):W();let v=[],L=0,p=null,T=null,C=null,N=null;function K(){const e=document.querySelectorAll(".photo-item[data-gallery]");if(p=document.getElementById("photo-lightbox"),T=document.getElementById("lightbox-image"),C=document.getElementById("lightbox-current"),N=document.getElementById("lightbox-total"),!p||!T)return;const t=document.querySelector(".photo-lightbox-close"),o=document.querySelector(".photo-lightbox-prev"),n=document.querySelector(".photo-lightbox-next");e.forEach(r=>{r.addEventListener("click",i=>{i.preventDefault();const c=r.querySelectorAll(".photo-gallery-images img");c.length!==0&&(v=Array.from(c).map(f=>({src:f.src,alt:f.alt})),L=0,_())})}),t&&(t.setAttribute("tabindex","0"),t.setAttribute("aria-label","Close lightbox"),t.addEventListener("click",I),t.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),I())})),p.addEventListener("click",r=>{r.target===p&&I()}),o&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-label","Previous photo"),o.addEventListener("click",r=>{r.stopPropagation(),B()}),o.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),B())})),n&&(n.setAttribute("tabindex","0"),n.setAttribute("aria-label","Next photo"),n.addEventListener("click",r=>{r.stopPropagation(),O()}),n.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),O())})),e.forEach(r=>{r.setAttribute("tabindex","0"),r.setAttribute("role","button"),r.setAttribute("aria-label","Open photo gallery"),r.addEventListener("keydown",i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault();const c=r.querySelectorAll(".photo-gallery-images img");if(c.length===0)return;v=Array.from(c).map(f=>({src:f.src,alt:f.alt})),L=0,_()}})}),document.addEventListener("keydown",r=>{!p||!p.classList.contains("active")||(r.key==="Escape"?I():r.key==="ArrowLeft"?(r.preventDefault(),B()):r.key==="ArrowRight"&&(r.preventDefault(),O()))})}function _(){if(!p||v.length===0)return;p.setAttribute("role","dialog"),p.setAttribute("aria-label","Photo gallery"),p.setAttribute("aria-modal","true");const e=document.querySelector(".navbar");e&&(e.style.transform="translateY(-100%)"),p.classList.add("active"),document.body.style.overflow="hidden",F();const t=document.querySelector(".photo-lightbox-close");t&&setTimeout(()=>t.focus(),100)}function I(){if(!p)return;const e=document.querySelector(".navbar");e&&(e.style.transform="translateY(0)"),p.classList.remove("active"),p.removeAttribute("role"),p.removeAttribute("aria-label"),p.removeAttribute("aria-modal"),document.body.style.overflow="";const t=document.querySelector('.photo-item[data-gallery]:focus, .photo-item[data-gallery][tabindex="0"]');t&&t.focus(),v=[],L=0}function F(){if(!T||!C||!N||v.length===0)return;const e=v[L];T.src=e.src,T.alt=e.alt||`Photo ${L+1} of ${v.length}`,C.textContent=L+1,N.textContent=v.length;const t=document.querySelector(".photo-lightbox-prev"),o=document.querySelector(".photo-lightbox-next");t&&(t.style.display=v.length>1?"flex":"none"),o&&(o.style.display=v.length>1?"flex":"none");const n=document.querySelector(".photo-lightbox-counter");n&&(n.style.display=v.length>1?"block":"none")}function B(){v.length!==0&&(L=(L-1+v.length)%v.length,F())}function O(){v.length!==0&&(L=(L+1)%v.length,F())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",K):K();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function U(){const e=document.querySelectorAll(".footer-theme-btn");e.forEach(o=>{o.setAttribute("tabindex","0"),o.setAttribute("role","button");const n=o.getAttribute("data-theme");o.setAttribute("aria-label",`Switch to ${n} theme`),o.addEventListener("click",()=>{const r=o.getAttribute("data-theme");S(r)}),o.addEventListener("keydown",r=>{if(r.key==="Enter"||r.key===" "){r.preventDefault();const i=o.getAttribute("data-theme");S(i)}})});const t=document.documentElement.getAttribute("data-theme")||"light";e.forEach(o=>{const n=o.getAttribute("data-theme");o.classList.toggle("active",n===t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",U):U();function M(){if(window.innerWidth>1076)return;const e=document.querySelectorAll(".process-step");if(e.length===0)return;const t={root:null,rootMargin:"-30% 0px -30% 0px",threshold:.5},o=new IntersectionObserver(r=>{let i=null,c=0;r.forEach(f=>{f.isIntersecting&&f.intersectionRatio>c&&(c=f.intersectionRatio,i=f.target)}),e.forEach(f=>f.classList.remove("in-view")),i&&i.classList.add("in-view")},t);e.forEach(r=>{o.observe(r)});let n;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{o.disconnect(),e.forEach(r=>r.classList.remove("in-view")),window.innerWidth<=1076&&M()},250)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",M):M();
//# sourceMappingURL=main-ZPOmQBfc.js.map
