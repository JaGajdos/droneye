(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();let m="sk",b={};async function $(){const t=new URLSearchParams(window.location.search).get("lang");t&&["sk","en","de"].includes(t)?(m=t,localStorage.setItem("language",m)):m=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",m),await N(),H(),document.documentElement.style.visibility="visible",W()}async function N(){try{let o="/droneye/";if(!o||o==="/"){const a=window.location.pathname;o=a.substring(0,a.lastIndexOf("/")+1)}o.endsWith("/")||(o+="/");const t=`${o}src/locales/${m}.json`;console.log("Loading translations from:",t,"Base URL:",o);const n=await fetch(t);if(!n.ok)throw new Error(`Failed to load translations: ${n.status}`);b=await n.json(),console.log("Translations loaded successfully:",m)}catch(o){if(console.error("Error loading translations:",o),m!=="sk"){console.log("Falling back to Slovak translations"),m="sk";let t="/droneye/";if(!t||t==="/"){const a=window.location.pathname;t=a.substring(0,a.lastIndexOf("/")+1)}t.endsWith("/")||(t+="/");const n=await fetch(`${t}src/locales/sk.json`);n.ok&&(b=await n.json())}}}function H(){console.log("Applying translations, current language:",m);let o=0;document.querySelectorAll("[data-i18n]").forEach(n=>{const a=n.getAttribute("data-i18n"),e=E(b,a);e?(e.includes("<a ")||e.includes("<br>")||e.includes("<strong>")||e.includes("<em>")?n.innerHTML=e:n.textContent=e,o++):console.warn("Translation not found for key:",a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(n=>{const a=n.getAttribute("data-i18n-placeholder"),e=E(b,a);e?(n.placeholder=e,o++):console.warn("Placeholder translation not found for key:",a)});const t=document.querySelector("title[data-i18n-title]");if(t){const n=t.getAttribute("data-i18n-title"),a=E(b,n);a?(t.textContent=a,o++):console.warn("Title translation not found for key:",n)}console.log("Applied",o,"translations")}function E(o,t){return t.split(".").reduce((n,a)=>n&&n[a]!==void 0?n[a]:n&&Array.isArray(n)&&!isNaN(a)?n[parseInt(a)]:null,o)}function W(){const o=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",o.length),o.forEach(n=>{const a=n.cloneNode(!0);n.parentNode.replaceChild(a,n)}),document.querySelectorAll(".language-option").forEach(n=>{n.addEventListener("click",async a=>{a.preventDefault(),a.stopPropagation();const e=n.getAttribute("data-lang");console.log("Language option clicked:",e,"Current:",m),e!==m?(console.log("Switching language from",m,"to",e),m=e,localStorage.setItem("language",m),document.documentElement.setAttribute("lang",m),await N(),H(),I()):console.log("Language already set to",m)})}),I()}function I(){const o=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",m),o.forEach(t=>{const n=t.getAttribute("data-lang");t.classList.remove("active"),n===m&&(t.classList.add("active"),console.log("Set active class on:",n))})}document.addEventListener("DOMContentLoaded",function(){$(),Y(),j(),K(),G(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&U()});function Y(){const o=document.querySelectorAll(".nav-link"),t=document.querySelector(".hamburger"),n=document.querySelector(".nav-menu"),a="/droneye/";function e(r){const l=r.getAttribute("href");if(l&&l.startsWith("/")&&!l.startsWith(a)&&!l.startsWith("//")){const f=a+l.substring(1);r.setAttribute("href",f)}}o.forEach(e);const s=document.querySelector(".logo-link");if(s){const r=s.getAttribute("href");r==="/"||r===""?s.setAttribute("href",a):e(s)}const c=document.querySelector(".hero-button-secondary");c&&e(c),document.querySelectorAll('footer a[href^="/"]').forEach(e),o.forEach(r=>{r.addEventListener("click",l=>{o.forEach(f=>f.classList.remove("active")),r.classList.add("active"),n.classList.remove("active"),t.classList.remove("active")})}),t.setAttribute("tabindex","0"),t.setAttribute("role","button"),t.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-expanded","false");function i(){const r=n.classList.contains("active");t.classList.toggle("active"),n.classList.toggle("active"),t.setAttribute("aria-expanded",r?"false":"true"),r?document.body.style.overflow="":(document.body.style.overflow="hidden",setTimeout(()=>{const l=n.querySelector(".nav-link");l&&l.focus()},100))}t.addEventListener("click",i),t.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),i())});const u=document.querySelector(".mobile-menu-close");if(u){let r=function(){n.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus()};u.setAttribute("tabindex","0"),u.setAttribute("aria-label","Close navigation menu"),u.addEventListener("click",r),u.addEventListener("keydown",l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),r())})}o.forEach((r,l)=>{r.setAttribute("tabindex","0"),r.addEventListener("keydown",f=>{if(f.key==="Escape")n.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus();else if(f.key==="ArrowDown"){f.preventDefault();const d=o[l+1]||o[0];d&&d.focus()}else if(f.key==="ArrowUp"){f.preventDefault();const d=o[l-1]||o[o.length-1];d&&d.focus()}})}),n.addEventListener("click",r=>{(r.target===n||r.target.classList.contains("nav-menu"))&&(n.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")}),o.forEach(r=>{r.addEventListener("click",()=>{n.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow=""})}),document.addEventListener("click",r=>{!t.contains(r.target)&&!n.contains(r.target)&&(n.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")})}function U(){setTimeout(()=>{const o=document.getElementById("loading-screen");o&&(o.style.opacity="0",setTimeout(()=>{o.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",function(t){t.preventDefault();const n=document.querySelector(this.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(o){o.preventDefault(),new FormData(this);const t=this.querySelector('input[type="text"]').value,n=this.querySelector('input[type="email"]').value,a=this.querySelector("textarea").value;if(!t||!n||!a){alert(b.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const e=this.querySelector("button"),s=e.textContent;e.textContent=b.contact?.form?.sending||"Odosielam...",e.disabled=!0,setTimeout(()=>{alert(b.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),e.textContent=s,e.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const t=document.querySelector(".hero");t&&t.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function j(){const o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme")||(o?"dark":"light");A(t),document.querySelector(".theme-switcher")||F(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n=>{localStorage.getItem("theme")||A(n.matches?"dark":"light")})}function A(o){const n={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[o]||o;document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n);const a=document.querySelector(".theme-switcher");if(a){const s=a.querySelector(".theme-btn");if(s){s.setAttribute("data-theme",n);const c=n==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';s.innerHTML=c}a.querySelectorAll(".theme-option").forEach(c=>{c.classList.toggle("active",c.getAttribute("data-theme")===n)})}document.querySelectorAll(".footer-theme-btn").forEach(s=>{const c=s.getAttribute("data-theme");s.classList.toggle("active",c===n)}),y&&((window.pageYOffset||document.documentElement.scrollTop)>50?y.style.background="var(--footer-bg)":y.style.background="var(--navbar-bg)")}function F(){const o=document.querySelector(".nav-container");if(!o)return;const t=document.createElement("div");t.className="theme-switcher";const n=document.documentElement.getAttribute("data-theme")||"light",a='<i class="fas fa-sun"></i>',e='<i class="fas fa-moon"></i>',s=n==="dark"?e:a;t.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${n}">${s}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${e} Dark</div>
                <div class="theme-option" data-theme="light">${a} Light</div>
            </div>
        </div>
    `,o.insertBefore(t,o.firstChild);const c=t.querySelector(".theme-btn"),h=t.querySelectorAll(".theme-option");c.setAttribute("tabindex","0"),c.setAttribute("role","button"),c.setAttribute("aria-label","Toggle theme switcher"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-haspopup","true"),c.addEventListener("click",()=>{const i=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",i?"false":"true")}),c.addEventListener("keydown",i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault();const u=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",u?"false":"true"),u||setTimeout(()=>{const r=h[0];r&&r.focus()},100)}else i.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),c.setAttribute("aria-expanded","false"))}),h.forEach((i,u)=>{i.setAttribute("tabindex","0"),i.setAttribute("role","menuitem"),i.setAttribute("aria-label",`Switch to ${i.getAttribute("data-theme")} theme`),i.addEventListener("click",()=>{const r=i.getAttribute("data-theme");A(r),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",r);const l=r==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=l,c.focus()}),i.addEventListener("keydown",r=>{if(r.key==="Enter"||r.key===" "){r.preventDefault();const l=i.getAttribute("data-theme");A(l),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",l);const f=l==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=f,c.focus()}else if(r.key==="Escape")t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.focus();else if(r.key==="ArrowDown"){r.preventDefault();const l=h[u+1]||h[0];l&&l.focus()}else if(r.key==="ArrowUp"){r.preventDefault();const l=h[u-1]||h[h.length-1];l&&l.focus()}})}),document.addEventListener("click",i=>{t.contains(i.target)||t.classList.remove("active")})}const R={threshold:.1,rootMargin:"0px 0px -50px 0px"},z=new IntersectionObserver(o=>{o.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},R);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(o=>{o.style.opacity="0",o.style.transform="translateY(30px)",o.style.transition="opacity 0.6s ease, transform 0.6s ease",z.observe(o)});function G(){const o=document.querySelector(".services-carousel");if(!o)return;const t=o.querySelectorAll(".carousel-slide"),n=o.querySelectorAll(".carousel-tab");let a=0;const e=t.length;function s(i){t.forEach(u=>u.classList.remove("active")),n.forEach((u,r)=>{u.classList.remove("active"),u.setAttribute("aria-selected","false")}),t[i]&&t[i].classList.add("active"),n[i]&&(n[i].classList.add("active"),n[i].setAttribute("aria-selected","true")),a=i,h()}n.forEach((i,u)=>{i.setAttribute("tabindex","0"),i.setAttribute("role","tab"),i.setAttribute("aria-selected",u===0?"true":"false"),i.setAttribute("aria-controls",`carousel-slide-${u}`),i.addEventListener("click",()=>{s(u)}),i.addEventListener("keydown",r=>{if(r.key==="Enter"||r.key===" ")r.preventDefault(),s(u);else if(r.key==="ArrowLeft"){r.preventDefault();const l=(u-1+e)%e;n[l].focus(),s(l)}else if(r.key==="ArrowRight"){r.preventDefault();const l=(u+1)%e;n[l].focus(),s(l)}else r.key==="Home"?(r.preventDefault(),n[0].focus(),s(0)):r.key==="End"&&(r.preventDefault(),n[e-1].focus(),s(e-1))})});const c=s;s=function(i){c(i),n.forEach((u,r)=>{u.setAttribute("aria-selected",r===i?"true":"false")})};function h(){const i=o.querySelector(".carousel-slide.active");if(!i)return;const u=i.querySelector(".service-card-carousel");if(!u)return;const r=u.querySelector(".carousel-arrow-prev"),l=u.querySelector(".carousel-arrow-next");if(r){r.setAttribute("tabindex","0"),r.setAttribute("aria-label","Previous slide");const f=r.cloneNode(!0);r.parentNode.replaceChild(f,r),f.addEventListener("click",()=>{const d=(a-1+e)%e;s(d)}),f.addEventListener("keydown",d=>{if(d.key==="Enter"||d.key===" "){d.preventDefault();const L=(a-1+e)%e;s(L)}})}if(l){l.setAttribute("tabindex","0"),l.setAttribute("aria-label","Next slide");const f=l.cloneNode(!0);l.parentNode.replaceChild(f,l),f.addEventListener("click",()=>{const d=(a+1)%e;s(d)}),f.addEventListener("keydown",d=>{if(d.key==="Enter"||d.key===" "){d.preventDefault();const L=(a+1)%e;s(L)}})}}o.setAttribute("tabindex","0"),o.setAttribute("role","region"),o.setAttribute("aria-label","Services carousel"),o.addEventListener("keydown",i=>{if(i.key==="ArrowLeft"){i.preventDefault();const u=(a-1+e)%e;s(u)}else if(i.key==="ArrowRight"){i.preventDefault();const u=(a+1)%e;s(u)}}),s(0)}function K(){const o=document.querySelectorAll(".team-card");if(o.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(o.forEach(n=>{n.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const e=n.classList.contains("active");o.forEach(s=>{s.classList.remove("active")}),e||n.classList.add("active")})}),document.addEventListener("click",n=>{let a=!1;o.forEach(e=>{e.contains(n.target)&&(a=!0)}),a||o.forEach(e=>{e.classList.remove("active")})}))}let P=0,V=150,y=null;function C(){if(y=document.querySelector(".navbar"),!y)return;let o;window.addEventListener("scroll",()=>{const t=window.pageYOffset||document.documentElement.scrollTop,n=t-P;clearTimeout(o),t>50?document.documentElement.getAttribute("data-theme")==="dark"?y.style.background="var(--footer-bg)":y.style.background="var(--primary-color)":y.style.background="var(--navbar-bg)",Math.abs(n)>5&&(n>0&&t>V?y.style.transform="translateY(-100%)":n<0&&(y.style.transform="translateY(0)")),P=t},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",C):C();let g=[],p=0,v=null,k=null,q=null,T=null;function O(){const o=document.querySelectorAll(".photo-item[data-gallery]");if(v=document.getElementById("photo-lightbox"),k=document.getElementById("lightbox-image"),q=document.getElementById("lightbox-current"),T=document.getElementById("lightbox-total"),!v||!k)return;const t=document.querySelector(".photo-lightbox-close"),n=document.querySelector(".photo-lightbox-prev"),a=document.querySelector(".photo-lightbox-next");o.forEach(e=>{e.addEventListener("click",s=>{s.preventDefault();const c=e.querySelectorAll(".photo-gallery-images img");c.length!==0&&(g=Array.from(c).map(h=>({src:h.src,alt:h.alt})),p=0,M())})}),t&&(t.setAttribute("tabindex","0"),t.setAttribute("aria-label","Close lightbox"),t.addEventListener("click",w),t.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),w())})),v.addEventListener("click",e=>{e.target===v&&w()}),n&&(n.setAttribute("tabindex","0"),n.setAttribute("aria-label","Previous photo"),n.addEventListener("click",e=>{e.stopPropagation(),S()}),n.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),S())})),a&&(a.setAttribute("tabindex","0"),a.setAttribute("aria-label","Next photo"),a.addEventListener("click",e=>{e.stopPropagation(),x()}),a.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),x())})),o.forEach(e=>{e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label","Open photo gallery"),e.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" "){s.preventDefault();const c=e.querySelectorAll(".photo-gallery-images img");if(c.length===0)return;g=Array.from(c).map(h=>({src:h.src,alt:h.alt})),p=0,M()}})}),document.addEventListener("keydown",e=>{!v||!v.classList.contains("active")||(e.key==="Escape"?w():e.key==="ArrowLeft"?(e.preventDefault(),S()):e.key==="ArrowRight"&&(e.preventDefault(),x()))})}function M(){if(!v||g.length===0)return;v.setAttribute("role","dialog"),v.setAttribute("aria-label","Photo gallery"),v.setAttribute("aria-modal","true");const o=document.querySelector(".navbar");o&&(o.style.transform="translateY(-100%)"),v.classList.add("active"),document.body.style.overflow="hidden",D();const t=document.querySelector(".photo-lightbox-close");t&&setTimeout(()=>t.focus(),100)}function w(){if(!v)return;const o=document.querySelector(".navbar");o&&(o.style.transform="translateY(0)"),v.classList.remove("active"),v.removeAttribute("role"),v.removeAttribute("aria-label"),v.removeAttribute("aria-modal"),document.body.style.overflow="";const t=document.querySelector('.photo-item[data-gallery]:focus, .photo-item[data-gallery][tabindex="0"]');t&&t.focus(),g=[],p=0}function D(){if(!k||!q||!T||g.length===0)return;const o=g[p];k.src=o.src,k.alt=o.alt,q.textContent=p+1,T.textContent=g.length;const t=document.querySelector(".photo-lightbox-prev"),n=document.querySelector(".photo-lightbox-next");t&&(t.style.display=g.length>1?"flex":"none"),n&&(n.style.display=g.length>1?"flex":"none");const a=document.querySelector(".photo-lightbox-counter");a&&(a.style.display=g.length>1?"block":"none")}function S(){g.length!==0&&(p=(p-1+g.length)%g.length,D())}function x(){g.length!==0&&(p=(p+1)%g.length,D())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",O):O();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function B(){const o=document.querySelectorAll(".footer-theme-btn");o.forEach(n=>{n.setAttribute("tabindex","0"),n.setAttribute("role","button");const a=n.getAttribute("data-theme");n.setAttribute("aria-label",`Switch to ${a} theme`),n.addEventListener("click",()=>{const e=n.getAttribute("data-theme");A(e)}),n.addEventListener("keydown",e=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();const s=n.getAttribute("data-theme");A(s)}})});const t=document.documentElement.getAttribute("data-theme")||"light";o.forEach(n=>{const a=n.getAttribute("data-theme");n.classList.toggle("active",a===t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",B):B();
//# sourceMappingURL=main-CWof1sUc.js.map
