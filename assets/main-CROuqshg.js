(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();let l="sk",g={};async function N(){const n=new URLSearchParams(window.location.search).get("lang");n&&["sk","en","de"].includes(n)?(l=n,localStorage.setItem("language",l)):l=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",l),await M(),B(),document.documentElement.style.visibility="visible",D()}async function M(){try{const n=`/droneye/src/locales/${l}.json`;console.log("Loading translations from:",n);const e=await fetch(n);if(!e.ok)throw new Error(`Failed to load translations: ${e.status}`);g=await e.json(),console.log("Translations loaded successfully:",l)}catch(t){if(console.error("Error loading translations:",t),l!=="sk"){console.log("Falling back to Slovak translations"),l="sk";const e=await fetch("/droneye/src/locales/sk.json");e.ok&&(g=await e.json())}}}function B(){console.log("Applying translations, current language:",l);let t=0;document.querySelectorAll("[data-i18n]").forEach(e=>{const a=e.getAttribute("data-i18n"),o=w(g,a);o?(o.includes("<a ")||o.includes("<br>")||o.includes("<strong>")||o.includes("<em>")?e.innerHTML=o:e.textContent=o,t++):console.warn("Translation not found for key:",a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const a=e.getAttribute("data-i18n-placeholder"),o=w(g,a);o?(e.placeholder=o,t++):console.warn("Placeholder translation not found for key:",a)});const n=document.querySelector("title[data-i18n-title]");if(n){const e=n.getAttribute("data-i18n-title"),a=w(g,e);a?(n.textContent=a,t++):console.warn("Title translation not found for key:",e)}console.log("Applied",t,"translations")}function w(t,n){return n.split(".").reduce((e,a)=>e&&e[a]!==void 0?e[a]:e&&Array.isArray(e)&&!isNaN(a)?e[parseInt(a)]:null,t)}function D(){const t=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",t.length),t.forEach(e=>{const a=e.cloneNode(!0);e.parentNode.replaceChild(a,e)}),document.querySelectorAll(".language-option").forEach(e=>{e.addEventListener("click",async a=>{a.preventDefault(),a.stopPropagation();const o=e.getAttribute("data-lang");console.log("Language option clicked:",o,"Current:",l),o!==l?(console.log("Switching language from",l,"to",o),l=o,localStorage.setItem("language",l),document.documentElement.setAttribute("lang",l),await M(),B(),q()):console.log("Language already set to",l)})}),q()}function q(){const t=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",l),t.forEach(n=>{const e=n.getAttribute("data-lang");n.classList.remove("active"),e===l&&(n.classList.add("active"),console.log("Set active class on:",e))})}document.addEventListener("DOMContentLoaded",function(){N(),H(),$(),z(),U(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&Y()});function H(){const t=document.querySelectorAll(".nav-link"),n=document.querySelector(".hamburger"),e=document.querySelector(".nav-menu"),a="/droneye/";function o(s){const d=s.getAttribute("href");if(d&&d.startsWith("/")&&!d.startsWith(a)&&!d.startsWith("//")){const m=a+d.substring(1);s.setAttribute("href",m)}}t.forEach(o);const r=document.querySelector(".logo-link");if(r){const s=r.getAttribute("href");s==="/"||s===""?r.setAttribute("href",a):o(r)}const c=document.querySelector(".hero-button-secondary");c&&o(c),document.querySelectorAll('footer a[href^="/"]').forEach(o),t.forEach(s=>{s.addEventListener("click",d=>{t.forEach(m=>m.classList.remove("active")),s.classList.add("active"),e.classList.remove("active"),n.classList.remove("active")})}),n.addEventListener("click",()=>{n.classList.toggle("active"),e.classList.toggle("active")}),document.addEventListener("click",s=>{!n.contains(s.target)&&!e.contains(s.target)&&(e.classList.remove("active"),n.classList.remove("active"))})}function Y(){setTimeout(()=>{const t=document.getElementById("loading-screen");t&&(t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(t){t.preventDefault(),new FormData(this);const n=this.querySelector('input[type="text"]').value,e=this.querySelector('input[type="email"]').value,a=this.querySelector("textarea").value;if(!n||!e||!a){alert(g.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const o=this.querySelector("button"),r=o.textContent;o.textContent=g.contact?.form?.sending||"Odosielam...",o.disabled=!0,setTimeout(()=>{alert(g.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),o.textContent=r,o.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const n=document.querySelector(".hero");n&&n.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function $(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme")||(t?"dark":"light");b(n),document.querySelector(".theme-switcher")||W(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme")||b(e.matches?"dark":"light")})}function b(t){const e={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[t]||t;document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const a=document.querySelector(".theme-switcher");if(a){const r=a.querySelector(".theme-btn");if(r){r.setAttribute("data-theme",e);const c=e==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';r.innerHTML=c}a.querySelectorAll(".theme-option").forEach(c=>{c.classList.toggle("active",c.getAttribute("data-theme")===e)})}document.querySelectorAll(".footer-theme-btn").forEach(r=>{const c=r.getAttribute("data-theme");r.classList.toggle("active",c===e)}),f&&((window.pageYOffset||document.documentElement.scrollTop)>50?f.style.background="var(--footer-bg)":f.style.background="var(--navbar-bg)")}function W(){const t=document.querySelector(".nav-container");if(!t)return;const n=document.createElement("div");n.className="theme-switcher";const e=document.documentElement.getAttribute("data-theme")||"light",a='<i class="fas fa-sun"></i>',o='<i class="fas fa-moon"></i>',r=e==="dark"?o:a;n.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${e}">${r}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${o} Dark</div>
                <div class="theme-option" data-theme="light">${a} Light</div>
            </div>
        </div>
    `,t.insertBefore(n,t.firstChild);const c=n.querySelector(".theme-btn"),i=n.querySelectorAll(".theme-option");c.addEventListener("click",()=>{n.classList.toggle("active")}),i.forEach(s=>{s.addEventListener("click",()=>{const d=s.getAttribute("data-theme");b(d),n.classList.remove("active"),c.setAttribute("data-theme",d);const m=d==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=m})}),document.addEventListener("click",s=>{n.contains(s.target)||n.classList.remove("active")})}const j={threshold:.1,rootMargin:"0px 0px -50px 0px"},F=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&(n.target.style.opacity="1",n.target.style.transform="translateY(0)")})},j);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",F.observe(t)});function U(){const t=document.querySelector(".services-carousel");if(!t)return;const n=t.querySelectorAll(".carousel-slide"),e=t.querySelectorAll(".carousel-tab");let a=0;const o=n.length;function r(i){n.forEach(s=>s.classList.remove("active")),e.forEach(s=>s.classList.remove("active")),n[i]&&n[i].classList.add("active"),e[i]&&e[i].classList.add("active"),a=i,c()}function c(){const i=t.querySelector(".carousel-slide.active");if(!i)return;const s=i.querySelector(".service-card-carousel");if(!s)return;const d=s.querySelector(".carousel-arrow-prev"),m=s.querySelector(".carousel-arrow-next");if(d){const p=d.cloneNode(!0);d.parentNode.replaceChild(p,d),p.addEventListener("click",()=>{const L=(a-1+o)%o;r(L)})}if(m){const p=m.cloneNode(!0);m.parentNode.replaceChild(p,m),p.addEventListener("click",()=>{const L=(a+1)%o;r(L)})}}e.forEach((i,s)=>{i.addEventListener("click",()=>{r(s)})}),document.addEventListener("keydown",i=>{if(t.closest(".page.active")){if(i.key==="ArrowLeft"){const s=(a-1+o)%o;r(s)}else if(i.key==="ArrowRight"){const s=(a+1)%o;r(s)}}}),r(0)}function z(){const t=document.querySelectorAll(".team-card");if(t.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(t.forEach(e=>{e.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const o=e.classList.contains("active");t.forEach(r=>{r.classList.remove("active")}),o||e.classList.add("active")})}),document.addEventListener("click",e=>{let a=!1;t.forEach(o=>{o.contains(e.target)&&(a=!0)}),a||t.forEach(o=>{o.classList.remove("active")})}))}let x=0,R=150,f=null;function T(){if(f=document.querySelector(".navbar"),!f)return;let t;window.addEventListener("scroll",()=>{const n=window.pageYOffset||document.documentElement.scrollTop,e=n-x;clearTimeout(t),n>50?document.documentElement.getAttribute("data-theme")==="dark"?f.style.background="var(--footer-bg)":f.style.background="var(--primary-color)":f.style.background="var(--navbar-bg)",Math.abs(e)>5&&(e>0&&n>R?f.style.transform="translateY(-100%)":e<0&&(f.style.transform="translateY(0)")),x=n},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();let u=[],v=0,h=null,y=null,E=null,k=null;function I(){const t=document.querySelectorAll(".photo-item[data-gallery]");if(h=document.getElementById("photo-lightbox"),y=document.getElementById("lightbox-image"),E=document.getElementById("lightbox-current"),k=document.getElementById("lightbox-total"),!h||!y)return;const n=document.querySelector(".photo-lightbox-close"),e=document.querySelector(".photo-lightbox-prev"),a=document.querySelector(".photo-lightbox-next");t.forEach(o=>{o.addEventListener("click",r=>{r.preventDefault();const c=o.querySelectorAll(".photo-gallery-images img");c.length!==0&&(u=Array.from(c).map(i=>({src:i.src,alt:i.alt})),v=0,G())})}),n&&n.addEventListener("click",S),h.addEventListener("click",o=>{o.target===h&&S()}),e&&e.addEventListener("click",o=>{o.stopPropagation(),C()}),a&&a.addEventListener("click",o=>{o.stopPropagation(),P()}),document.addEventListener("keydown",o=>{h.classList.contains("active")&&(o.key==="Escape"?S():o.key==="ArrowLeft"?C():o.key==="ArrowRight"&&P())})}function G(){if(!h||u.length===0)return;const t=document.querySelector(".navbar");t&&(t.style.transform="translateY(-100%)"),h.classList.add("active"),document.body.style.overflow="hidden",A()}function S(){if(!h)return;const t=document.querySelector(".navbar");t&&(t.style.transform="translateY(0)"),h.classList.remove("active"),document.body.style.overflow="",u=[],v=0}function A(){if(!y||!E||!k||u.length===0)return;const t=u[v];y.src=t.src,y.alt=t.alt,E.textContent=v+1,k.textContent=u.length;const n=document.querySelector(".photo-lightbox-prev"),e=document.querySelector(".photo-lightbox-next");n&&(n.style.display=u.length>1?"flex":"none"),e&&(e.style.display=u.length>1?"flex":"none");const a=document.querySelector(".photo-lightbox-counter");a&&(a.style.display=u.length>1?"block":"none")}function C(){u.length!==0&&(v=(v-1+u.length)%u.length,A())}function P(){u.length!==0&&(v=(v+1)%u.length,A())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",I):I();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function O(){const t=document.querySelectorAll(".footer-theme-btn");t.forEach(e=>{e.addEventListener("click",()=>{const a=e.getAttribute("data-theme");b(a)})});const n=document.documentElement.getAttribute("data-theme")||"light";t.forEach(e=>{const a=e.getAttribute("data-theme");e.classList.toggle("active",a===n)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",O):O();
//# sourceMappingURL=main-CROuqshg.js.map
