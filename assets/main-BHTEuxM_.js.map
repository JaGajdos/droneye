{"version":3,"file":"main-BHTEuxM_.js","sources":["../../node_modules/three/examples/jsm/objects/Water.js","../../node_modules/three/examples/jsm/objects/Sky.js","../../src/main.js"],"sourcesContent":["import {\n\tColor,\n\tFrontSide,\n\tMatrix4,\n\tMesh,\n\tPerspectiveCamera,\n\tPlane,\n\tShaderMaterial,\n\tUniformsLib,\n\tUniformsUtils,\n\tVector3,\n\tVector4,\n\tWebGLRenderTarget\n} from 'three';\n\n/**\n * Work based on :\n * https://github.com/Slayvin: Flat mirror for three.js\n * https://home.adelphi.edu/~stemkoski/ : An implementation of water shader based on the flat mirror\n * http://29a.ch/ && http://29a.ch/slides/2012/webglwater/ : Water shader explanations in WebGL\n */\n\nclass Water extends Mesh {\n\n\tconstructor( geometry, options = {} ) {\n\n\t\tsuper( geometry );\n\n\t\tthis.isWater = true;\n\n\t\tconst scope = this;\n\n\t\tconst textureWidth = options.textureWidth !== undefined ? options.textureWidth : 512;\n\t\tconst textureHeight = options.textureHeight !== undefined ? options.textureHeight : 512;\n\n\t\tconst clipBias = options.clipBias !== undefined ? options.clipBias : 0.0;\n\t\tconst alpha = options.alpha !== undefined ? options.alpha : 1.0;\n\t\tconst time = options.time !== undefined ? options.time : 0.0;\n\t\tconst normalSampler = options.waterNormals !== undefined ? options.waterNormals : null;\n\t\tconst sunDirection = options.sunDirection !== undefined ? options.sunDirection : new Vector3( 0.70707, 0.70707, 0.0 );\n\t\tconst sunColor = new Color( options.sunColor !== undefined ? options.sunColor : 0xffffff );\n\t\tconst waterColor = new Color( options.waterColor !== undefined ? options.waterColor : 0x7F7F7F );\n\t\tconst eye = options.eye !== undefined ? options.eye : new Vector3( 0, 0, 0 );\n\t\tconst distortionScale = options.distortionScale !== undefined ? options.distortionScale : 20.0;\n\t\tconst side = options.side !== undefined ? options.side : FrontSide;\n\t\tconst fog = options.fog !== undefined ? options.fog : false;\n\n\t\t//\n\n\t\tconst mirrorPlane = new Plane();\n\t\tconst normal = new Vector3();\n\t\tconst mirrorWorldPosition = new Vector3();\n\t\tconst cameraWorldPosition = new Vector3();\n\t\tconst rotationMatrix = new Matrix4();\n\t\tconst lookAtPosition = new Vector3( 0, 0, - 1 );\n\t\tconst clipPlane = new Vector4();\n\n\t\tconst view = new Vector3();\n\t\tconst target = new Vector3();\n\t\tconst q = new Vector4();\n\n\t\tconst textureMatrix = new Matrix4();\n\n\t\tconst mirrorCamera = new PerspectiveCamera();\n\n\t\tconst renderTarget = new WebGLRenderTarget( textureWidth, textureHeight );\n\n\t\tconst mirrorShader = {\n\n\t\t\tname: 'MirrorShader',\n\n\t\t\tuniforms: UniformsUtils.merge( [\n\t\t\t\tUniformsLib[ 'fog' ],\n\t\t\t\tUniformsLib[ 'lights' ],\n\t\t\t\t{\n\t\t\t\t\t'normalSampler': { value: null },\n\t\t\t\t\t'mirrorSampler': { value: null },\n\t\t\t\t\t'alpha': { value: 1.0 },\n\t\t\t\t\t'time': { value: 0.0 },\n\t\t\t\t\t'size': { value: 1.0 },\n\t\t\t\t\t'distortionScale': { value: 20.0 },\n\t\t\t\t\t'textureMatrix': { value: new Matrix4() },\n\t\t\t\t\t'sunColor': { value: new Color( 0x7F7F7F ) },\n\t\t\t\t\t'sunDirection': { value: new Vector3( 0.70707, 0.70707, 0 ) },\n\t\t\t\t\t'eye': { value: new Vector3() },\n\t\t\t\t\t'waterColor': { value: new Color( 0x555555 ) }\n\t\t\t\t}\n\t\t\t] ),\n\n\t\t\tvertexShader: /* glsl */`\n\t\t\t\tuniform mat4 textureMatrix;\n\t\t\t\tuniform float time;\n\n\t\t\t\tvarying vec4 mirrorCoord;\n\t\t\t\tvarying vec4 worldPosition;\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_vertex>\n\t\t\t\t#include <shadowmap_pars_vertex>\n\t\t\t\t#include <logdepthbuf_pars_vertex>\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\n\t\t\t\t\tworldPosition = mirrorCoord.xyzw;\n\t\t\t\t\tmirrorCoord = textureMatrix * mirrorCoord;\n\t\t\t\t\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\t#include <beginnormal_vertex>\n\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t#include <fog_vertex>\n\t\t\t\t#include <shadowmap_vertex>\n\t\t\t}`,\n\n\t\t\tfragmentShader: /* glsl */`\n\t\t\t\tuniform sampler2D mirrorSampler;\n\t\t\t\tuniform float alpha;\n\t\t\t\tuniform float time;\n\t\t\t\tuniform float size;\n\t\t\t\tuniform float distortionScale;\n\t\t\t\tuniform sampler2D normalSampler;\n\t\t\t\tuniform vec3 sunColor;\n\t\t\t\tuniform vec3 sunDirection;\n\t\t\t\tuniform vec3 eye;\n\t\t\t\tuniform vec3 waterColor;\n\n\t\t\t\tvarying vec4 mirrorCoord;\n\t\t\t\tvarying vec4 worldPosition;\n\n\t\t\t\tvec4 getNoise( vec2 uv ) {\n\t\t\t\t\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n\t\t\t\t\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n\t\t\t\t\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n\t\t\t\t\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n\t\t\t\t\tvec4 noise = texture2D( normalSampler, uv0 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv1 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv2 ) +\n\t\t\t\t\t\ttexture2D( normalSampler, uv3 );\n\t\t\t\t\treturn noise * 0.5 - 1.0;\n\t\t\t\t}\n\n\t\t\t\tvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n\t\t\t\t\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n\t\t\t\t\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\n\t\t\t\t\tspecularColor += pow( direction, shiny ) * sunColor * spec;\n\t\t\t\t\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n\t\t\t\t}\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <packing>\n\t\t\t\t#include <bsdfs>\n\t\t\t\t#include <fog_pars_fragment>\n\t\t\t\t#include <logdepthbuf_pars_fragment>\n\t\t\t\t#include <lights_pars_begin>\n\t\t\t\t#include <shadowmap_pars_fragment>\n\t\t\t\t#include <shadowmask_pars_fragment>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <logdepthbuf_fragment>\n\t\t\t\t\tvec4 noise = getNoise( worldPosition.xz * size );\n\t\t\t\t\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n\t\t\t\t\tvec3 diffuseLight = vec3(0.0);\n\t\t\t\t\tvec3 specularLight = vec3(0.0);\n\n\t\t\t\t\tvec3 worldToEye = eye-worldPosition.xyz;\n\t\t\t\t\tvec3 eyeDirection = normalize( worldToEye );\n\t\t\t\t\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n\t\t\t\t\tfloat distance = length(worldToEye);\n\n\t\t\t\t\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\n\t\t\t\t\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );\n\n\t\t\t\t\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n\t\t\t\t\tfloat rf0 = 0.3;\n\t\t\t\t\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n\t\t\t\t\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n\t\t\t\t\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);\n\t\t\t\t\tvec3 outgoingLight = albedo;\n\t\t\t\t\tgl_FragColor = vec4( outgoingLight, alpha );\n\n\t\t\t\t\t#include <tonemapping_fragment>\n\t\t\t\t\t#include <colorspace_fragment>\n\t\t\t\t\t#include <fog_fragment>\t\n\t\t\t\t}`\n\n\t\t};\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: mirrorShader.name,\n\t\t\tuniforms: UniformsUtils.clone( mirrorShader.uniforms ),\n\t\t\tvertexShader: mirrorShader.vertexShader,\n\t\t\tfragmentShader: mirrorShader.fragmentShader,\n\t\t\tlights: true,\n\t\t\tside: side,\n\t\t\tfog: fog\n\t\t} );\n\n\t\tmaterial.uniforms[ 'mirrorSampler' ].value = renderTarget.texture;\n\t\tmaterial.uniforms[ 'textureMatrix' ].value = textureMatrix;\n\t\tmaterial.uniforms[ 'alpha' ].value = alpha;\n\t\tmaterial.uniforms[ 'time' ].value = time;\n\t\tmaterial.uniforms[ 'normalSampler' ].value = normalSampler;\n\t\tmaterial.uniforms[ 'sunColor' ].value = sunColor;\n\t\tmaterial.uniforms[ 'waterColor' ].value = waterColor;\n\t\tmaterial.uniforms[ 'sunDirection' ].value = sunDirection;\n\t\tmaterial.uniforms[ 'distortionScale' ].value = distortionScale;\n\n\t\tmaterial.uniforms[ 'eye' ].value = eye;\n\n\t\tscope.material = material;\n\n\t\tscope.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\tmirrorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\n\t\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\trotationMatrix.extractRotation( scope.matrixWorld );\n\n\t\t\tnormal.set( 0, 0, 1 );\n\t\t\tnormal.applyMatrix4( rotationMatrix );\n\n\t\t\tview.subVectors( mirrorWorldPosition, cameraWorldPosition );\n\n\t\t\t// Avoid rendering when mirror is facing away\n\n\t\t\tif ( view.dot( normal ) > 0 ) return;\n\n\t\t\tview.reflect( normal ).negate();\n\t\t\tview.add( mirrorWorldPosition );\n\n\t\t\trotationMatrix.extractRotation( camera.matrixWorld );\n\n\t\t\tlookAtPosition.set( 0, 0, - 1 );\n\t\t\tlookAtPosition.applyMatrix4( rotationMatrix );\n\t\t\tlookAtPosition.add( cameraWorldPosition );\n\n\t\t\ttarget.subVectors( mirrorWorldPosition, lookAtPosition );\n\t\t\ttarget.reflect( normal ).negate();\n\t\t\ttarget.add( mirrorWorldPosition );\n\n\t\t\tmirrorCamera.position.copy( view );\n\t\t\tmirrorCamera.up.set( 0, 1, 0 );\n\t\t\tmirrorCamera.up.applyMatrix4( rotationMatrix );\n\t\t\tmirrorCamera.up.reflect( normal );\n\t\t\tmirrorCamera.lookAt( target );\n\n\t\t\tmirrorCamera.far = camera.far; // Used in WebGLBackground\n\n\t\t\tmirrorCamera.updateMatrixWorld();\n\t\t\tmirrorCamera.projectionMatrix.copy( camera.projectionMatrix );\n\n\t\t\t// Update the texture matrix\n\t\t\ttextureMatrix.set(\n\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t);\n\t\t\ttextureMatrix.multiply( mirrorCamera.projectionMatrix );\n\t\t\ttextureMatrix.multiply( mirrorCamera.matrixWorldInverse );\n\n\t\t\t// Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\n\t\t\t// Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\n\t\t\tmirrorPlane.setFromNormalAndCoplanarPoint( normal, mirrorWorldPosition );\n\t\t\tmirrorPlane.applyMatrix4( mirrorCamera.matrixWorldInverse );\n\n\t\t\tclipPlane.set( mirrorPlane.normal.x, mirrorPlane.normal.y, mirrorPlane.normal.z, mirrorPlane.constant );\n\n\t\t\tconst projectionMatrix = mirrorCamera.projectionMatrix;\n\n\t\t\tq.x = ( Math.sign( clipPlane.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\n\t\t\tq.y = ( Math.sign( clipPlane.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\n\t\t\tq.z = - 1.0;\n\t\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\n\n\t\t\t// Calculate the scaled plane vector\n\t\t\tclipPlane.multiplyScalar( 2.0 / clipPlane.dot( q ) );\n\n\t\t\t// Replacing the third row of the projection matrix\n\t\t\tprojectionMatrix.elements[ 2 ] = clipPlane.x;\n\t\t\tprojectionMatrix.elements[ 6 ] = clipPlane.y;\n\t\t\tprojectionMatrix.elements[ 10 ] = clipPlane.z + 1.0 - clipBias;\n\t\t\tprojectionMatrix.elements[ 14 ] = clipPlane.w;\n\n\t\t\teye.setFromMatrixPosition( camera.matrixWorld );\n\n\t\t\t// Render\n\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\t\tconst currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n\n\t\t\tscope.visible = false;\n\n\t\t\trenderer.xr.enabled = false; // Avoid camera modification and recursion\n\t\t\trenderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\n\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.state.buffers.depth.setMask( true ); // make sure the depth buffer is writable so it can be properly cleared, see #18897\n\n\t\t\tif ( renderer.autoClear === false ) renderer.clear();\n\t\t\trenderer.render( scene, mirrorCamera );\n\n\t\t\tscope.visible = true;\n\n\t\t\trenderer.xr.enabled = currentXrEnabled;\n\t\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n\n\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t// Restore viewport\n\n\t\t\tconst viewport = camera.viewport;\n\n\t\t\tif ( viewport !== undefined ) {\n\n\t\t\t\trenderer.state.viewport( viewport );\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n}\n\nexport { Water };\n","import {\n\tBackSide,\n\tBoxGeometry,\n\tMesh,\n\tShaderMaterial,\n\tUniformsUtils,\n\tVector3\n} from 'three';\n\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://simonwallner.at/project/atmospheric-scattering/\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nclass Sky extends Mesh {\n\n\tconstructor() {\n\n\t\tconst shader = Sky.SkyShader;\n\n\t\tconst material = new ShaderMaterial( {\n\t\t\tname: shader.name,\n\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false\n\t\t} );\n\n\t\tsuper( new BoxGeometry( 1, 1, 1 ), material );\n\n\t\tthis.isSky = true;\n\n\t}\n\n}\n\nSky.SkyShader = {\n\n\tname: 'SkyShader',\n\n\tuniforms: {\n\t\t'turbidity': { value: 2 },\n\t\t'rayleigh': { value: 1 },\n\t\t'mieCoefficient': { value: 0.005 },\n\t\t'mieDirectionalG': { value: 0.8 },\n\t\t'sunPosition': { value: new Vector3() },\n\t\t'up': { value: new Vector3( 0, 1, 0 ) }\n\t},\n\n\tvertexShader: /* glsl */`\n\t\tuniform vec3 sunPosition;\n\t\tuniform float rayleigh;\n\t\tuniform float turbidity;\n\t\tuniform float mieCoefficient;\n\t\tuniform vec3 up;\n\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float e = 2.71828182845904523536028747135266249775724709369995957;\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\t// wavelength of used primaries, according to preetham\n\t\tconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n\t\t// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n\t\t// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n\t\tconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n\t\t// mie stuff\n\t\t// K coefficient for the primaries\n\t\tconst float v = 4.0;\n\t\tconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n\t\t// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n\t\tconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n\t\t// earth shadow hack\n\t\t// cutoffAngle = pi / 1.95;\n\t\tconst float cutoffAngle = 1.6110731556870734;\n\t\tconst float steepness = 1.5;\n\t\tconst float EE = 1000.0;\n\n\t\tfloat sunIntensity( float zenithAngleCos ) {\n\t\t\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n\t\t\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n\t\t}\n\n\t\tvec3 totalMie( float T ) {\n\t\t\tfloat c = ( 0.2 * T ) * 10E-18;\n\t\t\treturn 0.434 * c * MieConst;\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\tvWorldPosition = worldPosition.xyz;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n\t\t\tvSunDirection = normalize( sunPosition );\n\n\t\t\tvSunE = sunIntensity( dot( vSunDirection, up ) );\n\n\t\t\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n\t\t\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n\t\t\t// extinction (absorbtion + out scattering)\n\t\t\t// rayleigh coefficients\n\t\t\tvBetaR = totalRayleigh * rayleighCoefficient;\n\n\t\t\t// mie coefficients\n\t\t\tvBetaM = totalMie( turbidity ) * mieCoefficient;\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\t\tvarying vec3 vWorldPosition;\n\t\tvarying vec3 vSunDirection;\n\t\tvarying float vSunfade;\n\t\tvarying vec3 vBetaR;\n\t\tvarying vec3 vBetaM;\n\t\tvarying float vSunE;\n\n\t\tuniform float mieDirectionalG;\n\t\tuniform vec3 up;\n\n\t\t// constants for atmospheric scattering\n\t\tconst float pi = 3.141592653589793238462643383279502884197169;\n\n\t\tconst float n = 1.0003; // refractive index of air\n\t\tconst float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n\t\t// optical length at zenith for molecules\n\t\tconst float rayleighZenithLength = 8.4E3;\n\t\tconst float mieZenithLength = 1.25E3;\n\t\t// 66 arc seconds -> degrees, and the cosine of that\n\t\tconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n\t\t// 3.0 / ( 16.0 * pi )\n\t\tconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n\t\t// 1.0 / ( 4.0 * pi )\n\t\tconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\n\t\tfloat rayleighPhase( float cosTheta ) {\n\t\t\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n\t\t}\n\n\t\tfloat hgPhase( float cosTheta, float g ) {\n\t\t\tfloat g2 = pow( g, 2.0 );\n\t\t\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n\t\t\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec3 direction = normalize( vWorldPosition - cameraPosition );\n\n\t\t\t// optical length\n\t\t\t// cutoff angle at 90 to avoid singularity in next formula.\n\t\t\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n\t\t\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n\t\t\tfloat sR = rayleighZenithLength * inverse;\n\t\t\tfloat sM = mieZenithLength * inverse;\n\n\t\t\t// combined extinction factor\n\t\t\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n\t\t\t// in scattering\n\t\t\tfloat cosTheta = dot( direction, vSunDirection );\n\n\t\t\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n\t\t\tvec3 betaRTheta = vBetaR * rPhase;\n\n\t\t\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );\n\t\t\tvec3 betaMTheta = vBetaM * mPhase;\n\n\t\t\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n\t\t\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n\t\t\t// nightsky\n\t\t\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n\t\t\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n\t\t\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n\t\t\tvec3 L0 = vec3( 0.1 ) * Fex;\n\n\t\t\t// composition + solar disc\n\t\t\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n\t\t\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n\t\t\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n\t\t\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n\t\t\tgl_FragColor = vec4( retColor, 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\n\t\t}`\n\n};\n\nexport { Sky };\n","import * as THREE from 'three';\nimport { Water } from 'three/addons/objects/Water.js';\nimport { Sky } from 'three/addons/objects/Sky.js';\n\n// Global variables\nlet scene, camera, renderer, animationId;\nlet mouseX = 0, mouseY = 0;\nlet windowHalfX = window.innerWidth / 2;\nlet windowHalfY = window.innerHeight / 2;\nlet water, sky, sun;\nlet scrollY = 0;\nlet targetY = 200; // Start at ocean level\nlet animationStarted = false;\nlet space, spaceGeometry, spaceMaterial;\n\n// Performance monitoring\nlet frameCount = 0;\nlet lastTime = performance.now();\nlet fps = 60;\nlet frameRateLimit = 60; // Target FPS\nlet lastFrameTime = 0;\n\n// Internationalization\nlet currentLanguage = 'sk';\nlet translations = {};\n\n// Initialize internationalization\nasync function initInternationalization() {\n    // Load saved language from localStorage or default to 'sk'\n    currentLanguage = localStorage.getItem('language') || 'sk';\n    \n    // Load translations\n    await loadTranslations();\n    \n    // Apply translations\n    applyTranslations();\n    \n    // Initialize language switcher\n    initLanguageSwitcher();\n}\n\n// Load translation files\nasync function loadTranslations() {\n    try {\n        const response = await fetch(`/src/locales/${currentLanguage}.json`);\n        translations = await response.json();\n    } catch (error) {\n        console.error('Error loading translations:', error);\n        // Fallback to Slovak if loading fails\n        if (currentLanguage !== 'sk') {\n            currentLanguage = 'sk';\n            const response = await fetch('/src/locales/sk.json');\n            translations = await response.json();\n        }\n    }\n}\n\n// Apply translations to elements\nfunction applyTranslations() {\n    // Update elements with data-i18n attribute\n    document.querySelectorAll('[data-i18n]').forEach(element => {\n        const key = element.getAttribute('data-i18n');\n        const translation = getNestedTranslation(translations, key);\n        if (translation) {\n            element.textContent = translation;\n        }\n    });\n    \n    // Update placeholders\n    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {\n        const key = element.getAttribute('data-i18n-placeholder');\n        const translation = getNestedTranslation(translations, key);\n        if (translation) {\n            element.placeholder = translation;\n        }\n    });\n}\n\n// Get nested translation value\nfunction getNestedTranslation(obj, path) {\n    return path.split('.').reduce((current, key) => {\n        if (current && current[key] !== undefined) {\n            return current[key];\n        }\n        // Handle array indices (e.g., \"items.0\")\n        if (current && Array.isArray(current) && !isNaN(key)) {\n            return current[parseInt(key)];\n        }\n        return null;\n    }, obj);\n}\n\n// Initialize language switcher\nfunction initLanguageSwitcher() {\n    const languageOptions = document.querySelectorAll('.language-option');\n    \n    languageOptions.forEach(option => {\n        option.addEventListener('click', async (e) => {\n            e.preventDefault();\n            const newLang = option.getAttribute('data-lang');\n            \n            if (newLang !== currentLanguage) {\n                currentLanguage = newLang;\n                localStorage.setItem('language', currentLanguage);\n                \n                // Load new translations\n                await loadTranslations();\n                \n                // Apply new translations\n                applyTranslations();\n                \n                // Update active language option\n                updateActiveLanguageOption();\n            }\n        });\n    });\n    \n    // Set initial active language\n    updateActiveLanguageOption();\n}\n\n// Update active language option\nfunction updateActiveLanguageOption() {\n    const languageOptions = document.querySelectorAll('.language-option');\n    languageOptions.forEach(option => {\n        option.classList.remove('active');\n        if (option.getAttribute('data-lang') === currentLanguage) {\n            option.classList.add('active');\n        }\n    });\n}\n\n// Initialize the application\ndocument.addEventListener('DOMContentLoaded', function() {\n    initInternationalization();\n    initNavigation();\n    initThemeSwitcher();\n    \n    // Only show loading screen on homepage (CSS handles hiding on subpages)\n    const isHomepage = window.location.pathname === '/' || window.location.pathname.endsWith('index.html') || window.location.pathname.endsWith('/');\n    if (isHomepage) {\n        hideLoadingScreen();\n        // Initialize Three.js immediately on homepage\n        initThreeJS();\n    }\n});\n\n// Fast loading screen hide function removed - no longer needed\n\n// Three.js Scene Setup\nfunction initThreeJS() {\n    const canvas = document.getElementById('three-canvas');\n    \n    if (!canvas) {\n        console.warn('Three.js canvas not found');\n        return;\n    }\n    \n    // Scene\n    scene = new THREE.Scene();\n    \n    // Camera\n    camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 20000);\n    camera.position.set(30, 200, 1000); // Start at ocean level\n    \n    // Renderer\n    renderer = new THREE.WebGLRenderer({ \n        canvas: canvas, \n        alpha: true,\n        antialias: true \n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Limit pixel ratio for performance\n    renderer.toneMapping = THREE.ACESFilmicToneMapping;\n    renderer.toneMappingExposure = 0.5;\n    \n    // Performance optimizations\n    renderer.shadowMap.enabled = false; // Disable shadows for better performance\n    renderer.antialias = false; // Disable antialiasing for better performance\n    \n    // Add lighting\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.6);\n    scene.add(ambientLight);\n    \n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n    directionalLight.position.set(1, 1, 1);\n    scene.add(directionalLight);\n    \n    // Create object system\n    createParticleSystem();\n    \n    // Add event listeners\n    document.addEventListener('mousemove', onMouseMove, false);\n    window.addEventListener('resize', onWindowResize, false);\n    window.addEventListener('scroll', onScroll, false);\n    document.addEventListener('wheel', onWheel, false);\n    \n    // Start animation\n    animate();\n    \n    console.log('Three.js animation started!');\n}\n\n// Create ocean scene only\nfunction createParticleSystem() {\n    // Create ocean scene\n    createOcean();\n}\n\n// Create ocean effect for bottom third\nfunction createOcean() {\n    // Create sun\n    sun = new THREE.Vector3();\n    \n    // Water geometry (infinite ocean effect)\n    const waterGeometry = new THREE.PlaneGeometry(50000, 50000, 32, 32); // Massive ocean for infinite effect\n    \n    // Water material with ocean shader (heavily optimized for performance)\n    water = new Water(waterGeometry, {\n        textureWidth: 128, // Further reduced for better performance\n        textureHeight: 128, // Further reduced for better performance\n        waterNormals: new THREE.TextureLoader().load('https://threejs.org/examples/textures/waternormals.jpg', function (texture) {\n            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n        }),\n        sunDirection: new THREE.Vector3(),\n        sunColor: 0xffffff,\n        waterColor: 0x000000, // Pure black ocean to prevent blue tint\n        distortionScale: 0.3, // Much smaller waves for less rounded ocean\n        size: 0.5, // Smaller wave size for less rounded ocean\n        fog: scene.fog !== undefined\n    });\n    \n    // Position water for infinite ocean effect (extended left)\n    water.rotation.x = -Math.PI / 2;\n    water.position.y = 0; // Center of scene\n    water.position.x = -5000; // Extended left for better coverage\n    water.position.z = 0; // Center depth\n    water.userData = { layer: 'ocean', speed: 1.0 };\n    scene.add(water);\n    \n    // Create sky for infinite ocean effect\n    sky = new Sky();\n    sky.scale.setScalar(50000); // Much larger sky to match ocean\n    scene.add(sky);\n    \n    // Configure sky\n    const skyUniforms = sky.material.uniforms;\n    skyUniforms['turbidity'].value = 10;\n    skyUniforms['rayleigh'].value = 2;\n    skyUniforms['mieCoefficient'].value = 0.005;\n    skyUniforms['mieDirectionalG'].value = 0.8;\n    \n    // Configure sun position\n    const parameters = {\n        elevation: 2,\n        azimuth: 180\n    };\n    \n    const pmremGenerator = new THREE.PMREMGenerator(renderer);\n    const sceneEnv = new THREE.Scene();\n    let renderTarget;\n    \n    function updateSun() {\n        const phi = THREE.MathUtils.degToRad(90 - parameters.elevation);\n        const theta = THREE.MathUtils.degToRad(parameters.azimuth);\n        \n        sun.setFromSphericalCoords(1, phi, theta);\n        \n        sky.material.uniforms['sunPosition'].value.copy(sun);\n        water.material.uniforms['sunDirection'].value.copy(sun).normalize();\n        \n        if (renderTarget !== undefined) renderTarget.dispose();\n        \n        sceneEnv.add(sky);\n        renderTarget = pmremGenerator.fromScene(sceneEnv);\n        scene.add(sky);\n        \n        scene.environment = renderTarget.texture;\n    }\n    \n    updateSun();\n    \n    // Create space effect above ocean\n    createSpace();\n}\n\n// Create space effect above ocean\nfunction createSpace() {\n    // Create space geometry (much larger sphere for flat horizon)\n    spaceGeometry = new THREE.SphereGeometry(100000, 32, 32);\n    \n    // Create space material with stars\n    spaceMaterial = new THREE.ShaderMaterial({\n        uniforms: {\n            time: { value: 0.0 },\n            resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }\n        },\n        vertexShader: `\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        `,\n        fragmentShader: `\n            uniform float time;\n            uniform vec2 resolution;\n            varying vec2 vUv;\n            \n            // Simple random function\n            float random(vec2 st) {\n                return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n            }\n            \n            // Create small star dots\n            float star(vec2 uv, float size) {\n                float star = random(uv);\n                if (star > 0.999) { // Much much fewer stars\n                    return 1.0;\n                }\n                return 0.0;\n            }\n            \n            void main() {\n                vec2 uv = vUv;\n                \n                // Calculate height factor (0.0 = bottom, 1.0 = top)\n                float heightFactor = uv.y;\n                \n                // Create gradient from sun (bottom) to space (top)\n                vec3 sunColor = vec3(1.0, 0.8, 0.4); // Warm sun color\n                vec3 spaceColor = vec3(0.0, 0.0, 0.0); // Black space\n                \n                // Smooth transition between sun and space\n                vec3 baseColor = mix(sunColor, spaceColor, smoothstep(0.3, 0.8, heightFactor));\n                \n                // Add stars only in upper part (space area) and only distant ones\n                float starField = 0.0;\n                if (heightFactor > 0.7) { // Only in top 30% of space\n                    // Only distant stars, no close ones\n                    starField += star(uv * 30.0, 0.1) * 0.4; // Very few distant stars\n                    \n                    // Add subtle twinkling effect\n                    float twinkle = sin(time * 1.5 + uv.x * 5.0 + uv.y * 4.0) * 0.1 + 0.9;\n                    starField *= twinkle;\n                }\n                \n                // Remove atmospheric glow to prevent blue tint on ocean\n                float atmosphere = 0.0;\n                \n                // Combine all effects\n                vec3 color = baseColor;\n                color += vec3(starField); // White stars\n                // No atmospheric glow to prevent blue tint\n                \n                gl_FragColor = vec4(color, 1.0);\n            }\n        `,\n        side: THREE.BackSide // Render inside of sphere\n    });\n    \n    // Create space mesh (positioned above ocean to prevent blue tint)\n    space = new THREE.Mesh(spaceGeometry, spaceMaterial);\n    space.position.y = 1000; // Position above ocean\n    space.position.x = 0; // Center horizontally\n    space.position.z = 0; // Center depth\n    space.userData = { layer: 'space', speed: 1.0 };\n    scene.add(space);\n}\n\n\n// Animation loop\nfunction animate() {\n    animationId = requestAnimationFrame(animate);\n    \n    const currentTime = performance.now();\n    const deltaTime = currentTime - lastFrameTime;\n    \n    // Frame rate limiting for better performance\n    if (deltaTime < 1000 / frameRateLimit) {\n        return;\n    }\n    \n    lastFrameTime = currentTime;\n    const time = currentTime * 0.001;\n    \n    // Performance monitoring\n    frameCount++;\n    if (currentTime - lastTime >= 1000) {\n        fps = frameCount;\n        frameCount = 0;\n        lastTime = currentTime;\n        \n        // Adaptive quality based on FPS\n        if (fps < 30 && water) {\n            // Reduce quality for better performance\n            water.material.uniforms['distortionScale'].value = Math.max(0.5, water.material.uniforms['distortionScale'].value - 0.1);\n            water.material.uniforms['size'].value = Math.max(0.5, water.material.uniforms['size'].value - 0.1);\n        } else if (fps > 50 && water) {\n            // Increase quality if performance is good\n            water.material.uniforms['distortionScale'].value = Math.min(2.0, water.material.uniforms['distortionScale'].value + 0.05);\n            water.material.uniforms['size'].value = Math.min(2.0, water.material.uniforms['size'].value + 0.05);\n        }\n    }\n    \n    // Animate ocean water\n    if (water) {\n        water.material.uniforms['time'].value += 1.0 / 60.0;\n    }\n    \n    // Animate space\n    if (space && spaceMaterial) {\n        spaceMaterial.uniforms['time'].value = time;\n    }\n    \n    // Camera follows mouse for ocean scene\n    //camera.position.x += (mouseX - camera.position.x) * 0.05;\n    //camera.position.y += (-mouseY - camera.position.y) * 0.05;\n    \n    // Smooth camera movement up to space (like an elevator)\n    camera.position.y += (targetY - camera.position.y) * 0.1;\n    \n    // Look forward (not at sun) for elevator-like movement\n    const lookAtPoint = new THREE.Vector3(0, camera.position.y, camera.position.z - 100);\n    camera.lookAt(lookAtPoint);\n    \n    renderer.render(scene, camera);\n}\n\n// Mouse movement handler\nfunction onMouseMove(event) {\n    mouseX = event.clientX - windowHalfX;\n    mouseY = event.clientY - windowHalfY;\n}\n\n// Scroll handler\nfunction onScroll(event) {\n    if (!animationStarted) return;\n    \n    scrollY = window.scrollY;\n    targetY = Math.max(200, 200 + scrollY * 2); // Move camera up to space, but not below ocean level\n}\n\n// Wheel handler for canvas scrolling\nfunction onWheel(event) {\n    if (!animationStarted) return;\n    \n    event.preventDefault();\n    \n    // Update scrollY based on wheel delta\n    scrollY += event.deltaY * 0.5;\n    targetY = Math.max(200, 200 + scrollY * 2); // Move camera up to space, but not below ocean level\n    \n    // Also scroll the page\n    window.scrollBy(0, event.deltaY * 0.5);\n}\n\n\n// Window resize handler\nfunction onWindowResize() {\n    windowHalfX = window.innerWidth / 2;\n    windowHalfY = window.innerHeight / 2;\n    \n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n}\n\n// Navigation System\nfunction initNavigation() {\n    const navLinks = document.querySelectorAll('.nav-link');\n    const hamburger = document.querySelector('.hamburger');\n    const navMenu = document.querySelector('.nav-menu');\n    \n    // Fix all navigation links to use base path\n    const basePath = import.meta.env.BASE_URL;\n    \n    // Fix all links starting with '/' to use base path\n    function fixLinkPath(link) {\n        const href = link.getAttribute('href');\n        if (href && href.startsWith('/') && !href.startsWith(basePath) && !href.startsWith('//')) {\n            // Remove leading slash and add base path\n            const newHref = basePath + href.substring(1);\n            link.setAttribute('href', newHref);\n        }\n    }\n    \n    // Fix navigation links\n    navLinks.forEach(fixLinkPath);\n    \n    // Fix logo link\n    const logoLink = document.querySelector('.logo-link');\n    if (logoLink) {\n        const href = logoLink.getAttribute('href');\n        if (href === '/' || href === '') {\n            logoLink.setAttribute('href', basePath);\n        } else {\n            fixLinkPath(logoLink);\n        }\n    }\n    \n    // Fix hero button links\n    const heroButton = document.querySelector('.hero-button-secondary');\n    if (heroButton) {\n        fixLinkPath(heroButton);\n    }\n    \n    // Fix footer links (if any)\n    const footerLinks = document.querySelectorAll('footer a[href^=\"/\"]');\n    footerLinks.forEach(fixLinkPath);\n    \n    // Navigation click handlers\n    navLinks.forEach(link => {\n        link.addEventListener('click', (e) => {\n            // Update active states\n            navLinks.forEach(l => l.classList.remove('active'));\n            link.classList.add('active');\n            \n            // Close mobile menu\n            navMenu.classList.remove('active');\n            hamburger.classList.remove('active');\n        });\n    });\n    \n    // Mobile menu toggle\n    hamburger.addEventListener('click', () => {\n        hamburger.classList.toggle('active');\n        navMenu.classList.toggle('active');\n    });\n    \n    // Close mobile menu when clicking outside\n    document.addEventListener('click', (e) => {\n        if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {\n            navMenu.classList.remove('active');\n            hamburger.classList.remove('active');\n        }\n    });\n}\n\n// Loading screen\nfunction hideLoadingScreen() {\n    setTimeout(() => {\n        const loadingScreen = document.getElementById('loading-screen');\n        if (loadingScreen) {\n            loadingScreen.style.opacity = '0';\n            setTimeout(() => {\n                loadingScreen.style.display = 'none';\n            }, 300);\n        }\n    }, 500);\n}\n\n// Smooth scrolling for anchor links\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n        const target = document.querySelector(this.getAttribute('href'));\n        if (target) {\n            target.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start'\n            });\n        }\n    });\n});\n\n// Form submission handler\ndocument.querySelector('.contact-form')?.addEventListener('submit', function(e) {\n    e.preventDefault();\n    \n    // Get form data\n    const formData = new FormData(this);\n    const name = this.querySelector('input[type=\"text\"]').value;\n    const email = this.querySelector('input[type=\"email\"]').value;\n    const message = this.querySelector('textarea').value;\n    \n    // Simple validation\n    if (!name || !email || !message) {\n        alert(translations.contact?.form?.error || 'Pros√≠m vypl≈àte v≈°etky polia.');\n        return;\n    }\n    \n    // Simulate form submission\n    const button = this.querySelector('button');\n    const originalText = button.textContent;\n    button.textContent = translations.contact?.form?.sending || 'Odosielam...';\n    button.disabled = true;\n    \n    setTimeout(() => {\n        alert(translations.contact?.form?.success || 'ƒéakujeme za va≈°u spr√°vu! ƒåoskoro v√°s budeme kontaktova≈•.');\n        this.reset();\n        button.textContent = originalText;\n        button.disabled = false;\n    }, 2000);\n});\n\n// CTA Button handler - only on homepage\ndocument.getElementById('start-animation-btn')?.addEventListener('click', function() {\n    // Check if we're on homepage\n    const isHomepage = window.location.pathname === '/' || window.location.pathname.endsWith('index.html') || window.location.pathname.endsWith('/');\n    \n    if (!isHomepage) {\n        return; // Don't work on subpages\n    }\n    \n    // Hide hero section immediately\n    const hero = document.querySelector('.hero');\n    if (hero) {\n        hero.classList.add('hidden');\n    }\n    \n    // Start animation and enable scroll\n    if (!animationStarted) {\n        animationStarted = true;\n        console.log('Animation started and scroll enabled!');\n    }\n    \n    // Keep button text as \"Explore\" and disable it\n    this.disabled = true;\n});\n\n// Theme switching functionality\nfunction initThemeSwitcher() {\n    // Load saved theme from localStorage or default to 'royal-blue'\n    const savedTheme = localStorage.getItem('theme') || 'royal-blue';\n    setTheme(savedTheme);\n    \n    // Add theme switcher to navigation if it doesn't exist\n    if (!document.querySelector('.theme-switcher')) {\n        addThemeSwitcher();\n    }\n}\n\nfunction setTheme(themeName) {\n    document.documentElement.setAttribute('data-theme', themeName);\n    localStorage.setItem('theme', themeName);\n    \n    // Update theme switcher if it exists\n    const themeSwitcher = document.querySelector('.theme-switcher');\n    if (themeSwitcher) {\n        const currentThemeBtn = themeSwitcher.querySelector(`[data-theme=\"${themeName}\"]`);\n        if (currentThemeBtn) {\n            // Remove active class from all theme buttons\n            themeSwitcher.querySelectorAll('.theme-btn').forEach(btn => btn.classList.remove('active'));\n            // Add active class to current theme button\n            currentThemeBtn.classList.add('active');\n        }\n    }\n}\n\nfunction addThemeSwitcher() {\n    const navContainer = document.querySelector('.nav-container');\n    if (!navContainer) return;\n    \n    const themeSwitcher = document.createElement('div');\n    themeSwitcher.className = 'theme-switcher';\n    themeSwitcher.innerHTML = `\n        <div class=\"theme-dropdown\">\n            <button class=\"theme-btn\" data-theme=\"royal-blue\">üëë</button>\n            <div class=\"theme-options\">\n                <div class=\"theme-option\" data-theme=\"royal-blue\">üëë Royal Blue</div>\n                <div class=\"theme-option\" data-theme=\"forest-green\">üå≤ Forest Green</div>\n                <div class=\"theme-option\" data-theme=\"sunset-orange\">üåÖ Sunset Orange</div>\n                <div class=\"theme-option\" data-theme=\"deep-purple\">üíú Deep Purple</div>\n                <div class=\"theme-option\" data-theme=\"ocean-blue\">üåä Ocean Blue</div>\n                <div class=\"theme-option\" data-theme=\"dark\">üåô Dark</div>\n                <div class=\"theme-option\" data-theme=\"light\">‚òÄÔ∏è Light</div>\n            </div>\n        </div>\n    `;\n    \n    // Insert theme switcher at the beginning of nav-container\n    navContainer.insertBefore(themeSwitcher, navContainer.firstChild);\n    \n    // Add event listeners\n    const themeBtn = themeSwitcher.querySelector('.theme-btn');\n    const themeOptions = themeSwitcher.querySelectorAll('.theme-option');\n    \n    themeBtn.addEventListener('click', () => {\n        themeSwitcher.classList.toggle('active');\n    });\n    \n    themeOptions.forEach(option => {\n        option.addEventListener('click', () => {\n            const theme = option.getAttribute('data-theme');\n            setTheme(theme);\n            themeSwitcher.classList.remove('active');\n        });\n    });\n    \n    // Close dropdown when clicking outside\n    document.addEventListener('click', (e) => {\n        if (!themeSwitcher.contains(e.target)) {\n            themeSwitcher.classList.remove('active');\n        }\n    });\n}\n\n// Scroll effects removed - navbar stays blue\n\n// Add intersection observer for animations\nconst observerOptions = {\n    threshold: 0.1,\n    rootMargin: '0px 0px -50px 0px'\n};\n\nconst observer = new IntersectionObserver((entries) => {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            entry.target.style.opacity = '1';\n            entry.target.style.transform = 'translateY(0)';\n        }\n    });\n}, observerOptions);\n\n// Observe all cards for animation\ndocument.querySelectorAll('.content-card, .service-card, .project-card, .team-card, .pricing-card').forEach(card => {\n    card.style.opacity = '0';\n    card.style.transform = 'translateY(30px)';\n    card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';\n    observer.observe(card);\n});\n\n\n// Cleanup on page unload\nwindow.addEventListener('beforeunload', function() {\n    if (animationId) {\n        cancelAnimationFrame(animationId);\n    }\n    if (renderer) {\n        renderer.dispose();\n    }\n});\n"],"names":["Water","Mesh","geometry","options","scope","textureWidth","textureHeight","clipBias","alpha","time","normalSampler","sunDirection","Vector3","sunColor","Color","waterColor","eye","distortionScale","side","FrontSide","fog","mirrorPlane","Plane","normal","mirrorWorldPosition","cameraWorldPosition","rotationMatrix","Matrix4","lookAtPosition","clipPlane","Vector4","view","target","q","textureMatrix","mirrorCamera","PerspectiveCamera","renderTarget","WebGLRenderTarget","mirrorShader","UniformsUtils","UniformsLib","material","ShaderMaterial","renderer","scene","camera","projectionMatrix","currentRenderTarget","currentXrEnabled","currentShadowAutoUpdate","viewport","Sky","shader","BackSide","BoxGeometry","animationId","windowHalfX","windowHalfY","water","sky","sun","scrollY","targetY","animationStarted","space","spaceGeometry","spaceMaterial","frameCount","lastTime","fps","frameRateLimit","lastFrameTime","currentLanguage","translations","initInternationalization","loadTranslations","applyTranslations","initLanguageSwitcher","error","element","key","translation","getNestedTranslation","obj","path","current","option","newLang","updateActiveLanguageOption","initNavigation","initThemeSwitcher","hideLoadingScreen","initThreeJS","canvas","THREE.Scene","THREE.PerspectiveCamera","THREE.WebGLRenderer","THREE.ACESFilmicToneMapping","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","createParticleSystem","onMouseMove","onWindowResize","onScroll","onWheel","animate","createOcean","THREE.Vector3","waterGeometry","THREE.PlaneGeometry","THREE.TextureLoader","texture","THREE.RepeatWrapping","skyUniforms","parameters","pmremGenerator","THREE.PMREMGenerator","sceneEnv","updateSun","phi","THREE.MathUtils","theta","createSpace","THREE.SphereGeometry","THREE.ShaderMaterial","THREE.Vector2","THREE.BackSide","THREE.Mesh","currentTime","lookAtPoint","event","navLinks","hamburger","navMenu","basePath","fixLinkPath","link","href","newHref","logoLink","heroButton","e","l","loadingScreen","anchor","name","email","message","button","originalText","hero","savedTheme","setTheme","addThemeSwitcher","themeName","themeSwitcher","currentThemeBtn","btn","navContainer","themeBtn","themeOptions","theme","observerOptions","observer","entries","entry","card"],"mappings":"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","x_google_ignoreList":[0,1]}