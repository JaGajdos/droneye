(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=t(e);fetch(e.href,i)}})();let h="sk",b={};async function W(){const o=new URLSearchParams(window.location.search).get("lang");o&&["sk","en","de"].includes(o)?(h=o,localStorage.setItem("language",h)):h=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",h),await $(),H(),document.documentElement.style.visibility="visible",R()}async function $(){try{let n="/droneye/";if(!n||n==="/"){const r=window.location.pathname;n=r.substring(0,r.lastIndexOf("/")+1)}n.endsWith("/")||(n+="/");const o=`${n}src/locales/${h}.json`;console.log("Loading translations from:",o,"Base URL:",n);const t=await fetch(o);if(!t.ok)throw new Error(`Failed to load translations: ${t.status}`);b=await t.json(),console.log("Translations loaded successfully:",h)}catch(n){if(console.error("Error loading translations:",n),h!=="sk"){console.log("Falling back to Slovak translations"),h="sk";let o="/droneye/";if(!o||o==="/"){const r=window.location.pathname;o=r.substring(0,r.lastIndexOf("/")+1)}o.endsWith("/")||(o+="/");const t=await fetch(`${o}src/locales/sk.json`);t.ok&&(b=await t.json())}}}function H(){console.log("Applying translations, current language:",h);let n=0;document.querySelectorAll("[data-i18n]").forEach(t=>{const r=t.getAttribute("data-i18n"),e=E(b,r);e?(e.includes("<a ")||e.includes("<br>")||e.includes("<strong>")||e.includes("<em>")?t.innerHTML=e:t.textContent=e,n++):console.warn("Translation not found for key:",r)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(t=>{const r=t.getAttribute("data-i18n-placeholder"),e=E(b,r);e?(t.placeholder=e,n++):console.warn("Placeholder translation not found for key:",r)});const o=document.querySelector("title[data-i18n-title]");if(o){const t=o.getAttribute("data-i18n-title"),r=E(b,t);r?(o.textContent=r,n++):console.warn("Title translation not found for key:",t)}console.log("Applied",n,"translations")}function E(n,o){return o.split(".").reduce((t,r)=>t&&t[r]!==void 0?t[r]:t&&Array.isArray(t)&&!isNaN(r)?t[parseInt(r)]:null,n)}function R(){const n=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",n.length),n.forEach(t=>{const r=t.cloneNode(!0);t.parentNode.replaceChild(r,t)}),document.querySelectorAll(".language-option").forEach(t=>{t.addEventListener("click",async r=>{r.preventDefault(),r.stopPropagation();const e=t.getAttribute("data-lang");console.log("Language option clicked:",e,"Current:",h),e!==h?(console.log("Switching language from",h,"to",e),h=e,localStorage.setItem("language",h),document.documentElement.setAttribute("lang",h),await $(),H(),O()):console.log("Language already set to",h)})}),O()}function O(){const n=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",h),n.forEach(o=>{const t=o.getAttribute("data-lang");o.classList.remove("active"),t===h&&(o.classList.add("active"),console.log("Set active class on:",t))})}document.addEventListener("DOMContentLoaded",function(){W(),Y(),j(),K(),V(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&U()});function Y(){const n=document.querySelectorAll(".nav-link"),o=document.querySelector(".hamburger"),t=document.querySelector(".nav-menu"),r="/droneye/";function e(a){const c=a.getAttribute("href");if(c&&c.startsWith("/")&&!c.startsWith(r)&&!c.startsWith("//")){const f=r+c.substring(1);a.setAttribute("href",f)}}n.forEach(e);const i=document.querySelector(".logo-link");if(i){const a=i.getAttribute("href");a==="/"||a===""?i.setAttribute("href",r):e(i)}const l=document.querySelector(".hero-button-secondary");l&&e(l),document.querySelectorAll('footer a[href^="/"]').forEach(e),n.forEach(a=>{a.addEventListener("click",c=>{n.forEach(f=>f.classList.remove("active")),a.classList.add("active"),t.classList.remove("active"),o.classList.remove("active")})}),o.setAttribute("tabindex","0"),o.setAttribute("role","button"),o.setAttribute("aria-label","Toggle navigation menu"),o.setAttribute("aria-expanded","false");function s(){const a=t.classList.contains("active");o.classList.toggle("active"),t.classList.toggle("active"),o.setAttribute("aria-expanded",a?"false":"true"),a?document.body.style.overflow="":(document.body.style.overflow="hidden",setTimeout(()=>{const c=t.querySelector(".nav-link");c&&c.focus()},100))}o.addEventListener("click",s),o.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),s())});const d=document.querySelector(".mobile-menu-close");if(d){let a=function(){t.classList.remove("active"),o.classList.remove("active"),o.setAttribute("aria-expanded","false"),document.body.style.overflow="",o.focus()};d.setAttribute("tabindex","0"),d.setAttribute("aria-label","Close navigation menu"),d.addEventListener("click",a),d.addEventListener("keydown",c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),a())})}n.forEach((a,c)=>{a.setAttribute("tabindex","0"),a.addEventListener("keydown",f=>{if(f.key==="Escape")t.classList.remove("active"),o.classList.remove("active"),o.setAttribute("aria-expanded","false"),document.body.style.overflow="",o.focus();else if(f.key==="ArrowDown"){f.preventDefault();const u=n[c+1]||n[0];u&&u.focus()}else if(f.key==="ArrowUp"){f.preventDefault();const u=n[c-1]||n[n.length-1];u&&u.focus()}})}),t.addEventListener("click",a=>{(a.target===t||a.target.classList.contains("nav-menu"))&&(t.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow="")}),n.forEach(a=>{a.addEventListener("click",()=>{t.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow=""})}),document.addEventListener("click",a=>{!o.contains(a.target)&&!t.contains(a.target)&&(t.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow="")})}function U(){setTimeout(()=>{const n=document.getElementById("loading-screen");n&&(n.style.opacity="0",setTimeout(()=>{n.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(o){o.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(n){n.preventDefault(),new FormData(this);const o=this.querySelector('input[type="text"]').value,t=this.querySelector('input[type="email"]').value,r=this.querySelector("textarea").value;if(!o||!t||!r){alert(b.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const e=this.querySelector("button"),i=e.textContent;e.textContent=b.contact?.form?.sending||"Odosielam...",e.disabled=!0,setTimeout(()=>{alert(b.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),e.textContent=i,e.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const o=document.querySelector(".hero");o&&o.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function j(){const n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,o=localStorage.getItem("theme")||(n?"dark":"light");w(o),document.querySelector(".theme-switcher")||F(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem("theme")||w(t.matches?"dark":"light")})}function w(n){const t={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[n]||n;document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t);const r=document.querySelector(".theme-switcher");if(r){const i=r.querySelector(".theme-btn");if(i){i.setAttribute("data-theme",t);const l=t==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';i.innerHTML=l}r.querySelectorAll(".theme-option").forEach(l=>{l.classList.toggle("active",l.getAttribute("data-theme")===t)})}document.querySelectorAll(".footer-theme-btn").forEach(i=>{const l=i.getAttribute("data-theme");i.classList.toggle("active",l===t)}),p&&((window.pageYOffset||document.documentElement.scrollTop)>50?p.style.background="var(--footer-bg)":p.style.background="var(--navbar-bg)")}function F(){const n=document.querySelector(".nav-container");if(!n)return;const o=document.createElement("div");o.className="theme-switcher";const t=document.documentElement.getAttribute("data-theme")||"light",r='<i class="fas fa-sun"></i>',e='<i class="fas fa-moon"></i>',i=t==="dark"?e:r;o.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${t}">${i}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${e} Dark</div>
                <div class="theme-option" data-theme="light">${r} Light</div>
            </div>
        </div>
    `,n.insertBefore(o,n.firstChild);const l=o.querySelector(".theme-btn"),m=o.querySelectorAll(".theme-option");l.setAttribute("tabindex","0"),l.setAttribute("role","button"),l.setAttribute("aria-label","Toggle theme switcher"),l.setAttribute("aria-expanded","false"),l.setAttribute("aria-haspopup","true"),l.addEventListener("click",()=>{const s=o.classList.contains("active");o.classList.toggle("active"),l.setAttribute("aria-expanded",s?"false":"true")}),l.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" "){s.preventDefault();const d=o.classList.contains("active");o.classList.toggle("active"),l.setAttribute("aria-expanded",d?"false":"true"),d||setTimeout(()=>{const a=m[0];a&&a.focus()},100)}else s.key==="Escape"&&o.classList.contains("active")&&(o.classList.remove("active"),l.setAttribute("aria-expanded","false"))}),m.forEach((s,d)=>{s.setAttribute("tabindex","0"),s.setAttribute("role","menuitem"),s.setAttribute("aria-label",`Switch to ${s.getAttribute("data-theme")} theme`),s.addEventListener("click",()=>{const a=s.getAttribute("data-theme");w(a),o.classList.remove("active"),l.setAttribute("aria-expanded","false"),l.setAttribute("data-theme",a);const c=a==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';l.innerHTML=c,l.focus()}),s.addEventListener("keydown",a=>{if(a.key==="Enter"||a.key===" "){a.preventDefault();const c=s.getAttribute("data-theme");w(c),o.classList.remove("active"),l.setAttribute("aria-expanded","false"),l.setAttribute("data-theme",c);const f=c==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';l.innerHTML=f,l.focus()}else if(a.key==="Escape")o.classList.remove("active"),l.setAttribute("aria-expanded","false"),l.focus();else if(a.key==="ArrowDown"){a.preventDefault();const c=m[d+1]||m[0];c&&c.focus()}else if(a.key==="ArrowUp"){a.preventDefault();const c=m[d-1]||m[m.length-1];c&&c.focus()}})}),document.addEventListener("click",s=>{o.contains(s.target)||o.classList.remove("active")})}const z={threshold:.1,rootMargin:"0px 0px -50px 0px"},G=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&(o.target.style.opacity="1",o.target.style.transform="translateY(0)")})},z);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(n=>{n.style.opacity="0",n.style.transform="translateY(30px)",n.style.transition="opacity 0.6s ease, transform 0.6s ease",G.observe(n)});function V(){const n=document.querySelector(".services-carousel");if(!n)return;const o=n.querySelectorAll(".carousel-slide"),t=n.querySelectorAll(".carousel-tab");let r=0;const e=o.length;function i(s){o.forEach(d=>d.classList.remove("active")),t.forEach((d,a)=>{d.classList.remove("active"),d.setAttribute("aria-selected","false")}),o[s]&&o[s].classList.add("active"),t[s]&&(t[s].classList.add("active"),t[s].setAttribute("aria-selected","true")),r=s,m()}t.forEach((s,d)=>{s.setAttribute("tabindex","0"),s.setAttribute("role","tab"),s.setAttribute("aria-selected",d===0?"true":"false"),s.setAttribute("aria-controls",`carousel-slide-${d}`),s.addEventListener("click",()=>{i(d)}),s.addEventListener("keydown",a=>{if(a.key==="Enter"||a.key===" ")a.preventDefault(),i(d);else if(a.key==="ArrowLeft"){a.preventDefault();const c=(d-1+e)%e;t[c].focus(),i(c)}else if(a.key==="ArrowRight"){a.preventDefault();const c=(d+1)%e;t[c].focus(),i(c)}else a.key==="Home"?(a.preventDefault(),t[0].focus(),i(0)):a.key==="End"&&(a.preventDefault(),t[e-1].focus(),i(e-1))})});const l=i;i=function(s){l(s),t.forEach((d,a)=>{d.setAttribute("aria-selected",a===s?"true":"false")})};function m(){const s=n.querySelector(".carousel-slide.active");if(!s)return;const d=s.querySelector(".service-card-carousel");if(!d)return;const a=d.querySelector(".carousel-arrow-prev"),c=d.querySelector(".carousel-arrow-next");if(a){a.setAttribute("tabindex","0"),a.setAttribute("aria-label","Previous slide");const f=a.cloneNode(!0);a.parentNode.replaceChild(f,a),f.addEventListener("click",()=>{const u=(r-1+e)%e;i(u)}),f.addEventListener("keydown",u=>{if(u.key==="Enter"||u.key===" "){u.preventDefault();const L=(r-1+e)%e;i(L)}})}if(c){c.setAttribute("tabindex","0"),c.setAttribute("aria-label","Next slide");const f=c.cloneNode(!0);c.parentNode.replaceChild(f,c),f.addEventListener("click",()=>{const u=(r+1)%e;i(u)}),f.addEventListener("keydown",u=>{if(u.key==="Enter"||u.key===" "){u.preventDefault();const L=(r+1)%e;i(L)}})}}n.setAttribute("tabindex","0"),n.setAttribute("role","region"),n.setAttribute("aria-label","Services carousel"),n.addEventListener("keydown",s=>{if(s.key==="ArrowLeft"){s.preventDefault();const d=(r-1+e)%e;i(d)}else if(s.key==="ArrowRight"){s.preventDefault();const d=(r+1)%e;i(d)}}),i(0)}function K(){const n=document.querySelectorAll(".team-card");if(n.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(n.forEach(t=>{t.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const e=t.classList.contains("active");n.forEach(i=>{i.classList.remove("active")}),e||t.classList.add("active")})}),document.addEventListener("click",t=>{let r=!1;n.forEach(e=>{e.contains(t.target)&&(r=!0)}),r||n.forEach(e=>{e.classList.remove("active")})}))}let P=0,J=150,p=null;function C(){if(p=document.querySelector(".navbar"),!p)return;let n;window.addEventListener("scroll",()=>{const o=window.pageYOffset||document.documentElement.scrollTop,t=o-P;clearTimeout(n),o>50?document.documentElement.getAttribute("data-theme")==="dark"?p.style.background="var(--footer-bg)":p.style.background="var(--primary-color)":p.style.background="var(--navbar-bg)",Math.abs(t)>5&&(t>0&&o>J?p.style.transform="translateY(-100%)":t<0&&(p.style.transform="translateY(0)")),P=o},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",C):C();let v=[],y=0,g=null,A=null,q=null,T=null;function M(){const n=document.querySelectorAll(".photo-item[data-gallery]");if(g=document.getElementById("photo-lightbox"),A=document.getElementById("lightbox-image"),q=document.getElementById("lightbox-current"),T=document.getElementById("lightbox-total"),!g||!A)return;const o=document.querySelector(".photo-lightbox-close"),t=document.querySelector(".photo-lightbox-prev"),r=document.querySelector(".photo-lightbox-next");n.forEach(e=>{e.addEventListener("click",i=>{i.preventDefault();const l=e.querySelectorAll(".photo-gallery-images img");l.length!==0&&(v=Array.from(l).map(m=>({src:m.src,alt:m.alt})),y=0,B())})}),o&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-label","Close lightbox"),o.addEventListener("click",k),o.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),k())})),g.addEventListener("click",e=>{e.target===g&&k()}),t&&(t.setAttribute("tabindex","0"),t.setAttribute("aria-label","Previous photo"),t.addEventListener("click",e=>{e.stopPropagation(),S()}),t.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),S())})),r&&(r.setAttribute("tabindex","0"),r.setAttribute("aria-label","Next photo"),r.addEventListener("click",e=>{e.stopPropagation(),x()}),r.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),x())})),n.forEach(e=>{e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label","Open photo gallery"),e.addEventListener("keydown",i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault();const l=e.querySelectorAll(".photo-gallery-images img");if(l.length===0)return;v=Array.from(l).map(m=>({src:m.src,alt:m.alt})),y=0,B()}})}),document.addEventListener("keydown",e=>{!g||!g.classList.contains("active")||(e.key==="Escape"?k():e.key==="ArrowLeft"?(e.preventDefault(),S()):e.key==="ArrowRight"&&(e.preventDefault(),x()))})}function B(){if(!g||v.length===0)return;g.setAttribute("role","dialog"),g.setAttribute("aria-label","Photo gallery"),g.setAttribute("aria-modal","true");const n=document.querySelector(".navbar");n&&(n.style.transform="translateY(-100%)"),g.classList.add("active"),document.body.style.overflow="hidden",I();const o=document.querySelector(".photo-lightbox-close");o&&setTimeout(()=>o.focus(),100)}function k(){if(!g)return;const n=document.querySelector(".navbar");n&&(n.style.transform="translateY(0)"),g.classList.remove("active"),g.removeAttribute("role"),g.removeAttribute("aria-label"),g.removeAttribute("aria-modal"),document.body.style.overflow="";const o=document.querySelector('.photo-item[data-gallery]:focus, .photo-item[data-gallery][tabindex="0"]');o&&o.focus(),v=[],y=0}function I(){if(!A||!q||!T||v.length===0)return;const n=v[y];A.src=n.src,A.alt=n.alt||`Photo ${y+1} of ${v.length}`,q.textContent=y+1,T.textContent=v.length;const o=document.querySelector(".photo-lightbox-prev"),t=document.querySelector(".photo-lightbox-next");o&&(o.style.display=v.length>1?"flex":"none"),t&&(t.style.display=v.length>1?"flex":"none");const r=document.querySelector(".photo-lightbox-counter");r&&(r.style.display=v.length>1?"block":"none")}function S(){v.length!==0&&(y=(y-1+v.length)%v.length,I())}function x(){v.length!==0&&(y=(y+1)%v.length,I())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",M):M();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function N(){const n=document.querySelectorAll(".footer-theme-btn");n.forEach(t=>{t.setAttribute("tabindex","0"),t.setAttribute("role","button");const r=t.getAttribute("data-theme");t.setAttribute("aria-label",`Switch to ${r} theme`),t.addEventListener("click",()=>{const e=t.getAttribute("data-theme");w(e)}),t.addEventListener("keydown",e=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();const i=t.getAttribute("data-theme");w(i)}})});const o=document.documentElement.getAttribute("data-theme")||"light";n.forEach(t=>{const r=t.getAttribute("data-theme");t.classList.toggle("active",r===o)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",N):N();function D(){if(window.innerWidth>1076)return;const n=document.querySelectorAll(".process-step");if(n.length===0)return;const o={root:null,rootMargin:"-20% 0px -20% 0px",threshold:.5},t=new IntersectionObserver(e=>{let i=null,l=0;e.forEach(m=>{m.isIntersecting&&m.intersectionRatio>l&&(l=m.intersectionRatio,i=m.target)}),n.forEach(m=>m.classList.remove("in-view")),i&&i.classList.add("in-view")},o);n.forEach(e=>{t.observe(e)});let r;window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>{t.disconnect(),n.forEach(e=>e.classList.remove("in-view")),window.innerWidth<=1076&&D()},250)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",D):D();
//# sourceMappingURL=main-DIfWTjNB.js.map
