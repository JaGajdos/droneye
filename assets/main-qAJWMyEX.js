(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();let m="sk",b={};async function H(){const t=new URLSearchParams(window.location.search).get("lang");t&&["sk","en","de"].includes(t)?(m=t,localStorage.setItem("language",m)):m=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",m),await N(),$(),document.documentElement.style.visibility="visible",W()}async function N(){try{let n="/droneye/";if(!n||n==="/"){const a=window.location.pathname;n=a.substring(0,a.lastIndexOf("/")+1)}n.endsWith("/")||(n+="/");const t=`${n}src/locales/${m}.json`;console.log("Loading translations from:",t,"Base URL:",n);const o=await fetch(t);if(!o.ok)throw new Error(`Failed to load translations: ${o.status}`);b=await o.json(),console.log("Translations loaded successfully:",m)}catch(n){if(console.error("Error loading translations:",n),m!=="sk"){console.log("Falling back to Slovak translations"),m="sk";let t="/droneye/";if(!t||t==="/"){const a=window.location.pathname;t=a.substring(0,a.lastIndexOf("/")+1)}t.endsWith("/")||(t+="/");const o=await fetch(`${t}src/locales/sk.json`);o.ok&&(b=await o.json())}}}function $(){console.log("Applying translations, current language:",m);let n=0;document.querySelectorAll("[data-i18n]").forEach(o=>{const a=o.getAttribute("data-i18n"),e=E(b,a);e?(e.includes("<a ")||e.includes("<br>")||e.includes("<strong>")||e.includes("<em>")?o.innerHTML=e:o.textContent=e,n++):console.warn("Translation not found for key:",a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(o=>{const a=o.getAttribute("data-i18n-placeholder"),e=E(b,a);e?(o.placeholder=e,n++):console.warn("Placeholder translation not found for key:",a)});const t=document.querySelector("title[data-i18n-title]");if(t){const o=t.getAttribute("data-i18n-title"),a=E(b,o);a?(t.textContent=a,n++):console.warn("Title translation not found for key:",o)}console.log("Applied",n,"translations")}function E(n,t){return t.split(".").reduce((o,a)=>o&&o[a]!==void 0?o[a]:o&&Array.isArray(o)&&!isNaN(a)?o[parseInt(a)]:null,n)}function W(){const n=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",n.length),n.forEach(o=>{const a=o.cloneNode(!0);o.parentNode.replaceChild(a,o)}),document.querySelectorAll(".language-option").forEach(o=>{o.addEventListener("click",async a=>{a.preventDefault(),a.stopPropagation();const e=o.getAttribute("data-lang");console.log("Language option clicked:",e,"Current:",m),e!==m?(console.log("Switching language from",m,"to",e),m=e,localStorage.setItem("language",m),document.documentElement.setAttribute("lang",m),await N(),$(),I()):console.log("Language already set to",m)})}),I()}function I(){const n=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",m),n.forEach(t=>{const o=t.getAttribute("data-lang");t.classList.remove("active"),o===m&&(t.classList.add("active"),console.log("Set active class on:",o))})}document.addEventListener("DOMContentLoaded",function(){H(),Y(),j(),K(),G(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&U()});function Y(){const n=document.querySelectorAll(".nav-link"),t=document.querySelector(".hamburger"),o=document.querySelector(".nav-menu"),a="/droneye/";function e(r){const l=r.getAttribute("href");if(l&&l.startsWith("/")&&!l.startsWith(a)&&!l.startsWith("//")){const f=a+l.substring(1);r.setAttribute("href",f)}}n.forEach(e);const s=document.querySelector(".logo-link");if(s){const r=s.getAttribute("href");r==="/"||r===""?s.setAttribute("href",a):e(s)}const c=document.querySelector(".hero-button-secondary");c&&e(c),document.querySelectorAll('footer a[href^="/"]').forEach(e),n.forEach(r=>{r.addEventListener("click",l=>{n.forEach(f=>f.classList.remove("active")),r.classList.add("active"),o.classList.remove("active"),t.classList.remove("active")})}),t.setAttribute("tabindex","0"),t.setAttribute("role","button"),t.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-expanded","false");function i(){const r=o.classList.contains("active");t.classList.toggle("active"),o.classList.toggle("active"),t.setAttribute("aria-expanded",r?"false":"true"),r?document.body.style.overflow="":(document.body.style.overflow="hidden",setTimeout(()=>{const l=o.querySelector(".nav-link");l&&l.focus()},100))}t.addEventListener("click",i),t.addEventListener("keydown",r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),i())});const u=document.querySelector(".mobile-menu-close");if(u){let r=function(){o.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus()};u.setAttribute("tabindex","0"),u.setAttribute("aria-label","Close navigation menu"),u.addEventListener("click",r),u.addEventListener("keydown",l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),r())})}n.forEach((r,l)=>{r.setAttribute("tabindex","0"),r.addEventListener("keydown",f=>{if(f.key==="Escape")o.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus();else if(f.key==="ArrowDown"){f.preventDefault();const d=n[l+1]||n[0];d&&d.focus()}else if(f.key==="ArrowUp"){f.preventDefault();const d=n[l-1]||n[n.length-1];d&&d.focus()}})}),o.addEventListener("click",r=>{(r.target===o||r.target.classList.contains("nav-menu"))&&(o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")}),n.forEach(r=>{r.addEventListener("click",()=>{o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow=""})}),document.addEventListener("click",r=>{!t.contains(r.target)&&!o.contains(r.target)&&(o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")})}function U(){setTimeout(()=>{const n=document.getElementById("loading-screen");n&&(n.style.opacity="0",setTimeout(()=>{n.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(t){t.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(n){n.preventDefault(),new FormData(this);const t=this.querySelector('input[type="text"]').value,o=this.querySelector('input[type="email"]').value,a=this.querySelector("textarea").value;if(!t||!o||!a){alert(b.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const e=this.querySelector("button"),s=e.textContent;e.textContent=b.contact?.form?.sending||"Odosielam...",e.disabled=!0,setTimeout(()=>{alert(b.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),e.textContent=s,e.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const t=document.querySelector(".hero");t&&t.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function j(){const n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme")||(n?"dark":"light");A(t),document.querySelector(".theme-switcher")||F(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{localStorage.getItem("theme")||A(o.matches?"dark":"light")})}function A(n){const o={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[n]||n;document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o);const a=document.querySelector(".theme-switcher");if(a){const s=a.querySelector(".theme-btn");if(s){s.setAttribute("data-theme",o);const c=o==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';s.innerHTML=c}a.querySelectorAll(".theme-option").forEach(c=>{c.classList.toggle("active",c.getAttribute("data-theme")===o)})}document.querySelectorAll(".footer-theme-btn").forEach(s=>{const c=s.getAttribute("data-theme");s.classList.toggle("active",c===o)}),y&&((window.pageYOffset||document.documentElement.scrollTop)>50?y.style.background="var(--footer-bg)":y.style.background="var(--navbar-bg)")}function F(){const n=document.querySelector(".nav-container");if(!n)return;const t=document.createElement("div");t.className="theme-switcher";const o=document.documentElement.getAttribute("data-theme")||"light",a='<i class="fas fa-sun"></i>',e='<i class="fas fa-moon"></i>',s=o==="dark"?e:a;t.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${o}">${s}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${e} Dark</div>
                <div class="theme-option" data-theme="light">${a} Light</div>
            </div>
        </div>
    `,n.insertBefore(t,n.firstChild);const c=t.querySelector(".theme-btn"),h=t.querySelectorAll(".theme-option");c.setAttribute("tabindex","0"),c.setAttribute("role","button"),c.setAttribute("aria-label","Toggle theme switcher"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-haspopup","true"),c.addEventListener("click",()=>{const i=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",i?"false":"true")}),c.addEventListener("keydown",i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault();const u=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",u?"false":"true"),u||setTimeout(()=>{const r=h[0];r&&r.focus()},100)}else i.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),c.setAttribute("aria-expanded","false"))}),h.forEach((i,u)=>{i.setAttribute("tabindex","0"),i.setAttribute("role","menuitem"),i.setAttribute("aria-label",`Switch to ${i.getAttribute("data-theme")} theme`),i.addEventListener("click",()=>{const r=i.getAttribute("data-theme");A(r),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",r);const l=r==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=l,c.focus()}),i.addEventListener("keydown",r=>{if(r.key==="Enter"||r.key===" "){r.preventDefault();const l=i.getAttribute("data-theme");A(l),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",l);const f=l==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=f,c.focus()}else if(r.key==="Escape")t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.focus();else if(r.key==="ArrowDown"){r.preventDefault();const l=h[u+1]||h[0];l&&l.focus()}else if(r.key==="ArrowUp"){r.preventDefault();const l=h[u-1]||h[h.length-1];l&&l.focus()}})}),document.addEventListener("click",i=>{t.contains(i.target)||t.classList.remove("active")})}const R={threshold:.1,rootMargin:"0px 0px -50px 0px"},z=new IntersectionObserver(n=>{n.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},R);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(n=>{n.style.opacity="0",n.style.transform="translateY(30px)",n.style.transition="opacity 0.6s ease, transform 0.6s ease",z.observe(n)});function G(){const n=document.querySelector(".services-carousel");if(!n)return;const t=n.querySelectorAll(".carousel-slide"),o=n.querySelectorAll(".carousel-tab");let a=0;const e=t.length;function s(i){t.forEach(u=>u.classList.remove("active")),o.forEach((u,r)=>{u.classList.remove("active"),u.setAttribute("aria-selected","false")}),t[i]&&t[i].classList.add("active"),o[i]&&(o[i].classList.add("active"),o[i].setAttribute("aria-selected","true")),a=i,h()}o.forEach((i,u)=>{i.setAttribute("tabindex","0"),i.setAttribute("role","tab"),i.setAttribute("aria-selected",u===0?"true":"false"),i.setAttribute("aria-controls",`carousel-slide-${u}`),i.addEventListener("click",()=>{s(u)}),i.addEventListener("keydown",r=>{if(r.key==="Enter"||r.key===" ")r.preventDefault(),s(u);else if(r.key==="ArrowLeft"){r.preventDefault();const l=(u-1+e)%e;o[l].focus(),s(l)}else if(r.key==="ArrowRight"){r.preventDefault();const l=(u+1)%e;o[l].focus(),s(l)}else r.key==="Home"?(r.preventDefault(),o[0].focus(),s(0)):r.key==="End"&&(r.preventDefault(),o[e-1].focus(),s(e-1))})});const c=s;s=function(i){c(i),o.forEach((u,r)=>{u.setAttribute("aria-selected",r===i?"true":"false")})};function h(){const i=n.querySelector(".carousel-slide.active");if(!i)return;const u=i.querySelector(".service-card-carousel");if(!u)return;const r=u.querySelector(".carousel-arrow-prev"),l=u.querySelector(".carousel-arrow-next");if(r){r.setAttribute("tabindex","0"),r.setAttribute("aria-label","Previous slide");const f=r.cloneNode(!0);r.parentNode.replaceChild(f,r),f.addEventListener("click",()=>{const d=(a-1+e)%e;s(d)}),f.addEventListener("keydown",d=>{if(d.key==="Enter"||d.key===" "){d.preventDefault();const L=(a-1+e)%e;s(L)}})}if(l){l.setAttribute("tabindex","0"),l.setAttribute("aria-label","Next slide");const f=l.cloneNode(!0);l.parentNode.replaceChild(f,l),f.addEventListener("click",()=>{const d=(a+1)%e;s(d)}),f.addEventListener("keydown",d=>{if(d.key==="Enter"||d.key===" "){d.preventDefault();const L=(a+1)%e;s(L)}})}}n.setAttribute("tabindex","0"),n.setAttribute("role","region"),n.setAttribute("aria-label","Services carousel"),n.addEventListener("keydown",i=>{if(i.key==="ArrowLeft"){i.preventDefault();const u=(a-1+e)%e;s(u)}else if(i.key==="ArrowRight"){i.preventDefault();const u=(a+1)%e;s(u)}}),s(0)}function K(){const n=document.querySelectorAll(".team-card");if(n.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(n.forEach(o=>{o.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const e=o.classList.contains("active");n.forEach(s=>{s.classList.remove("active")}),e||o.classList.add("active")})}),document.addEventListener("click",o=>{let a=!1;n.forEach(e=>{e.contains(o.target)&&(a=!0)}),a||n.forEach(e=>{e.classList.remove("active")})}))}let P=0,V=150,y=null;function C(){if(y=document.querySelector(".navbar"),!y)return;let n;window.addEventListener("scroll",()=>{const t=window.pageYOffset||document.documentElement.scrollTop,o=t-P;clearTimeout(n),t>50?document.documentElement.getAttribute("data-theme")==="dark"?y.style.background="var(--footer-bg)":y.style.background="var(--primary-color)":y.style.background="var(--navbar-bg)",Math.abs(o)>5&&(o>0&&t>V?y.style.transform="translateY(-100%)":o<0&&(y.style.transform="translateY(0)")),P=t},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",C):C();let v=[],p=0,g=null,k=null,q=null,T=null;function O(){const n=document.querySelectorAll(".photo-item[data-gallery]");if(g=document.getElementById("photo-lightbox"),k=document.getElementById("lightbox-image"),q=document.getElementById("lightbox-current"),T=document.getElementById("lightbox-total"),!g||!k)return;const t=document.querySelector(".photo-lightbox-close"),o=document.querySelector(".photo-lightbox-prev"),a=document.querySelector(".photo-lightbox-next");n.forEach(e=>{e.addEventListener("click",s=>{s.preventDefault();const c=e.querySelectorAll(".photo-gallery-images img");c.length!==0&&(v=Array.from(c).map(h=>({src:h.src,alt:h.alt})),p=0,M())})}),t&&(t.setAttribute("tabindex","0"),t.setAttribute("aria-label","Close lightbox"),t.addEventListener("click",w),t.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),w())})),g.addEventListener("click",e=>{e.target===g&&w()}),o&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-label","Previous photo"),o.addEventListener("click",e=>{e.stopPropagation(),S()}),o.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),S())})),a&&(a.setAttribute("tabindex","0"),a.setAttribute("aria-label","Next photo"),a.addEventListener("click",e=>{e.stopPropagation(),x()}),a.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),x())})),n.forEach(e=>{e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label","Open photo gallery"),e.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" "){s.preventDefault();const c=e.querySelectorAll(".photo-gallery-images img");if(c.length===0)return;v=Array.from(c).map(h=>({src:h.src,alt:h.alt})),p=0,M()}})}),document.addEventListener("keydown",e=>{!g||!g.classList.contains("active")||(e.key==="Escape"?w():e.key==="ArrowLeft"?(e.preventDefault(),S()):e.key==="ArrowRight"&&(e.preventDefault(),x()))})}function M(){if(!g||v.length===0)return;g.setAttribute("role","dialog"),g.setAttribute("aria-label","Photo gallery"),g.setAttribute("aria-modal","true");const n=document.querySelector(".navbar");n&&(n.style.transform="translateY(-100%)"),g.classList.add("active"),document.body.style.overflow="hidden",D();const t=document.querySelector(".photo-lightbox-close");t&&setTimeout(()=>t.focus(),100)}function w(){if(!g)return;const n=document.querySelector(".navbar");n&&(n.style.transform="translateY(0)"),g.classList.remove("active"),g.removeAttribute("role"),g.removeAttribute("aria-label"),g.removeAttribute("aria-modal"),document.body.style.overflow="";const t=document.querySelector('.photo-item[data-gallery]:focus, .photo-item[data-gallery][tabindex="0"]');t&&t.focus(),v=[],p=0}function D(){if(!k||!q||!T||v.length===0)return;const n=v[p];k.src=n.src,k.alt=n.alt||`Photo ${p+1} of ${v.length}`,q.textContent=p+1,T.textContent=v.length;const t=document.querySelector(".photo-lightbox-prev"),o=document.querySelector(".photo-lightbox-next");t&&(t.style.display=v.length>1?"flex":"none"),o&&(o.style.display=v.length>1?"flex":"none");const a=document.querySelector(".photo-lightbox-counter");a&&(a.style.display=v.length>1?"block":"none")}function S(){v.length!==0&&(p=(p-1+v.length)%v.length,D())}function x(){v.length!==0&&(p=(p+1)%v.length,D())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",O):O();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function B(){const n=document.querySelectorAll(".footer-theme-btn");n.forEach(o=>{o.setAttribute("tabindex","0"),o.setAttribute("role","button");const a=o.getAttribute("data-theme");o.setAttribute("aria-label",`Switch to ${a} theme`),o.addEventListener("click",()=>{const e=o.getAttribute("data-theme");A(e)}),o.addEventListener("keydown",e=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();const s=o.getAttribute("data-theme");A(s)}})});const t=document.documentElement.getAttribute("data-theme")||"light";n.forEach(o=>{const a=o.getAttribute("data-theme");o.classList.toggle("active",a===t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",B):B();
//# sourceMappingURL=main-qAJWMyEX.js.map
