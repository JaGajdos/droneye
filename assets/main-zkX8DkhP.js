(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();let l="sk",g={};async function N(){const n=new URLSearchParams(window.location.search).get("lang");n&&["sk","en","de"].includes(n)?(l=n,localStorage.setItem("language",l)):l=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",l),await M(),O(),document.documentElement.style.visibility="visible",H()}async function M(){try{const n=`/droneye/src/locales/${l}.json`;console.log("Loading translations from:",n);const t=await fetch(n);if(!t.ok)throw new Error(`Failed to load translations: ${t.status}`);g=await t.json(),console.log("Translations loaded successfully:",l)}catch(e){if(console.error("Error loading translations:",e),l!=="sk"){console.log("Falling back to Slovak translations"),l="sk";const t=await fetch("/droneye/src/locales/sk.json");t.ok&&(g=await t.json())}}}function O(){console.log("Applying translations, current language:",l);let e=0;document.querySelectorAll("[data-i18n]").forEach(t=>{const a=t.getAttribute("data-i18n"),o=w(g,a);o?(o.includes("<a ")||o.includes("<br>")||o.includes("<strong>")||o.includes("<em>")?t.innerHTML=o:t.textContent=o,e++):console.warn("Translation not found for key:",a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(t=>{const a=t.getAttribute("data-i18n-placeholder"),o=w(g,a);o?(t.placeholder=o,e++):console.warn("Placeholder translation not found for key:",a)});const n=document.querySelector("title[data-i18n-title]");if(n){const t=n.getAttribute("data-i18n-title"),a=w(g,t);a?(n.textContent=a,e++):console.warn("Title translation not found for key:",t)}console.log("Applied",e,"translations")}function w(e,n){return n.split(".").reduce((t,a)=>t&&t[a]!==void 0?t[a]:t&&Array.isArray(t)&&!isNaN(a)?t[parseInt(a)]:null,e)}async function D(e){e&&e!==l&&(console.log("Switching language from",l,"to",e),l=e,localStorage.setItem("language",l),document.documentElement.setAttribute("lang",l),await M(),O(),B())}function H(){let e=!1;const n=async r=>{const c=r.target.closest(".language-option");if(c&&!e){e=!0,r.preventDefault(),r.stopPropagation();const i=c.getAttribute("data-lang");i&&(console.log("Language option clicked/touched:",i,"Current:",l,"Event type:",r.type),await D(i)),setTimeout(()=>{e=!1},300)}},t=()=>{document.querySelectorAll(".language-option").forEach(c=>{const i=c.cloneNode(!0);c.parentNode.replaceChild(i,c),i.addEventListener("click",n,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),i.addEventListener("pointerdown",n,{passive:!1})})};t();const a=document.querySelector(".nav-menu"),o=document.querySelector(".hamburger");o&&a&&o.addEventListener("click",()=>{setTimeout(t,100)}),document.addEventListener("click",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("pointerdown",n,!0),B()}function B(){const e=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",l),e.forEach(n=>{const t=n.getAttribute("data-lang");n.classList.remove("active"),t===l&&(n.classList.add("active"),console.log("Set active class on:",t))})}document.addEventListener("DOMContentLoaded",function(){N(),Y(),W(),z(),R(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&$()});function Y(){const e=document.querySelectorAll(".nav-link"),n=document.querySelector(".hamburger"),t=document.querySelector(".nav-menu"),a="/droneye/";function o(s){const d=s.getAttribute("href");if(d&&d.startsWith("/")&&!d.startsWith(a)&&!d.startsWith("//")){const m=a+d.substring(1);s.setAttribute("href",m)}}e.forEach(o);const r=document.querySelector(".logo-link");if(r){const s=r.getAttribute("href");s==="/"||s===""?r.setAttribute("href",a):o(r)}const c=document.querySelector(".hero-button-secondary");c&&o(c),document.querySelectorAll('footer a[href^="/"]').forEach(o),e.forEach(s=>{s.addEventListener("click",d=>{e.forEach(m=>m.classList.remove("active")),s.classList.add("active"),t.classList.remove("active"),n.classList.remove("active")})}),n.addEventListener("click",()=>{n.classList.toggle("active"),t.classList.toggle("active")}),document.addEventListener("click",s=>{!n.contains(s.target)&&!t.contains(s.target)&&(t.classList.remove("active"),n.classList.remove("active"))})}function $(){setTimeout(()=>{const e=document.getElementById("loading-screen");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(n){n.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(e){e.preventDefault(),new FormData(this);const n=this.querySelector('input[type="text"]').value,t=this.querySelector('input[type="email"]').value,a=this.querySelector("textarea").value;if(!n||!t||!a){alert(g.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const o=this.querySelector("button"),r=o.textContent;o.textContent=g.contact?.form?.sending||"Odosielam...",o.disabled=!0,setTimeout(()=>{alert(g.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),o.textContent=r,o.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const n=document.querySelector(".hero");n&&n.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function W(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme")||(e?"dark":"light");b(n),document.querySelector(".theme-switcher")||j(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem("theme")||b(t.matches?"dark":"light")})}function b(e){const t={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[e]||e;document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t);const a=document.querySelector(".theme-switcher");if(a){const r=a.querySelector(".theme-btn");if(r){r.setAttribute("data-theme",t);const c=t==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';r.innerHTML=c}a.querySelectorAll(".theme-option").forEach(c=>{c.classList.toggle("active",c.getAttribute("data-theme")===t)})}document.querySelectorAll(".footer-theme-btn").forEach(r=>{const c=r.getAttribute("data-theme");r.classList.toggle("active",c===t)}),f&&((window.pageYOffset||document.documentElement.scrollTop)>50?f.style.background="var(--footer-bg)":f.style.background="var(--navbar-bg)")}function j(){const e=document.querySelector(".nav-container");if(!e)return;const n=document.createElement("div");n.className="theme-switcher";const t=document.documentElement.getAttribute("data-theme")||"light",a='<i class="fas fa-sun"></i>',o='<i class="fas fa-moon"></i>',r=t==="dark"?o:a;n.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${t}">${r}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${o} Dark</div>
                <div class="theme-option" data-theme="light">${a} Light</div>
            </div>
        </div>
    `,e.insertBefore(n,e.firstChild);const c=n.querySelector(".theme-btn"),i=n.querySelectorAll(".theme-option");c.addEventListener("click",()=>{n.classList.toggle("active")}),i.forEach(s=>{s.addEventListener("click",()=>{const d=s.getAttribute("data-theme");b(d),n.classList.remove("active"),c.setAttribute("data-theme",d);const m=d==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=m})}),document.addEventListener("click",s=>{n.contains(s.target)||n.classList.remove("active")})}const F={threshold:.1,rootMargin:"0px 0px -50px 0px"},U=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&(n.target.style.opacity="1",n.target.style.transform="translateY(0)")})},F);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",U.observe(e)});function R(){const e=document.querySelector(".services-carousel");if(!e)return;const n=e.querySelectorAll(".carousel-slide"),t=e.querySelectorAll(".carousel-tab");let a=0;const o=n.length;function r(i){n.forEach(s=>s.classList.remove("active")),t.forEach(s=>s.classList.remove("active")),n[i]&&n[i].classList.add("active"),t[i]&&t[i].classList.add("active"),a=i,c()}function c(){const i=e.querySelector(".carousel-slide.active");if(!i)return;const s=i.querySelector(".service-card-carousel");if(!s)return;const d=s.querySelector(".carousel-arrow-prev"),m=s.querySelector(".carousel-arrow-next");if(d){const p=d.cloneNode(!0);d.parentNode.replaceChild(p,d),p.addEventListener("click",()=>{const L=(a-1+o)%o;r(L)})}if(m){const p=m.cloneNode(!0);m.parentNode.replaceChild(p,m),p.addEventListener("click",()=>{const L=(a+1)%o;r(L)})}}t.forEach((i,s)=>{i.addEventListener("click",()=>{r(s)})}),document.addEventListener("keydown",i=>{if(e.closest(".page.active")){if(i.key==="ArrowLeft"){const s=(a-1+o)%o;r(s)}else if(i.key==="ArrowRight"){const s=(a+1)%o;r(s)}}}),r(0)}function z(){const e=document.querySelectorAll(".team-card");if(e.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(e.forEach(t=>{t.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const o=t.classList.contains("active");e.forEach(r=>{r.classList.remove("active")}),o||t.classList.add("active")})}),document.addEventListener("click",t=>{let a=!1;e.forEach(o=>{o.contains(t.target)&&(a=!0)}),a||e.forEach(o=>{o.classList.remove("active")})}))}let q=0,G=150,f=null;function x(){if(f=document.querySelector(".navbar"),!f)return;let e;window.addEventListener("scroll",()=>{const n=window.pageYOffset||document.documentElement.scrollTop,t=n-q;clearTimeout(e),n>50?document.documentElement.getAttribute("data-theme")==="dark"?f.style.background="var(--footer-bg)":f.style.background="var(--primary-color)":f.style.background="var(--navbar-bg)",Math.abs(t)>5&&(t>0&&n>G?f.style.transform="translateY(-100%)":t<0&&(f.style.transform="translateY(0)")),q=n},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",x):x();let u=[],v=0,h=null,y=null,S=null,k=null;function T(){const e=document.querySelectorAll(".photo-item[data-gallery]");if(h=document.getElementById("photo-lightbox"),y=document.getElementById("lightbox-image"),S=document.getElementById("lightbox-current"),k=document.getElementById("lightbox-total"),!h||!y)return;const n=document.querySelector(".photo-lightbox-close"),t=document.querySelector(".photo-lightbox-prev"),a=document.querySelector(".photo-lightbox-next");e.forEach(o=>{o.addEventListener("click",r=>{r.preventDefault();const c=o.querySelectorAll(".photo-gallery-images img");c.length!==0&&(u=Array.from(c).map(i=>({src:i.src,alt:i.alt})),v=0,K())})}),n&&n.addEventListener("click",E),h.addEventListener("click",o=>{o.target===h&&E()}),t&&t.addEventListener("click",o=>{o.stopPropagation(),I()}),a&&a.addEventListener("click",o=>{o.stopPropagation(),C()}),document.addEventListener("keydown",o=>{h.classList.contains("active")&&(o.key==="Escape"?E():o.key==="ArrowLeft"?I():o.key==="ArrowRight"&&C())})}function K(){if(!h||u.length===0)return;const e=document.querySelector(".navbar");e&&(e.style.transform="translateY(-100%)"),h.classList.add("active"),document.body.style.overflow="hidden",A()}function E(){if(!h)return;const e=document.querySelector(".navbar");e&&(e.style.transform="translateY(0)"),h.classList.remove("active"),document.body.style.overflow="",u=[],v=0}function A(){if(!y||!S||!k||u.length===0)return;const e=u[v];y.src=e.src,y.alt=e.alt,S.textContent=v+1,k.textContent=u.length;const n=document.querySelector(".photo-lightbox-prev"),t=document.querySelector(".photo-lightbox-next");n&&(n.style.display=u.length>1?"flex":"none"),t&&(t.style.display=u.length>1?"flex":"none");const a=document.querySelector(".photo-lightbox-counter");a&&(a.style.display=u.length>1?"block":"none")}function I(){u.length!==0&&(v=(v-1+u.length)%u.length,A())}function C(){u.length!==0&&(v=(v+1)%u.length,A())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function P(){const e=document.querySelectorAll(".footer-theme-btn");e.forEach(t=>{t.addEventListener("click",()=>{const a=t.getAttribute("data-theme");b(a)})});const n=document.documentElement.getAttribute("data-theme")||"light";e.forEach(t=>{const a=t.getAttribute("data-theme");t.classList.toggle("active",a===n)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",P):P();
//# sourceMappingURL=main-zkX8DkhP.js.map
