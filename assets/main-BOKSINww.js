(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();class P{constructor(t=0,o="Network Error"){this.status=t,this.text=o}}const ae=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},p={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ae()},j=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},ie=(e,t="https://api.emailjs.com")=>{if(!e)return;const o=j(e);p.publicKey=o.publicKey,p.blockHeadless=o.blockHeadless,p.storageProvider=o.storageProvider,p.blockList=o.blockList,p.limitRate=o.limitRate,p.origin=o.origin||t},Y=async(e,t,o={})=>{const r=await fetch(p.origin+e,{method:"POST",headers:o,body:t}),n=await r.text(),a=new P(r.status,n);if(r.ok)return a;throw a},z=(e,t,o)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||typeof o!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ce=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},J=e=>e.webdriver||!e.languages||e.languages.length===0,X=()=>new P(451,"Unavailable For Headless Browser"),le=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ue=e=>!e.list?.length||!e.watchVariable,de=(e,t)=>e instanceof FormData?e.get(t):e[t],G=(e,t)=>{if(ue(e))return!1;le(e.list,e.watchVariable);const o=de(t,e.watchVariable);return typeof o!="string"?!1:e.list.includes(o)},Q=()=>new P(403,"Forbidden"),fe=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},me=async(e,t,o)=>{const r=Number(await o.get(e)||0);return t-Date.now()+r},Z=async(e,t,o)=>{if(!t.throttle||!o)return!1;fe(t.throttle,t.id);const r=t.id||e;return await me(r,t.throttle,o)>0?!0:(await o.set(r,Date.now().toString()),!1)},ee=()=>new P(429,"Too Many Requests"),he=async(e,t,o,r)=>{const n=j(r),a=n.publicKey||p.publicKey,c=n.blockHeadless||p.blockHeadless,f=n.storageProvider||p.storageProvider,l={...p.blockList,...n.blockList},d={...p.limitRate,...n.limitRate};return c&&J(navigator)?Promise.reject(X()):(z(a,e,t),ce(o),o&&G(l,o)?Promise.reject(Q()):await Z(location.pathname,d,f)?Promise.reject(ee()):Y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"}))},ge=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ve=e=>typeof e=="string"?document.querySelector(e):e,pe=async(e,t,o,r)=>{const n=j(r),a=n.publicKey||p.publicKey,c=n.blockHeadless||p.blockHeadless,f=p.storageProvider||n.storageProvider,l={...p.blockList,...n.blockList},d={...p.limitRate,...n.limitRate};if(c&&J(navigator))return Promise.reject(X());const s=ve(o);z(a,e,t),ge(s);const i=new FormData(s);return G(l,i)?Promise.reject(Q()):await Z(location.pathname,d,f)?Promise.reject(ee()):(i.append("lib_version","4.4.1"),i.append("service_id",e),i.append("template_id",t),i.append("user_id",a),Y("/api/v1.0/email/send-form",i))},te={init:ie,send:he,sendForm:pe,EmailJSResponseStatus:P};function H(e,t,o="contact"){e.id||e.className.includes("footer");const r=o==="footer"?"footer-form-success":"contact-form-success",n=o==="footer"?"footer-form-error":"contact-form-error",a=document.getElementById(r),c=document.getElementById(n);if(!e||!a||!c)return;function f(s,i){const u=e.querySelector(`[name="${s}"]`),m=o==="footer"?`footer-error-${s}`:`error-${s}`,h=document.getElementById(m);if(u&&h)if(i){if(u.tagName==="INPUT"||u.tagName==="TEXTAREA")u.classList.add("contact-form-input-error"),o==="footer"&&u.classList.add("footer-form-input-error");else if(u.type==="checkbox"){const L=u.closest("label");L&&(L.classList.add("contact-form-consent-error"),o==="footer"&&L.classList.add("footer-form-consent-error"))}h.textContent=i,h.style.display="block"}else{if(u.tagName==="INPUT"||u.tagName==="TEXTAREA")u.classList.remove("contact-form-input-error"),o==="footer"&&u.classList.remove("footer-form-input-error");else if(u.type==="checkbox"){const L=u.closest("label");L&&(L.classList.remove("contact-form-consent-error"),o==="footer"&&L.classList.remove("footer-form-consent-error"))}h.textContent="",h.style.display="none"}}function l(){const s=["name","email","message"];e.querySelector('input[name="phone"]')&&s.push("phone"),e.querySelector('input[name="consent"]')&&s.push("consent"),s.forEach(i=>{f(i,"")})}e.querySelectorAll("input, textarea").forEach(s=>{s.addEventListener("input",function(){const i=this.getAttribute("name");i&&f(i,"")})});const d=e.querySelector('input[name="consent"]');d&&d.addEventListener("change",function(){f("consent","")}),e.addEventListener("submit",async function(s){s.preventDefault(),a.style.display="none",c.style.display="none",l();const i=this.querySelector('input[name="name"]')?.value.trim()||"",u=this.querySelector('input[name="email"]')?.value.trim()||"",m=this.querySelector('input[name="phone"]'),h=m?.value.trim()||"",L=this.querySelector('textarea[name="message"]')?.value.trim()||"",R=this.querySelector('input[name="consent"]'),re=R?.checked||!1,k=t?.[o==="footer"?"footer":"contact"]?.form||t?.contact?.form;let E=!1;if(i||(f("name",k?.errors?.name||t?.contact?.form?.errors?.name||"Meno je povinné pole."),E=!0),u?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(f("email",k?.errors?.emailInvalid||t?.contact?.form?.errors?.emailInvalid||"Email má nesprávny formát."),E=!0):(f("email",k?.errors?.email||t?.contact?.form?.errors?.email||"Email je povinné pole."),E=!0),m&&!h&&(f("phone",k?.errors?.phone||t?.contact?.form?.errors?.phone||"Telefónne číslo je povinné pole."),E=!0),L||(f("message",k?.errors?.message||t?.contact?.form?.errors?.message||"Správa je povinné pole."),E=!0),R&&!re&&(f("consent",k?.errors?.consent||t?.contact?.form?.errors?.consent||"Musíte súhlasiť so spracovaním osobných údajov."),E=!0),E){const T=e.querySelector(".contact-form-input-error, .footer-form-input-error");T&&(T.scrollIntoView({behavior:"smooth",block:"center"}),T.focus());return}const x=this.querySelector('button[type="submit"]'),se=x.textContent;x.textContent=k?.sending||t?.contact?.form?.sending||"Odosielam...",x.disabled=!0;try{await te.sendForm("service_um8zj4l","template_9tzop5i",e),e.reset(),l(),a.textContent=k?.success||t?.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať.",a.style.display="block",a.classList.remove("hiding"),c.style.display="none",a.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(()=>{a.classList.add("hiding"),setTimeout(()=>{a.style.display="none",a.classList.remove("hiding")},500)},1e4)}catch(T){console.error("Chyba pri odosielaní:",T),c.textContent=k?.errors?.submit||t?.contact?.form?.errors?.submit||"Nastala chyba pri odosielaní formulára. Skúste to prosím znova.",c.style.display="block",a.style.display="none"}finally{x.textContent=se,x.disabled=!1}})}function be(e){te.init("SJ0aNKcX728yhsrWb");const t=document.getElementById("contact-form");t&&H(t,e,"contact"),document.querySelectorAll(".footer-contact-form").forEach(r=>{H(r,e,"footer")})}let v="sk",A={};async function ye(){const t=new URLSearchParams(window.location.search).get("lang");t&&["sk","en","de"].includes(t)?(v=t,localStorage.setItem("language",v)):v=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",v),await oe(),ne(),document.documentElement.style.visibility="visible",we()}async function oe(){try{let e="/droneye/";if(!e||e==="/"){const r=window.location.pathname;e=r.substring(0,r.lastIndexOf("/")+1)}e.endsWith("/")||(e+="/");const t=`${e}src/locales/${v}.json`;console.log("Loading translations from:",t,"Base URL:",e);const o=await fetch(t);if(!o.ok)throw new Error(`Failed to load translations: ${o.status}`);A=await o.json(),console.log("Translations loaded successfully:",v)}catch(e){if(console.error("Error loading translations:",e),v!=="sk"){console.log("Falling back to Slovak translations"),v="sk";let t="/droneye/";if(!t||t==="/"){const r=window.location.pathname;t=r.substring(0,r.lastIndexOf("/")+1)}t.endsWith("/")||(t+="/");const o=await fetch(`${t}src/locales/sk.json`);o.ok&&(A=await o.json())}}}function ne(){console.log("Applying translations, current language:",v);let e=0;document.querySelectorAll("[data-i18n]").forEach(o=>{const r=o.getAttribute("data-i18n"),n=D(A,r);n?(n.includes("<a ")||n.includes("<br>")||n.includes("<strong>")||n.includes("<em>")?o.innerHTML=n:o.textContent=n,e++):console.warn("Translation not found for key:",r)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(o=>{const r=o.getAttribute("data-i18n-placeholder"),n=D(A,r);n?(o.placeholder=n,e++):console.warn("Placeholder translation not found for key:",r)});const t=document.querySelector("title[data-i18n-title]");if(t){const o=t.getAttribute("data-i18n-title"),r=D(A,o);r?(t.textContent=r,e++):console.warn("Title translation not found for key:",o)}console.log("Applied",e,"translations")}function D(e,t){return t.split(".").reduce((o,r)=>o&&o[r]!==void 0?o[r]:o&&Array.isArray(o)&&!isNaN(r)?o[parseInt(r)]:null,e)}function we(){const e=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",e.length),e.forEach(o=>{const r=o.cloneNode(!0);o.parentNode.replaceChild(r,o)}),document.querySelectorAll(".language-option").forEach(o=>{o.addEventListener("click",async r=>{r.preventDefault(),r.stopPropagation();const n=o.getAttribute("data-lang");console.log("Language option clicked:",n,"Current:",v),n!==v?(console.log("Switching language from",v,"to",n),v=n,localStorage.setItem("language",v),document.documentElement.setAttribute("lang",v),await oe(),ne(),$()):console.log("Language already set to",v)})}),$()}function $(){const e=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",v),e.forEach(t=>{const o=t.getAttribute("data-lang");t.classList.remove("active"),o===v&&(t.classList.add("active"),console.log("Set active class on:",o))})}document.addEventListener("DOMContentLoaded",function(){ye(),Le(),Ee(),qe(),Te(),be(A),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&ke()});function Le(){const e=document.querySelectorAll(".nav-link"),t=document.querySelector(".hamburger"),o=document.querySelector(".nav-menu"),r="/droneye/";function n(s){const i=s.getAttribute("href");if(i&&i.startsWith("/")&&!i.startsWith(r)&&!i.startsWith("//")){const u=r+i.substring(1);s.setAttribute("href",u)}}e.forEach(n);const a=document.querySelector(".logo-link");if(a){const s=a.getAttribute("href");s==="/"||s===""?a.setAttribute("href",r):n(a)}const c=document.querySelector(".hero-button-secondary");c&&n(c),document.querySelectorAll('footer a[href^="/"]').forEach(n),e.forEach(s=>{s.addEventListener("click",i=>{e.forEach(u=>u.classList.remove("active")),s.classList.add("active"),o.classList.remove("active"),t.classList.remove("active")})}),t.setAttribute("tabindex","0"),t.setAttribute("role","button"),t.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-expanded","false");function l(){const s=o.classList.contains("active");t.classList.toggle("active"),o.classList.toggle("active"),t.setAttribute("aria-expanded",s?"false":"true");const i=document.querySelector(".nav-container"),u=i?i.querySelector(".mobile-menu-close"):null;u&&(s?u.style.display="none":u.style.display="flex");const m=window.pageYOffset||document.documentElement.scrollTop;s?m>50?document.documentElement.getAttribute("data-theme")==="dark"?g.style.background="var(--footer-bg)":g.style.background="var(--primary-color)":g.style.background="var(--navbar-bg)":document.documentElement.getAttribute("data-theme")==="dark"?g.style.background="var(--footer-bg)":g.style.background="var(--primary-color)",s?document.body.style.overflow="":(document.body.style.overflow="hidden",setTimeout(()=>{const h=o.querySelector(".nav-link");h&&h.focus()},100))}t.addEventListener("click",l),t.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),l())});const d=document.querySelector(".mobile-menu-close");if(d){let s=function(){o.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="";const i=document.querySelector(".nav-container .mobile-menu-close");i&&(i.style.display="none"),(window.pageYOffset||document.documentElement.scrollTop)>50?document.documentElement.getAttribute("data-theme")==="dark"?g.style.background="var(--footer-bg)":g.style.background="var(--primary-color)":g.style.background="var(--navbar-bg)",t.focus()};d.setAttribute("tabindex","0"),d.setAttribute("aria-label","Close navigation menu"),d.addEventListener("click",s),d.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),s())})}e.forEach((s,i)=>{s.setAttribute("tabindex","0"),s.addEventListener("keydown",u=>{if(u.key==="Escape")o.classList.remove("active"),t.classList.remove("active"),t.setAttribute("aria-expanded","false"),document.body.style.overflow="",t.focus();else if(u.key==="ArrowDown"){u.preventDefault();const m=e[i+1]||e[0];m&&m.focus()}else if(u.key==="ArrowUp"){u.preventDefault();const m=e[i-1]||e[e.length-1];m&&m.focus()}})}),o.addEventListener("click",s=>{(s.target===o||s.target.classList.contains("nav-menu"))&&(o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")}),e.forEach(s=>{s.addEventListener("click",()=>{o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow=""})}),document.addEventListener("click",s=>{!t.contains(s.target)&&!o.contains(s.target)&&(o.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="")})}function ke(){setTimeout(()=>{const e=document.getElementById("loading-screen");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const t=document.querySelector(".hero");t&&t.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function Ee(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme")||(e?"dark":"light");S(t),document.querySelector(".theme-switcher")||Ae(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{localStorage.getItem("theme")||S(o.matches?"dark":"light")})}function S(e){const o={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[e]||e;document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o);const r=document.querySelector(".theme-switcher");if(r){const a=r.querySelector(".theme-btn");if(a){a.setAttribute("data-theme",o);const c=o==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';a.innerHTML=c}r.querySelectorAll(".theme-option").forEach(c=>{c.classList.toggle("active",c.getAttribute("data-theme")===o)})}document.querySelectorAll(".footer-theme-btn").forEach(a=>{const c=a.getAttribute("data-theme");a.classList.toggle("active",c===o)}),g&&((window.pageYOffset||document.documentElement.scrollTop)>50?g.style.background="var(--footer-bg)":g.style.background="var(--navbar-bg)")}function Ae(){const e=document.querySelector(".nav-container");if(!e)return;const t=document.createElement("div");t.className="theme-switcher";const o=document.documentElement.getAttribute("data-theme")||"light",r='<i class="fas fa-sun"></i>',n='<i class="fas fa-moon"></i>',a=o==="dark"?n:r;t.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${o}">${a}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${n} Dark</div>
                <div class="theme-option" data-theme="light">${r} Light</div>
            </div>
        </div>
    `,e.insertBefore(t,e.firstChild);const c=t.querySelector(".theme-btn"),f=t.querySelectorAll(".theme-option");c.setAttribute("tabindex","0"),c.setAttribute("role","button"),c.setAttribute("aria-label","Toggle theme switcher"),c.setAttribute("aria-expanded","false"),c.setAttribute("aria-haspopup","true"),c.addEventListener("click",()=>{const l=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",l?"false":"true")}),c.addEventListener("keydown",l=>{if(l.key==="Enter"||l.key===" "){l.preventDefault();const d=t.classList.contains("active");t.classList.toggle("active"),c.setAttribute("aria-expanded",d?"false":"true"),d||setTimeout(()=>{const s=f[0];s&&s.focus()},100)}else l.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),c.setAttribute("aria-expanded","false"))}),f.forEach((l,d)=>{l.setAttribute("tabindex","0"),l.setAttribute("role","menuitem"),l.setAttribute("aria-label",`Switch to ${l.getAttribute("data-theme")} theme`),l.addEventListener("click",()=>{const s=l.getAttribute("data-theme");S(s),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",s);const i=s==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=i,c.focus()}),l.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" "){s.preventDefault();const i=l.getAttribute("data-theme");S(i),t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.setAttribute("data-theme",i);const u=i==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';c.innerHTML=u,c.focus()}else if(s.key==="Escape")t.classList.remove("active"),c.setAttribute("aria-expanded","false"),c.focus();else if(s.key==="ArrowDown"){s.preventDefault();const i=f[d+1]||f[0];i&&i.focus()}else if(s.key==="ArrowUp"){s.preventDefault();const i=f[d-1]||f[f.length-1];i&&i.focus()}})}),document.addEventListener("click",l=>{t.contains(l.target)||t.classList.remove("active")})}const Se={threshold:.1,rootMargin:"0px 0px -50px 0px"},xe=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},Se);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",xe.observe(e)});function Te(){const e=document.querySelector(".services-carousel");if(!e)return;const t=e.querySelectorAll(".carousel-slide"),o=e.querySelectorAll(".carousel-tab");let r=0;const n=t.length;function a(l){t.forEach(d=>d.classList.remove("active")),o.forEach((d,s)=>{d.classList.remove("active"),d.setAttribute("aria-selected","false")}),t[l]&&t[l].classList.add("active"),o[l]&&(o[l].classList.add("active"),o[l].setAttribute("aria-selected","true")),r=l,f()}o.forEach((l,d)=>{l.setAttribute("tabindex","0"),l.setAttribute("role","tab"),l.setAttribute("aria-selected",d===0?"true":"false"),l.setAttribute("aria-controls",`carousel-slide-${d}`),l.addEventListener("click",()=>{a(d)}),l.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" ")s.preventDefault(),a(d);else if(s.key==="ArrowLeft"){s.preventDefault();const i=(d-1+n)%n;o[i].focus(),a(i)}else if(s.key==="ArrowRight"){s.preventDefault();const i=(d+1)%n;o[i].focus(),a(i)}else s.key==="Home"?(s.preventDefault(),o[0].focus(),a(0)):s.key==="End"&&(s.preventDefault(),o[n-1].focus(),a(n-1))})});const c=a;a=function(l){c(l),o.forEach((d,s)=>{d.setAttribute("aria-selected",s===l?"true":"false")})};function f(){const l=e.querySelector(".carousel-slide.active");if(!l)return;const d=l.querySelector(".service-card-carousel");if(!d)return;const s=d.querySelector(".carousel-arrow-prev"),i=d.querySelector(".carousel-arrow-next");if(s){s.setAttribute("tabindex","0"),s.setAttribute("aria-label","Previous slide");const u=s.cloneNode(!0);s.parentNode.replaceChild(u,s),u.addEventListener("click",()=>{const m=(r-1+n)%n;a(m)}),u.addEventListener("keydown",m=>{if(m.key==="Enter"||m.key===" "){m.preventDefault();const h=(r-1+n)%n;a(h)}})}if(i){i.setAttribute("tabindex","0"),i.setAttribute("aria-label","Next slide");const u=i.cloneNode(!0);i.parentNode.replaceChild(u,i),u.addEventListener("click",()=>{const m=(r+1)%n;a(m)}),u.addEventListener("keydown",m=>{if(m.key==="Enter"||m.key===" "){m.preventDefault();const h=(r+1)%n;a(h)}})}}e.setAttribute("tabindex","0"),e.setAttribute("role","region"),e.setAttribute("aria-label","Services carousel"),e.addEventListener("keydown",l=>{if(l.key==="ArrowLeft"){l.preventDefault();const d=(r-1+n)%n;a(d)}else if(l.key==="ArrowRight"){l.preventDefault();const d=(r+1)%n;a(d)}}),a(0)}function qe(){const e=document.querySelectorAll(".team-card");if(e.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(e.forEach(o=>{o.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const n=o.classList.contains("active");e.forEach(a=>{a.classList.remove("active")}),n||o.classList.add("active")})}),document.addEventListener("click",o=>{let r=!1;e.forEach(n=>{n.contains(o.target)&&(r=!0)}),r||e.forEach(n=>{n.classList.remove("active")})}))}let V=0,Pe=150,g=null;function W(){if(g=document.querySelector(".navbar"),!g)return;let e;window.addEventListener("scroll",()=>{const t=window.pageYOffset||document.documentElement.scrollTop,o=t-V;clearTimeout(e);const r=document.querySelector(".nav-menu"),n=r&&r.classList.contains("active");t>50||n?document.documentElement.getAttribute("data-theme")==="dark"?g.style.background="var(--footer-bg)":g.style.background="var(--primary-color)":g.style.background="var(--navbar-bg)",Math.abs(o)>5&&(o>0&&t>Pe?g.style.transform="translateY(-100%)":o<0&&(g.style.transform="translateY(0)")),V=t},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",W):W();let b=[],w=0,y=null,q=null,B=null,M=null;function K(){const e=document.querySelectorAll(".photo-item[data-gallery]");if(y=document.getElementById("photo-lightbox"),q=document.getElementById("lightbox-image"),B=document.getElementById("lightbox-current"),M=document.getElementById("lightbox-total"),!y||!q)return;const t=document.querySelector(".photo-lightbox-close"),o=document.querySelector(".photo-lightbox-prev"),r=document.querySelector(".photo-lightbox-next");e.forEach(n=>{n.addEventListener("click",a=>{a.preventDefault();const c=n.querySelectorAll(".photo-gallery-images img");c.length!==0&&(b=Array.from(c).map(f=>({src:f.src,alt:f.alt})),w=0,_())})}),t&&(t.setAttribute("tabindex","0"),t.setAttribute("aria-label","Close lightbox"),t.addEventListener("click",I),t.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),I())})),y.addEventListener("click",n=>{n.target===y&&I()}),o&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-label","Previous photo"),o.addEventListener("click",n=>{n.stopPropagation(),C()}),o.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),C())})),r&&(r.setAttribute("tabindex","0"),r.setAttribute("aria-label","Next photo"),r.addEventListener("click",n=>{n.stopPropagation(),O()}),r.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),O())})),e.forEach(n=>{n.setAttribute("tabindex","0"),n.setAttribute("role","button"),n.setAttribute("aria-label","Open photo gallery"),n.addEventListener("keydown",a=>{if(a.key==="Enter"||a.key===" "){a.preventDefault();const c=n.querySelectorAll(".photo-gallery-images img");if(c.length===0)return;b=Array.from(c).map(f=>({src:f.src,alt:f.alt})),w=0,_()}})}),document.addEventListener("keydown",n=>{!y||!y.classList.contains("active")||(n.key==="Escape"?I():n.key==="ArrowLeft"?(n.preventDefault(),C()):n.key==="ArrowRight"&&(n.preventDefault(),O()))})}function _(){if(!y||b.length===0)return;y.setAttribute("role","dialog"),y.setAttribute("aria-label","Photo gallery"),y.setAttribute("aria-modal","true");const e=document.querySelector(".navbar");e&&(e.style.transform="translateY(-100%)"),y.classList.add("active"),document.body.style.overflow="hidden",F();const t=document.querySelector(".photo-lightbox-close");t&&setTimeout(()=>t.focus(),100)}function I(){if(!y)return;const e=document.querySelector(".navbar");e&&(e.style.transform="translateY(0)"),y.classList.remove("active"),y.removeAttribute("role"),y.removeAttribute("aria-label"),y.removeAttribute("aria-modal"),document.body.style.overflow="";const t=document.querySelector('.photo-item[data-gallery]:focus, .photo-item[data-gallery][tabindex="0"]');t&&t.focus(),b=[],w=0}function F(){if(!q||!B||!M||b.length===0)return;const e=b[w];q.src=e.src,q.alt=e.alt||`Photo ${w+1} of ${b.length}`,B.textContent=w+1,M.textContent=b.length;const t=document.querySelector(".photo-lightbox-prev"),o=document.querySelector(".photo-lightbox-next");t&&(t.style.display=b.length>1?"flex":"none"),o&&(o.style.display=b.length>1?"flex":"none");const r=document.querySelector(".photo-lightbox-counter");r&&(r.style.display=b.length>1?"block":"none")}function C(){b.length!==0&&(w=(w-1+b.length)%b.length,F())}function O(){b.length!==0&&(w=(w+1)%b.length,F())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",K):K();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function U(){const e=document.querySelectorAll(".footer-theme-btn");e.forEach(o=>{o.setAttribute("tabindex","0"),o.setAttribute("role","button");const r=o.getAttribute("data-theme");o.setAttribute("aria-label",`Switch to ${r} theme`),o.addEventListener("click",()=>{const n=o.getAttribute("data-theme");S(n)}),o.addEventListener("keydown",n=>{if(n.key==="Enter"||n.key===" "){n.preventDefault();const a=o.getAttribute("data-theme");S(a)}})});const t=document.documentElement.getAttribute("data-theme")||"light";e.forEach(o=>{const r=o.getAttribute("data-theme");o.classList.toggle("active",r===t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",U):U();function N(){if(window.innerWidth>1076)return;const e=document.querySelectorAll(".process-step");if(e.length===0)return;const t={root:null,rootMargin:"-30% 0px -30% 0px",threshold:.5},o=new IntersectionObserver(n=>{let a=null,c=0;n.forEach(f=>{f.isIntersecting&&f.intersectionRatio>c&&(c=f.intersectionRatio,a=f.target)}),e.forEach(f=>f.classList.remove("in-view")),a&&a.classList.add("in-view")},t);e.forEach(n=>{o.observe(n)});let r;window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>{o.disconnect(),e.forEach(n=>n.classList.remove("in-view")),window.innerWidth<=1076&&N()},250)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",N):N();
//# sourceMappingURL=main-BOKSINww.js.map
