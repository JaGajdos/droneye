(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();let d="sk",v={};async function D(){const o=new URLSearchParams(window.location.search).get("lang");o&&["sk","en","de"].includes(o)?(d=o,localStorage.setItem("language",d)):d=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",d),await M(),B(),document.documentElement.style.visibility="visible",N()}async function M(){try{let t="/droneye/";if(!t||t==="/"){const a=window.location.pathname;t=a.substring(0,a.lastIndexOf("/")+1)}t.endsWith("/")||(t+="/");const o=`${t}src/locales/${d}.json`;console.log("Loading translations from:",o,"Base URL:",t);const e=await fetch(o);if(!e.ok)throw new Error(`Failed to load translations: ${e.status}`);v=await e.json(),console.log("Translations loaded successfully:",d)}catch(t){if(console.error("Error loading translations:",t),d!=="sk"){console.log("Falling back to Slovak translations"),d="sk";let o="/droneye/";if(!o||o==="/"){const a=window.location.pathname;o=a.substring(0,a.lastIndexOf("/")+1)}o.endsWith("/")||(o+="/");const e=await fetch(`${o}src/locales/sk.json`);e.ok&&(v=await e.json())}}}function B(){console.log("Applying translations, current language:",d);let t=0;document.querySelectorAll("[data-i18n]").forEach(e=>{const a=e.getAttribute("data-i18n"),n=w(v,a);n?(n.includes("<a ")||n.includes("<br>")||n.includes("<strong>")||n.includes("<em>")?e.innerHTML=n:e.textContent=n,t++):console.warn("Translation not found for key:",a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const a=e.getAttribute("data-i18n-placeholder"),n=w(v,a);n?(e.placeholder=n,t++):console.warn("Placeholder translation not found for key:",a)});const o=document.querySelector("title[data-i18n-title]");if(o){const e=o.getAttribute("data-i18n-title"),a=w(v,e);a?(o.textContent=a,t++):console.warn("Title translation not found for key:",e)}console.log("Applied",t,"translations")}function w(t,o){return o.split(".").reduce((e,a)=>e&&e[a]!==void 0?e[a]:e&&Array.isArray(e)&&!isNaN(a)?e[parseInt(a)]:null,t)}function N(){const t=document.querySelectorAll(".language-option");console.log("Initializing language switcher, found options:",t.length),t.forEach(e=>{const a=e.cloneNode(!0);e.parentNode.replaceChild(a,e)}),document.querySelectorAll(".language-option").forEach(e=>{e.addEventListener("click",async a=>{a.preventDefault(),a.stopPropagation();const n=e.getAttribute("data-lang");console.log("Language option clicked:",n,"Current:",d),n!==d?(console.log("Switching language from",d,"to",n),d=n,localStorage.setItem("language",d),document.documentElement.setAttribute("lang",d),await M(),B(),q()):console.log("Language already set to",d)})}),q()}function q(){const t=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",d),t.forEach(o=>{const e=o.getAttribute("data-lang");o.classList.remove("active"),e===d&&(o.classList.add("active"),console.log("Set active class on:",e))})}document.addEventListener("DOMContentLoaded",function(){D(),H(),Y(),R(),U(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&W()});function H(){const t=document.querySelectorAll(".nav-link"),o=document.querySelector(".hamburger"),e=document.querySelector(".nav-menu"),a="/droneye/";function n(s){const m=s.getAttribute("href");if(m&&m.startsWith("/")&&!m.startsWith(a)&&!m.startsWith("//")){const h=a+m.substring(1);s.setAttribute("href",h)}}t.forEach(n);const r=document.querySelector(".logo-link");if(r){const s=r.getAttribute("href");s==="/"||s===""?r.setAttribute("href",a):n(r)}const i=document.querySelector(".hero-button-secondary");i&&n(i),document.querySelectorAll('footer a[href^="/"]').forEach(n),t.forEach(s=>{s.addEventListener("click",m=>{t.forEach(h=>h.classList.remove("active")),s.classList.add("active"),e.classList.remove("active"),o.classList.remove("active")})}),o.addEventListener("click",()=>{o.classList.toggle("active"),e.classList.toggle("active"),e.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow=""});const c=document.querySelector(".mobile-menu-close");c&&c.addEventListener("click",()=>{e.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow=""}),e.addEventListener("click",s=>{(s.target===e||s.target.classList.contains("nav-menu"))&&(e.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow="")}),t.forEach(s=>{s.addEventListener("click",()=>{e.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow=""})}),document.addEventListener("click",s=>{!o.contains(s.target)&&!e.contains(s.target)&&(e.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow="")})}function W(){setTimeout(()=>{const t=document.getElementById("loading-screen");t&&(t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(o){o.preventDefault();const e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(t){t.preventDefault(),new FormData(this);const o=this.querySelector('input[type="text"]').value,e=this.querySelector('input[type="email"]').value,a=this.querySelector("textarea").value;if(!o||!e||!a){alert(v.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const n=this.querySelector("button"),r=n.textContent;n.textContent=v.contact?.form?.sending||"Odosielam...",n.disabled=!0,setTimeout(()=>{alert(v.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),n.textContent=r,n.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const o=document.querySelector(".hero");o&&o.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function Y(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,o=localStorage.getItem("theme")||(t?"dark":"light");b(o),document.querySelector(".theme-switcher")||$(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme")||b(e.matches?"dark":"light")})}function b(t){const e={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[t]||t;document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const a=document.querySelector(".theme-switcher");if(a){const r=a.querySelector(".theme-btn");if(r){r.setAttribute("data-theme",e);const i=e==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';r.innerHTML=i}a.querySelectorAll(".theme-option").forEach(i=>{i.classList.toggle("active",i.getAttribute("data-theme")===e)})}document.querySelectorAll(".footer-theme-btn").forEach(r=>{const i=r.getAttribute("data-theme");r.classList.toggle("active",i===e)}),f&&((window.pageYOffset||document.documentElement.scrollTop)>50?f.style.background="var(--footer-bg)":f.style.background="var(--navbar-bg)")}function $(){const t=document.querySelector(".nav-container");if(!t)return;const o=document.createElement("div");o.className="theme-switcher";const e=document.documentElement.getAttribute("data-theme")||"light",a='<i class="fas fa-sun"></i>',n='<i class="fas fa-moon"></i>',r=e==="dark"?n:a;o.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${e}">${r}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${n} Dark</div>
                <div class="theme-option" data-theme="light">${a} Light</div>
            </div>
        </div>
    `,t.insertBefore(o,t.firstChild);const i=o.querySelector(".theme-btn"),l=o.querySelectorAll(".theme-option");i.addEventListener("click",()=>{o.classList.toggle("active")}),l.forEach(c=>{c.addEventListener("click",()=>{const s=c.getAttribute("data-theme");b(s),o.classList.remove("active"),i.setAttribute("data-theme",s);const m=s==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';i.innerHTML=m})}),document.addEventListener("click",c=>{o.contains(c.target)||o.classList.remove("active")})}const j={threshold:.1,rootMargin:"0px 0px -50px 0px"},F=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(o.target.style.opacity="1",o.target.style.transform="translateY(0)")})},j);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",F.observe(t)});function U(){const t=document.querySelector(".services-carousel");if(!t)return;const o=t.querySelectorAll(".carousel-slide"),e=t.querySelectorAll(".carousel-tab");let a=0;const n=o.length;function r(l){o.forEach(c=>c.classList.remove("active")),e.forEach(c=>c.classList.remove("active")),o[l]&&o[l].classList.add("active"),e[l]&&e[l].classList.add("active"),a=l,i()}function i(){const l=t.querySelector(".carousel-slide.active");if(!l)return;const c=l.querySelector(".service-card-carousel");if(!c)return;const s=c.querySelector(".carousel-arrow-prev"),m=c.querySelector(".carousel-arrow-next");if(s){const h=s.cloneNode(!0);s.parentNode.replaceChild(h,s),h.addEventListener("click",()=>{const L=(a-1+n)%n;r(L)})}if(m){const h=m.cloneNode(!0);m.parentNode.replaceChild(h,m),h.addEventListener("click",()=>{const L=(a+1)%n;r(L)})}}e.forEach((l,c)=>{l.addEventListener("click",()=>{r(c)})}),document.addEventListener("keydown",l=>{if(t.closest(".page.active")){if(l.key==="ArrowLeft"){const c=(a-1+n)%n;r(c)}else if(l.key==="ArrowRight"){const c=(a+1)%n;r(c)}}}),r(0)}function R(){const t=document.querySelectorAll(".team-card");if(t.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(t.forEach(e=>{e.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const n=e.classList.contains("active");t.forEach(r=>{r.classList.remove("active")}),n||e.classList.add("active")})}),document.addEventListener("click",e=>{let a=!1;t.forEach(n=>{n.contains(e.target)&&(a=!0)}),a||t.forEach(n=>{n.classList.remove("active")})}))}let x=0,z=150,f=null;function T(){if(f=document.querySelector(".navbar"),!f)return;let t;window.addEventListener("scroll",()=>{const o=window.pageYOffset||document.documentElement.scrollTop,e=o-x;clearTimeout(t),o>50?document.documentElement.getAttribute("data-theme")==="dark"?f.style.background="var(--footer-bg)":f.style.background="var(--primary-color)":f.style.background="var(--navbar-bg)",Math.abs(e)>5&&(e>0&&o>z?f.style.transform="translateY(-100%)":e<0&&(f.style.transform="translateY(0)")),x=o},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();let u=[],p=0,g=null,y=null,E=null,k=null;function I(){const t=document.querySelectorAll(".photo-item[data-gallery]");if(g=document.getElementById("photo-lightbox"),y=document.getElementById("lightbox-image"),E=document.getElementById("lightbox-current"),k=document.getElementById("lightbox-total"),!g||!y)return;const o=document.querySelector(".photo-lightbox-close"),e=document.querySelector(".photo-lightbox-prev"),a=document.querySelector(".photo-lightbox-next");t.forEach(n=>{n.addEventListener("click",r=>{r.preventDefault();const i=n.querySelectorAll(".photo-gallery-images img");i.length!==0&&(u=Array.from(i).map(l=>({src:l.src,alt:l.alt})),p=0,G())})}),o&&o.addEventListener("click",S),g.addEventListener("click",n=>{n.target===g&&S()}),e&&e.addEventListener("click",n=>{n.stopPropagation(),C()}),a&&a.addEventListener("click",n=>{n.stopPropagation(),O()}),document.addEventListener("keydown",n=>{g.classList.contains("active")&&(n.key==="Escape"?S():n.key==="ArrowLeft"?C():n.key==="ArrowRight"&&O())})}function G(){if(!g||u.length===0)return;const t=document.querySelector(".navbar");t&&(t.style.transform="translateY(-100%)"),g.classList.add("active"),document.body.style.overflow="hidden",A()}function S(){if(!g)return;const t=document.querySelector(".navbar");t&&(t.style.transform="translateY(0)"),g.classList.remove("active"),document.body.style.overflow="",u=[],p=0}function A(){if(!y||!E||!k||u.length===0)return;const t=u[p];y.src=t.src,y.alt=t.alt,E.textContent=p+1,k.textContent=u.length;const o=document.querySelector(".photo-lightbox-prev"),e=document.querySelector(".photo-lightbox-next");o&&(o.style.display=u.length>1?"flex":"none"),e&&(e.style.display=u.length>1?"flex":"none");const a=document.querySelector(".photo-lightbox-counter");a&&(a.style.display=u.length>1?"block":"none")}function C(){u.length!==0&&(p=(p-1+u.length)%u.length,A())}function O(){u.length!==0&&(p=(p+1)%u.length,A())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",I):I();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function P(){const t=document.querySelectorAll(".footer-theme-btn");t.forEach(e=>{e.addEventListener("click",()=>{const a=e.getAttribute("data-theme");b(a)})});const o=document.documentElement.getAttribute("data-theme")||"light";t.forEach(e=>{const a=e.getAttribute("data-theme");e.classList.toggle("active",a===o)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",P):P();
//# sourceMappingURL=main-ByjLiZNO.js.map
