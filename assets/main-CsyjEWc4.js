(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();let l="sk",g={};async function N(){const o=new URLSearchParams(window.location.search).get("lang");o&&["sk","en","de"].includes(o)?(l=o,localStorage.setItem("language",l)):l=localStorage.getItem("language")||"sk",document.documentElement.setAttribute("lang",l),await M(),B(),document.documentElement.style.visibility="visible",H()}async function M(){try{const o=`/droneye/src/locales/${l}.json`;console.log("Loading translations from:",o);const e=await fetch(o);if(!e.ok)throw new Error(`Failed to load translations: ${e.status}`);g=await e.json(),console.log("Translations loaded successfully:",l)}catch(t){if(console.error("Error loading translations:",t),l!=="sk"){console.log("Falling back to Slovak translations"),l="sk";const e=await fetch("/droneye/src/locales/sk.json");e.ok&&(g=await e.json())}}}function B(){console.log("Applying translations, current language:",l);let t=0;document.querySelectorAll("[data-i18n]").forEach(e=>{const a=e.getAttribute("data-i18n"),n=w(g,a);n?(n.includes("<a ")||n.includes("<br>")||n.includes("<strong>")||n.includes("<em>")?e.innerHTML=n:e.textContent=n,t++):console.warn("Translation not found for key:",a)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const a=e.getAttribute("data-i18n-placeholder"),n=w(g,a);n?(e.placeholder=n,t++):console.warn("Placeholder translation not found for key:",a)});const o=document.querySelector("title[data-i18n-title]");if(o){const e=o.getAttribute("data-i18n-title"),a=w(g,e);a?(o.textContent=a,t++):console.warn("Title translation not found for key:",e)}console.log("Applied",t,"translations")}function w(t,o){return o.split(".").reduce((e,a)=>e&&e[a]!==void 0?e[a]:e&&Array.isArray(e)&&!isNaN(a)?e[parseInt(a)]:null,t)}async function D(t){t&&t!==l&&(console.log("Switching language from",l,"to",t),l=t,localStorage.setItem("language",l),document.documentElement.setAttribute("lang",l),await M(),B(),O())}function H(){document.addEventListener("click",async t=>{const o=t.target.closest(".language-option");if(o){t.preventDefault(),t.stopPropagation();const e=o.getAttribute("data-lang");e&&(console.log("Language option clicked:",e,"Current:",l),await D(e))}}),O()}function O(){const t=document.querySelectorAll(".language-option");console.log("Updating active language option, currentLanguage:",l),t.forEach(o=>{const e=o.getAttribute("data-lang");o.classList.remove("active"),e===l&&(o.classList.add("active"),console.log("Set active class on:",e))})}document.addEventListener("DOMContentLoaded",function(){N(),Y(),W(),z(),R(),(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/"))&&$()});function Y(){const t=document.querySelectorAll(".nav-link"),o=document.querySelector(".hamburger"),e=document.querySelector(".nav-menu"),a="/droneye/";function n(s){const d=s.getAttribute("href");if(d&&d.startsWith("/")&&!d.startsWith(a)&&!d.startsWith("//")){const m=a+d.substring(1);s.setAttribute("href",m)}}t.forEach(n);const r=document.querySelector(".logo-link");if(r){const s=r.getAttribute("href");s==="/"||s===""?r.setAttribute("href",a):n(r)}const i=document.querySelector(".hero-button-secondary");i&&n(i),document.querySelectorAll('footer a[href^="/"]').forEach(n),t.forEach(s=>{s.addEventListener("click",d=>{t.forEach(m=>m.classList.remove("active")),s.classList.add("active"),e.classList.remove("active"),o.classList.remove("active")})}),o.addEventListener("click",()=>{o.classList.toggle("active"),e.classList.toggle("active")}),document.addEventListener("click",s=>{!o.contains(s.target)&&!e.contains(s.target)&&(e.classList.remove("active"),o.classList.remove("active"))})}function $(){setTimeout(()=>{const t=document.getElementById("loading-screen");t&&(t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300))},500)}document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(o){o.preventDefault();const e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});document.querySelector(".contact-form")?.addEventListener("submit",function(t){t.preventDefault(),new FormData(this);const o=this.querySelector('input[type="text"]').value,e=this.querySelector('input[type="email"]').value,a=this.querySelector("textarea").value;if(!o||!e||!a){alert(g.contact?.form?.error||"Prosím vyplňte všetky polia.");return}const n=this.querySelector("button"),r=n.textContent;n.textContent=g.contact?.form?.sending||"Odosielam...",n.disabled=!0,setTimeout(()=>{alert(g.contact?.form?.success||"Ďakujeme za vašu správu! Čoskoro vás budeme kontaktovať."),this.reset(),n.textContent=r,n.disabled=!1},2e3)});document.getElementById("start-animation-btn")?.addEventListener("click",function(){if(!(window.location.pathname==="/"||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/")))return;const o=document.querySelector(".hero");o&&o.classList.add("hidden"),animationStarted||(animationStarted=!0,console.log("Animation started and scroll enabled!")),this.disabled=!0});function W(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,o=localStorage.getItem("theme")||(t?"dark":"light");b(o),document.querySelector(".theme-switcher")||j(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme")||b(e.matches?"dark":"light")})}function b(t){const e={"royal-blue":"light","forest-green":"light","sunset-orange":"light","deep-purple":"light","ocean-blue":"light"}[t]||t;document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const a=document.querySelector(".theme-switcher");if(a){const r=a.querySelector(".theme-btn");if(r){r.setAttribute("data-theme",e);const i=e==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';r.innerHTML=i}a.querySelectorAll(".theme-option").forEach(i=>{i.classList.toggle("active",i.getAttribute("data-theme")===e)})}document.querySelectorAll(".footer-theme-btn").forEach(r=>{const i=r.getAttribute("data-theme");r.classList.toggle("active",i===e)}),f&&((window.pageYOffset||document.documentElement.scrollTop)>50?f.style.background="var(--footer-bg)":f.style.background="var(--navbar-bg)")}function j(){const t=document.querySelector(".nav-container");if(!t)return;const o=document.createElement("div");o.className="theme-switcher";const e=document.documentElement.getAttribute("data-theme")||"light",a='<i class="fas fa-sun"></i>',n='<i class="fas fa-moon"></i>',r=e==="dark"?n:a;o.innerHTML=`
        <div class="theme-dropdown">
            <button class="theme-btn" data-theme="${e}">${r}</button>
            <div class="theme-options">
                <div class="theme-option" data-theme="dark">${n} Dark</div>
                <div class="theme-option" data-theme="light">${a} Light</div>
            </div>
        </div>
    `,t.insertBefore(o,t.firstChild);const i=o.querySelector(".theme-btn"),c=o.querySelectorAll(".theme-option");i.addEventListener("click",()=>{o.classList.toggle("active")}),c.forEach(s=>{s.addEventListener("click",()=>{const d=s.getAttribute("data-theme");b(d),o.classList.remove("active"),i.setAttribute("data-theme",d);const m=d==="dark"?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';i.innerHTML=m})}),document.addEventListener("click",s=>{o.contains(s.target)||o.classList.remove("active")})}const F={threshold:.1,rootMargin:"0px 0px -50px 0px"},U=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(o.target.style.opacity="1",o.target.style.transform="translateY(0)")})},F);document.querySelectorAll(".content-card, .service-card, .project-card, .team-card, .pricing-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",U.observe(t)});function R(){const t=document.querySelector(".services-carousel");if(!t)return;const o=t.querySelectorAll(".carousel-slide"),e=t.querySelectorAll(".carousel-tab");let a=0;const n=o.length;function r(c){o.forEach(s=>s.classList.remove("active")),e.forEach(s=>s.classList.remove("active")),o[c]&&o[c].classList.add("active"),e[c]&&e[c].classList.add("active"),a=c,i()}function i(){const c=t.querySelector(".carousel-slide.active");if(!c)return;const s=c.querySelector(".service-card-carousel");if(!s)return;const d=s.querySelector(".carousel-arrow-prev"),m=s.querySelector(".carousel-arrow-next");if(d){const p=d.cloneNode(!0);d.parentNode.replaceChild(p,d),p.addEventListener("click",()=>{const L=(a-1+n)%n;r(L)})}if(m){const p=m.cloneNode(!0);m.parentNode.replaceChild(p,m),p.addEventListener("click",()=>{const L=(a+1)%n;r(L)})}}e.forEach((c,s)=>{c.addEventListener("click",()=>{r(s)})}),document.addEventListener("keydown",c=>{if(t.closest(".page.active")){if(c.key==="ArrowLeft"){const s=(a-1+n)%n;r(s)}else if(c.key==="ArrowRight"){const s=(a+1)%n;r(s)}}}),r(0)}function z(){const t=document.querySelectorAll(".team-card");if(t.length===0)return;(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window)&&(t.forEach(e=>{e.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const n=e.classList.contains("active");t.forEach(r=>{r.classList.remove("active")}),n||e.classList.add("active")})}),document.addEventListener("click",e=>{let a=!1;t.forEach(n=>{n.contains(e.target)&&(a=!0)}),a||t.forEach(n=>{n.classList.remove("active")})}))}let q=0,G=150,f=null;function x(){if(f=document.querySelector(".navbar"),!f)return;let t;window.addEventListener("scroll",()=>{const o=window.pageYOffset||document.documentElement.scrollTop,e=o-q;clearTimeout(t),o>50?document.documentElement.getAttribute("data-theme")==="dark"?f.style.background="var(--footer-bg)":f.style.background="var(--primary-color)":f.style.background="var(--navbar-bg)",Math.abs(e)>5&&(e>0&&o>G?f.style.transform="translateY(-100%)":e<0&&(f.style.transform="translateY(0)")),q=o},{passive:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",x):x();let u=[],v=0,h=null,y=null,E=null,k=null;function T(){const t=document.querySelectorAll(".photo-item[data-gallery]");if(h=document.getElementById("photo-lightbox"),y=document.getElementById("lightbox-image"),E=document.getElementById("lightbox-current"),k=document.getElementById("lightbox-total"),!h||!y)return;const o=document.querySelector(".photo-lightbox-close"),e=document.querySelector(".photo-lightbox-prev"),a=document.querySelector(".photo-lightbox-next");t.forEach(n=>{n.addEventListener("click",r=>{r.preventDefault();const i=n.querySelectorAll(".photo-gallery-images img");i.length!==0&&(u=Array.from(i).map(c=>({src:c.src,alt:c.alt})),v=0,K())})}),o&&o.addEventListener("click",S),h.addEventListener("click",n=>{n.target===h&&S()}),e&&e.addEventListener("click",n=>{n.stopPropagation(),I()}),a&&a.addEventListener("click",n=>{n.stopPropagation(),P()}),document.addEventListener("keydown",n=>{h.classList.contains("active")&&(n.key==="Escape"?S():n.key==="ArrowLeft"?I():n.key==="ArrowRight"&&P())})}function K(){if(!h||u.length===0)return;const t=document.querySelector(".navbar");t&&(t.style.transform="translateY(-100%)"),h.classList.add("active"),document.body.style.overflow="hidden",A()}function S(){if(!h)return;const t=document.querySelector(".navbar");t&&(t.style.transform="translateY(0)"),h.classList.remove("active"),document.body.style.overflow="",u=[],v=0}function A(){if(!y||!E||!k||u.length===0)return;const t=u[v];y.src=t.src,y.alt=t.alt,E.textContent=v+1,k.textContent=u.length;const o=document.querySelector(".photo-lightbox-prev"),e=document.querySelector(".photo-lightbox-next");o&&(o.style.display=u.length>1?"flex":"none"),e&&(e.style.display=u.length>1?"flex":"none");const a=document.querySelector(".photo-lightbox-counter");a&&(a.style.display=u.length>1?"block":"none")}function I(){u.length!==0&&(v=(v-1+u.length)%u.length,A())}function P(){u.length!==0&&(v=(v+1)%u.length,A())}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();window.addEventListener("beforeunload",function(){animationId&&cancelAnimationFrame(animationId),renderer&&renderer.dispose()});function C(){const t=document.querySelectorAll(".footer-theme-btn");t.forEach(e=>{e.addEventListener("click",()=>{const a=e.getAttribute("data-theme");b(a)})});const o=document.documentElement.getAttribute("data-theme")||"light";t.forEach(e=>{const a=e.getAttribute("data-theme");e.classList.toggle("active",a===o)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",C):C();
//# sourceMappingURL=main-CsyjEWc4.js.map
